(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Fv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yl={exports:{}},Fs={},Xl={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function zv(){if(Bf)return de;Bf=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,T={};function P(C,M,ce){this.props=C,this.context=M,this.refs=T,this.updater=ce||_}P.prototype.isReactComponent={},P.prototype.setState=function(C,M){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,M,"setState")},P.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function R(){}R.prototype=P.prototype;function I(C,M,ce){this.props=C,this.context=M,this.refs=T,this.updater=ce||_}var j=I.prototype=new R;j.constructor=I,k(j,P.prototype),j.isPureReactComponent=!0;var U=Array.isArray,H=Object.prototype.hasOwnProperty,K={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function F(C,M,ce){var he,me={},ge=null,Se=null;if(M!=null)for(he in M.ref!==void 0&&(Se=M.ref),M.key!==void 0&&(ge=""+M.key),M)H.call(M,he)&&!W.hasOwnProperty(he)&&(me[he]=M[he]);var xe=arguments.length-2;if(xe===1)me.children=ce;else if(1<xe){for(var Pe=Array(xe),xt=0;xt<xe;xt++)Pe[xt]=arguments[xt+2];me.children=Pe}if(C&&C.defaultProps)for(he in xe=C.defaultProps,xe)me[he]===void 0&&(me[he]=xe[he]);return{$$typeof:t,type:C,key:ge,ref:Se,props:me,_owner:K.current}}function le(C,M){return{$$typeof:t,type:C.type,key:M,ref:C.ref,props:C.props,_owner:C._owner}}function we(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function Ve(C){var M={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ce){return M[ce]})}var Ge=/\/+/g;function ze(C,M){return typeof C=="object"&&C!==null&&C.key!=null?Ve(""+C.key):M.toString(36)}function rt(C,M,ce,he,me){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var Se=!1;if(C===null)Se=!0;else switch(ge){case"string":case"number":Se=!0;break;case"object":switch(C.$$typeof){case t:case e:Se=!0}}if(Se)return Se=C,me=me(Se),C=he===""?"."+ze(Se,0):he,U(me)?(ce="",C!=null&&(ce=C.replace(Ge,"$&/")+"/"),rt(me,M,ce,"",function(xt){return xt})):me!=null&&(we(me)&&(me=le(me,ce+(!me.key||Se&&Se.key===me.key?"":(""+me.key).replace(Ge,"$&/")+"/")+C)),M.push(me)),1;if(Se=0,he=he===""?".":he+":",U(C))for(var xe=0;xe<C.length;xe++){ge=C[xe];var Pe=he+ze(ge,xe);Se+=rt(ge,M,ce,Pe,me)}else if(Pe=w(C),typeof Pe=="function")for(C=Pe.call(C),xe=0;!(ge=C.next()).done;)ge=ge.value,Pe=he+ze(ge,xe++),Se+=rt(ge,M,ce,Pe,me);else if(ge==="object")throw M=String(C),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Se}function te(C,M,ce){if(C==null)return C;var he=[],me=0;return rt(C,he,"","",function(ge){return M.call(ce,ge,me++)}),he}function fe(C){if(C._status===-1){var M=C._result;M=M(),M.then(function(ce){(C._status===0||C._status===-1)&&(C._status=1,C._result=ce)},function(ce){(C._status===0||C._status===-1)&&(C._status=2,C._result=ce)}),C._status===-1&&(C._status=0,C._result=M)}if(C._status===1)return C._result.default;throw C._result}var ae={current:null},B={transition:null},J={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:B,ReactCurrentOwner:K};function q(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:te,forEach:function(C,M,ce){te(C,function(){M.apply(this,arguments)},ce)},count:function(C){var M=0;return te(C,function(){M++}),M},toArray:function(C){return te(C,function(M){return M})||[]},only:function(C){if(!we(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},de.Component=P,de.Fragment=r,de.Profiler=a,de.PureComponent=I,de.StrictMode=i,de.Suspense=f,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,de.act=q,de.cloneElement=function(C,M,ce){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var he=k({},C.props),me=C.key,ge=C.ref,Se=C._owner;if(M!=null){if(M.ref!==void 0&&(ge=M.ref,Se=K.current),M.key!==void 0&&(me=""+M.key),C.type&&C.type.defaultProps)var xe=C.type.defaultProps;for(Pe in M)H.call(M,Pe)&&!W.hasOwnProperty(Pe)&&(he[Pe]=M[Pe]===void 0&&xe!==void 0?xe[Pe]:M[Pe])}var Pe=arguments.length-2;if(Pe===1)he.children=ce;else if(1<Pe){xe=Array(Pe);for(var xt=0;xt<Pe;xt++)xe[xt]=arguments[xt+2];he.children=xe}return{$$typeof:t,type:C.type,key:me,ref:ge,props:he,_owner:Se}},de.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},de.createElement=F,de.createFactory=function(C){var M=F.bind(null,C);return M.type=C,M},de.createRef=function(){return{current:null}},de.forwardRef=function(C){return{$$typeof:h,render:C}},de.isValidElement=we,de.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:fe}},de.memo=function(C,M){return{$$typeof:m,type:C,compare:M===void 0?null:M}},de.startTransition=function(C){var M=B.transition;B.transition={};try{C()}finally{B.transition=M}},de.unstable_act=q,de.useCallback=function(C,M){return ae.current.useCallback(C,M)},de.useContext=function(C){return ae.current.useContext(C)},de.useDebugValue=function(){},de.useDeferredValue=function(C){return ae.current.useDeferredValue(C)},de.useEffect=function(C,M){return ae.current.useEffect(C,M)},de.useId=function(){return ae.current.useId()},de.useImperativeHandle=function(C,M,ce){return ae.current.useImperativeHandle(C,M,ce)},de.useInsertionEffect=function(C,M){return ae.current.useInsertionEffect(C,M)},de.useLayoutEffect=function(C,M){return ae.current.useLayoutEffect(C,M)},de.useMemo=function(C,M){return ae.current.useMemo(C,M)},de.useReducer=function(C,M,ce){return ae.current.useReducer(C,M,ce)},de.useRef=function(C){return ae.current.useRef(C)},de.useState=function(C){return ae.current.useState(C)},de.useSyncExternalStore=function(C,M,ce){return ae.current.useSyncExternalStore(C,M,ce)},de.useTransition=function(){return ae.current.useTransition()},de.version="18.3.1",de}var Ff;function ic(){return Ff||(Ff=1,Xl.exports=zv()),Xl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function Wv(){if(zf)return Fs;zf=1;var t=ic(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var g,v={},w=null,_=null;m!==void 0&&(w=""+m),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(_=f.ref);for(g in f)i.call(f,g)&&!l.hasOwnProperty(g)&&(v[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:h,key:w,ref:_,props:v,_owner:a.current}}return Fs.Fragment=r,Fs.jsx=c,Fs.jsxs=c,Fs}var Wf;function Hv(){return Wf||(Wf=1,Yl.exports=Wv()),Yl.exports}var x=Hv(),D=ic();const Kv=Fv(D);var Eo={},Ql={exports:{}},vt={},Zl={exports:{}},eu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function qv(){return Hf||(Hf=1,(function(t){function e(B,J){var q=B.length;B.push(J);e:for(;0<q;){var C=q-1>>>1,M=B[C];if(0<a(M,J))B[C]=J,B[q]=M,q=C;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var J=B[0],q=B.pop();if(q!==J){B[0]=q;e:for(var C=0,M=B.length,ce=M>>>1;C<ce;){var he=2*(C+1)-1,me=B[he],ge=he+1,Se=B[ge];if(0>a(me,q))ge<M&&0>a(Se,me)?(B[C]=Se,B[ge]=q,C=ge):(B[C]=me,B[he]=q,C=he);else if(ge<M&&0>a(Se,q))B[C]=Se,B[ge]=q,C=ge;else break e}}return J}function a(B,J){var q=B.sortIndex-J.sortIndex;return q!==0?q:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],m=[],g=1,v=null,w=3,_=!1,k=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(B){for(var J=r(m);J!==null;){if(J.callback===null)i(m);else if(J.startTime<=B)i(m),J.sortIndex=J.expirationTime,e(f,J);else break;J=r(m)}}function U(B){if(T=!1,j(B),!k)if(r(f)!==null)k=!0,fe(H);else{var J=r(m);J!==null&&ae(U,J.startTime-B)}}function H(B,J){k=!1,T&&(T=!1,R(F),F=-1),_=!0;var q=w;try{for(j(J),v=r(f);v!==null&&(!(v.expirationTime>J)||B&&!Ve());){var C=v.callback;if(typeof C=="function"){v.callback=null,w=v.priorityLevel;var M=C(v.expirationTime<=J);J=t.unstable_now(),typeof M=="function"?v.callback=M:v===r(f)&&i(f),j(J)}else i(f);v=r(f)}if(v!==null)var ce=!0;else{var he=r(m);he!==null&&ae(U,he.startTime-J),ce=!1}return ce}finally{v=null,w=q,_=!1}}var K=!1,W=null,F=-1,le=5,we=-1;function Ve(){return!(t.unstable_now()-we<le)}function Ge(){if(W!==null){var B=t.unstable_now();we=B;var J=!0;try{J=W(!0,B)}finally{J?ze():(K=!1,W=null)}}else K=!1}var ze;if(typeof I=="function")ze=function(){I(Ge)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,te=rt.port2;rt.port1.onmessage=Ge,ze=function(){te.postMessage(null)}}else ze=function(){P(Ge,0)};function fe(B){W=B,K||(K=!0,ze())}function ae(B,J){F=P(function(){B(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){k||_||(k=!0,fe(H))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(B){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var q=w;w=J;try{return B()}finally{w=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=w;w=B;try{return J()}finally{w=q}},t.unstable_scheduleCallback=function(B,J,q){var C=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?C+q:C):q=C,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=q+M,B={id:g++,callback:J,priorityLevel:B,startTime:q,expirationTime:M,sortIndex:-1},q>C?(B.sortIndex=q,e(m,B),r(f)===null&&B===r(m)&&(T?(R(F),F=-1):T=!0,ae(U,q-C))):(B.sortIndex=M,e(f,B),k||_||(k=!0,fe(H))),B},t.unstable_shouldYield=Ve,t.unstable_wrapCallback=function(B){var J=w;return function(){var q=w;w=J;try{return B.apply(this,arguments)}finally{w=q}}}})(eu)),eu}var Kf;function Gv(){return Kf||(Kf=1,Zl.exports=qv()),Zl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function Jv(){if(qf)return vt;qf=1;var t=ic(),e=Gv();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(n){return f.call(v,n)?!0:f.call(g,n)?!1:m.test(n)?v[n]=!0:(g[n]=!0,!1)}function _(n,s,o,u){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,s,o,u){if(s===null||typeof s>"u"||_(n,s,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function T(n,s,o,u,d,p,y){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=p,this.removeEmptyString=y}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){P[n]=new T(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];P[s]=new T(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){P[n]=new T(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){P[n]=new T(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){P[n]=new T(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){P[n]=new T(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){P[n]=new T(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){P[n]=new T(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){P[n]=new T(n,5,!1,n.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(R,I);P[s]=new T(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(R,I);P[s]=new T(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(R,I);P[s]=new T(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){P[n]=new T(n,1,!1,n.toLowerCase(),null,!1,!1)}),P.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){P[n]=new T(n,1,!1,n.toLowerCase(),null,!0,!0)});function j(n,s,o,u){var d=P.hasOwnProperty(s)?P[s]:null;(d!==null?d.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,o,d,u)&&(o=null),u||d===null?w(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):d.mustUseProperty?n[d.propertyName]=o===null?d.type===3?!1:"":o:(s=d.attributeName,u=d.attributeNamespace,o===null?n.removeAttribute(s):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?n.setAttributeNS(u,s,o):n.setAttribute(s,o))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),K=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),B=Symbol.iterator;function J(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var q=Object.assign,C;function M(n){if(C===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);C=s&&s[1]||""}return`
`+C+n}var ce=!1;function he(n,s){if(!n||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(O){var u=O}Reflect.construct(n,[],s)}else{try{s.call()}catch(O){u=O}n.call(s.prototype)}else{try{throw Error()}catch(O){u=O}n()}}catch(O){if(O&&u&&typeof O.stack=="string"){for(var d=O.stack.split(`
`),p=u.stack.split(`
`),y=d.length-1,S=p.length-1;1<=y&&0<=S&&d[y]!==p[S];)S--;for(;1<=y&&0<=S;y--,S--)if(d[y]!==p[S]){if(y!==1||S!==1)do if(y--,S--,0>S||d[y]!==p[S]){var b=`
`+d[y].replace(" at new "," at ");return n.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",n.displayName)),b}while(1<=y&&0<=S);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?M(n):""}function me(n){switch(n.tag){case 5:return M(n.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return n=he(n.type,!1),n;case 11:return n=he(n.type.render,!1),n;case 1:return n=he(n.type,!0),n;default:return""}}function ge(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case K:return"Portal";case le:return"Profiler";case F:return"StrictMode";case ze:return"Suspense";case rt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ve:return(n.displayName||"Context")+".Consumer";case we:return(n._context.displayName||"Context")+".Provider";case Ge:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case te:return s=n.displayName||null,s!==null?s:ge(n.type)||"Memo";case fe:s=n._payload,n=n._init;try{return ge(n(s))}catch{}}return null}function Se(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(s);case 8:return s===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function xe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xt(n){var s=Pe(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function mi(n){n._valueTracker||(n._valueTracker=xt(n))}function Kc(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Pe(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function gi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ra(n,s){var o=s.checked;return q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function qc(n,s){var o=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;o=xe(s.value!=null?s.value:o),n._wrapperState={initialChecked:u,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Gc(n,s){s=s.checked,s!=null&&j(n,"checked",s,!1)}function sa(n,s){Gc(n,s);var o=xe(s.value),u=s.type;if(o!=null)u==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?ia(n,s.type,o):s.hasOwnProperty("defaultValue")&&ia(n,s.type,xe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Jc(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function ia(n,s,o){(s!=="number"||gi(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var rs=Array.isArray;function hr(n,s,o,u){if(n=n.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=s.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&u&&(n[o].defaultSelected=!0)}else{for(o=""+xe(o),s=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function oa(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Yc(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(r(92));if(rs(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:xe(o)}}function Xc(n,s){var o=xe(s.value),u=xe(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),u!=null&&(n.defaultValue=""+u)}function Qc(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Zc(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aa(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Zc(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var yi,ed=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,u,d){MSApp.execUnsafeLocalFunction(function(){return n(s,o,u,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(yi=yi||document.createElement("div"),yi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=yi.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function ss(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ky=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(n){Ky.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),is[s]=is[n]})});function td(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||is.hasOwnProperty(n)&&is[n]?(""+s).trim():s+"px"}function nd(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=td(o,s[o],u);o==="float"&&(o="cssFloat"),u?n.setProperty(o,d):n[o]=d}}var qy=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(n,s){if(s){if(qy[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function ua(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=null;function da(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ha=null,fr=null,pr=null;function rd(n){if(n=Cs(n)){if(typeof ha!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Ui(s),ha(n.stateNode,n.type,s))}}function sd(n){fr?pr?pr.push(n):pr=[n]:fr=n}function id(){if(fr){var n=fr,s=pr;if(pr=fr=null,rd(n),s)for(n=0;n<s.length;n++)rd(s[n])}}function od(n,s){return n(s)}function ad(){}var fa=!1;function ld(n,s,o){if(fa)return n(s,o);fa=!0;try{return od(n,s,o)}finally{fa=!1,(fr!==null||pr!==null)&&(ad(),id())}}function os(n,s){var o=n.stateNode;if(o===null)return null;var u=Ui(o);if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var pa=!1;if(h)try{var as={};Object.defineProperty(as,"passive",{get:function(){pa=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{pa=!1}function Gy(n,s,o,u,d,p,y,S,b){var O=Array.prototype.slice.call(arguments,3);try{s.apply(o,O)}catch($){this.onError($)}}var ls=!1,vi=null,wi=!1,ma=null,Jy={onError:function(n){ls=!0,vi=n}};function Yy(n,s,o,u,d,p,y,S,b){ls=!1,vi=null,Gy.apply(Jy,arguments)}function Xy(n,s,o,u,d,p,y,S,b){if(Yy.apply(this,arguments),ls){if(ls){var O=vi;ls=!1,vi=null}else throw Error(r(198));wi||(wi=!0,ma=O)}}function Fn(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function ud(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function cd(n){if(Fn(n)!==n)throw Error(r(188))}function Qy(n){var s=n.alternate;if(!s){if(s=Fn(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return cd(d),n;if(p===u)return cd(d),s;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=p;else{for(var y=!1,S=d.child;S;){if(S===o){y=!0,o=d,u=p;break}if(S===u){y=!0,u=d,o=p;break}S=S.sibling}if(!y){for(S=p.child;S;){if(S===o){y=!0,o=p,u=d;break}if(S===u){y=!0,u=p,o=d;break}S=S.sibling}if(!y)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function dd(n){return n=Qy(n),n!==null?hd(n):null}function hd(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=hd(n);if(s!==null)return s;n=n.sibling}return null}var fd=e.unstable_scheduleCallback,pd=e.unstable_cancelCallback,Zy=e.unstable_shouldYield,e0=e.unstable_requestPaint,Me=e.unstable_now,t0=e.unstable_getCurrentPriorityLevel,ga=e.unstable_ImmediatePriority,md=e.unstable_UserBlockingPriority,xi=e.unstable_NormalPriority,n0=e.unstable_LowPriority,gd=e.unstable_IdlePriority,_i=null,Jt=null;function r0(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(_i,n,void 0,(n.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:o0,s0=Math.log,i0=Math.LN2;function o0(n){return n>>>=0,n===0?32:31-(s0(n)/i0|0)|0}var Si=64,ki=4194304;function us(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function bi(n,s){var o=n.pendingLanes;if(o===0)return 0;var u=0,d=n.suspendedLanes,p=n.pingedLanes,y=o&268435455;if(y!==0){var S=y&~d;S!==0?u=us(S):(p&=y,p!==0&&(u=us(p)))}else y=o&~d,y!==0?u=us(y):p!==0&&(u=us(p));if(u===0)return 0;if(s!==0&&s!==u&&(s&d)===0&&(d=u&-u,p=s&-s,d>=p||d===16&&(p&4194240)!==0))return s;if((u&4)!==0&&(u|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=u;0<s;)o=31-Mt(s),d=1<<o,u|=n[o],s&=~d;return u}function a0(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l0(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var y=31-Mt(p),S=1<<y,b=d[y];b===-1?((S&o)===0||(S&u)!==0)&&(d[y]=a0(S,s)):b<=s&&(n.expiredLanes|=S),p&=~S}}function ya(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yd(){var n=Si;return Si<<=1,(Si&4194240)===0&&(Si=64),n}function va(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function cs(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Mt(s),n[s]=o}function u0(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<o;){var d=31-Mt(o),p=1<<d;s[d]=0,u[d]=-1,n[d]=-1,o&=~p}}function wa(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Mt(o),d=1<<u;d&s|n[u]&s&&(n[u]|=s),o&=~d}}var _e=0;function vd(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var wd,xa,xd,_d,Sd,_a=!1,Ti=[],mn=null,gn=null,yn=null,ds=new Map,hs=new Map,vn=[],c0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(n,s){switch(n){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":ds.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(s.pointerId)}}function fs(n,s,o,u,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Cs(s),s!==null&&xa(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function d0(n,s,o,u,d){switch(s){case"focusin":return mn=fs(mn,n,s,o,u,d),!0;case"dragenter":return gn=fs(gn,n,s,o,u,d),!0;case"mouseover":return yn=fs(yn,n,s,o,u,d),!0;case"pointerover":var p=d.pointerId;return ds.set(p,fs(ds.get(p)||null,n,s,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,hs.set(p,fs(hs.get(p)||null,n,s,o,u,d)),!0}return!1}function bd(n){var s=zn(n.target);if(s!==null){var o=Fn(s);if(o!==null){if(s=o.tag,s===13){if(s=ud(o),s!==null){n.blockedOn=s,Sd(n.priority,function(){xd(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ei(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=ka(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);ca=u,o.target.dispatchEvent(u),ca=null}else return s=Cs(o),s!==null&&xa(s),n.blockedOn=o,!1;s.shift()}return!0}function Td(n,s,o){Ei(n)&&o.delete(s)}function h0(){_a=!1,mn!==null&&Ei(mn)&&(mn=null),gn!==null&&Ei(gn)&&(gn=null),yn!==null&&Ei(yn)&&(yn=null),ds.forEach(Td),hs.forEach(Td)}function ps(n,s){n.blockedOn===s&&(n.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,h0)))}function ms(n){function s(d){return ps(d,n)}if(0<Ti.length){ps(Ti[0],n);for(var o=1;o<Ti.length;o++){var u=Ti[o];u.blockedOn===n&&(u.blockedOn=null)}}for(mn!==null&&ps(mn,n),gn!==null&&ps(gn,n),yn!==null&&ps(yn,n),ds.forEach(s),hs.forEach(s),o=0;o<vn.length;o++)u=vn[o],u.blockedOn===n&&(u.blockedOn=null);for(;0<vn.length&&(o=vn[0],o.blockedOn===null);)bd(o),o.blockedOn===null&&vn.shift()}var mr=U.ReactCurrentBatchConfig,Ci=!0;function f0(n,s,o,u){var d=_e,p=mr.transition;mr.transition=null;try{_e=1,Sa(n,s,o,u)}finally{_e=d,mr.transition=p}}function p0(n,s,o,u){var d=_e,p=mr.transition;mr.transition=null;try{_e=4,Sa(n,s,o,u)}finally{_e=d,mr.transition=p}}function Sa(n,s,o,u){if(Ci){var d=ka(n,s,o,u);if(d===null)Ua(n,s,u,Pi,o),kd(n,u);else if(d0(d,n,s,o,u))u.stopPropagation();else if(kd(n,u),s&4&&-1<c0.indexOf(n)){for(;d!==null;){var p=Cs(d);if(p!==null&&wd(p),p=ka(n,s,o,u),p===null&&Ua(n,s,u,Pi,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Ua(n,s,u,null,o)}}var Pi=null;function ka(n,s,o,u){if(Pi=null,n=da(u),n=zn(n),n!==null)if(s=Fn(n),s===null)n=null;else if(o=s.tag,o===13){if(n=ud(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Pi=n,null}function Ed(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t0()){case ga:return 1;case md:return 4;case xi:case n0:return 16;case gd:return 536870912;default:return 16}default:return 16}}var wn=null,ba=null,Ai=null;function Cd(){if(Ai)return Ai;var n,s=ba,o=s.length,u,d="value"in wn?wn.value:wn.textContent,p=d.length;for(n=0;n<o&&s[n]===d[n];n++);var y=o-n;for(u=1;u<=y&&s[o-u]===d[p-u];u++);return Ai=d.slice(n,1<u?1-u:void 0)}function Ri(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ji(){return!0}function Pd(){return!1}function _t(n){function s(o,u,d,p,y){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ji:Pd,this.isPropagationStopped=Pd,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),s}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=_t(gr),gs=q({},gr,{view:0,detail:0}),m0=_t(gs),Ea,Ca,ys,Ni=q({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ys&&(ys&&n.type==="mousemove"?(Ea=n.screenX-ys.screenX,Ca=n.screenY-ys.screenY):Ca=Ea=0,ys=n),Ea)},movementY:function(n){return"movementY"in n?n.movementY:Ca}}),Ad=_t(Ni),g0=q({},Ni,{dataTransfer:0}),y0=_t(g0),v0=q({},gs,{relatedTarget:0}),Pa=_t(v0),w0=q({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=_t(w0),_0=q({},gr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),S0=_t(_0),k0=q({},gr,{data:0}),Rd=_t(k0),b0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=E0[n])?!!s[n]:!1}function Aa(){return C0}var P0=q({},gs,{key:function(n){if(n.key){var s=b0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ri(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?T0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(n){return n.type==="keypress"?Ri(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ri(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),A0=_t(P0),R0=q({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jd=_t(R0),j0=q({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),N0=_t(j0),O0=q({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),I0=_t(O0),D0=q({},Ni,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),L0=_t(D0),M0=[9,13,27,32],Ra=h&&"CompositionEvent"in window,vs=null;h&&"documentMode"in document&&(vs=document.documentMode);var $0=h&&"TextEvent"in window&&!vs,Nd=h&&(!Ra||vs&&8<vs&&11>=vs),Od=" ",Id=!1;function Dd(n,s){switch(n){case"keyup":return M0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var yr=!1;function V0(n,s){switch(n){case"compositionend":return Ld(s);case"keypress":return s.which!==32?null:(Id=!0,Od);case"textInput":return n=s.data,n===Od&&Id?null:n;default:return null}}function U0(n,s){if(yr)return n==="compositionend"||!Ra&&Dd(n,s)?(n=Cd(),Ai=ba=wn=null,yr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Nd&&s.locale!=="ko"?null:s.data;default:return null}}var B0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!B0[n.type]:s==="textarea"}function $d(n,s,o,u){sd(u),s=Mi(s,"onChange"),0<s.length&&(o=new Ta("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var ws=null,xs=null;function F0(n){nh(n,0)}function Oi(n){var s=Sr(n);if(Kc(s))return n}function z0(n,s){if(n==="change")return s}var Vd=!1;if(h){var ja;if(h){var Na="oninput"in document;if(!Na){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Na=typeof Ud.oninput=="function"}ja=Na}else ja=!1;Vd=ja&&(!document.documentMode||9<document.documentMode)}function Bd(){ws&&(ws.detachEvent("onpropertychange",Fd),xs=ws=null)}function Fd(n){if(n.propertyName==="value"&&Oi(xs)){var s=[];$d(s,xs,n,da(n)),ld(F0,s)}}function W0(n,s,o){n==="focusin"?(Bd(),ws=s,xs=o,ws.attachEvent("onpropertychange",Fd)):n==="focusout"&&Bd()}function H0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Oi(xs)}function K0(n,s){if(n==="click")return Oi(s)}function q0(n,s){if(n==="input"||n==="change")return Oi(s)}function G0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var $t=typeof Object.is=="function"?Object.is:G0;function _s(n,s){if($t(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!f.call(s,d)||!$t(n[d],s[d]))return!1}return!0}function zd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wd(n,s){var o=zd(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=zd(o)}}function Hd(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Hd(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Kd(){for(var n=window,s=gi();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=gi(n.document)}return s}function Oa(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function J0(n){var s=Kd(),o=n.focusedElem,u=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&Hd(o.ownerDocument.documentElement,o)){if(u!==null&&Oa(o)){if(s=u.start,n=u.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=o.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!n.extend&&p>u&&(d=u,u=p,p=d),d=Wd(o,p);var y=Wd(o,u);d&&y&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==y.node||n.focusOffset!==y.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),p>u?(n.addRange(s),n.extend(y.node,y.offset)):(s.setEnd(y.node,y.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Y0=h&&"documentMode"in document&&11>=document.documentMode,vr=null,Ia=null,Ss=null,Da=!1;function qd(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Da||vr==null||vr!==gi(u)||(u=vr,"selectionStart"in u&&Oa(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ss&&_s(Ss,u)||(Ss=u,u=Mi(Ia,"onSelect"),0<u.length&&(s=new Ta("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=vr)))}function Ii(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var wr={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},La={},Gd={};h&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Di(n){if(La[n])return La[n];if(!wr[n])return n;var s=wr[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Gd)return La[n]=s[o];return n}var Jd=Di("animationend"),Yd=Di("animationiteration"),Xd=Di("animationstart"),Qd=Di("transitionend"),Zd=new Map,eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(n,s){Zd.set(n,s),l(s,[n])}for(var Ma=0;Ma<eh.length;Ma++){var $a=eh[Ma],X0=$a.toLowerCase(),Q0=$a[0].toUpperCase()+$a.slice(1);xn(X0,"on"+Q0)}xn(Jd,"onAnimationEnd"),xn(Yd,"onAnimationIteration"),xn(Xd,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Qd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function th(n,s,o){var u=n.type||"unknown-event";n.currentTarget=o,Xy(u,s,void 0,n),n.currentTarget=null}function nh(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],d=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var y=u.length-1;0<=y;y--){var S=u[y],b=S.instance,O=S.currentTarget;if(S=S.listener,b!==p&&d.isPropagationStopped())break e;th(d,S,O),p=b}else for(y=0;y<u.length;y++){if(S=u[y],b=S.instance,O=S.currentTarget,S=S.listener,b!==p&&d.isPropagationStopped())break e;th(d,S,O),p=b}}}if(wi)throw n=ma,wi=!1,ma=null,n}function Te(n,s){var o=s[Ka];o===void 0&&(o=s[Ka]=new Set);var u=n+"__bubble";o.has(u)||(rh(s,n,2,!1),o.add(u))}function Va(n,s,o){var u=0;s&&(u|=4),rh(o,n,u,s)}var Li="_reactListening"+Math.random().toString(36).slice(2);function bs(n){if(!n[Li]){n[Li]=!0,i.forEach(function(o){o!=="selectionchange"&&(Z0.has(o)||Va(o,!1,n),Va(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Li]||(s[Li]=!0,Va("selectionchange",!1,s))}}function rh(n,s,o,u){switch(Ed(s)){case 1:var d=f0;break;case 4:d=p0;break;default:d=Sa}o=d.bind(null,s,o,n),d=void 0,!pa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(s,o,{capture:!0,passive:d}):n.addEventListener(s,o,!0):d!==void 0?n.addEventListener(s,o,{passive:d}):n.addEventListener(s,o,!1)}function Ua(n,s,o,u,d){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var S=u.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(y===4)for(y=u.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;y=y.return}for(;S!==null;){if(y=zn(S),y===null)return;if(b=y.tag,b===5||b===6){u=p=y;continue e}S=S.parentNode}}u=u.return}ld(function(){var O=p,$=da(o),V=[];e:{var L=Zd.get(n);if(L!==void 0){var G=Ta,Q=n;switch(n){case"keypress":if(Ri(o)===0)break e;case"keydown":case"keyup":G=A0;break;case"focusin":Q="focus",G=Pa;break;case"focusout":Q="blur",G=Pa;break;case"beforeblur":case"afterblur":G=Pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=N0;break;case Jd:case Yd:case Xd:G=x0;break;case Qd:G=I0;break;case"scroll":G=m0;break;case"wheel":G=L0;break;case"copy":case"cut":case"paste":G=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=jd}var Z=(s&4)!==0,$e=!Z&&n==="scroll",A=Z?L!==null?L+"Capture":null:L;Z=[];for(var E=O,N;E!==null;){N=E;var z=N.stateNode;if(N.tag===5&&z!==null&&(N=z,A!==null&&(z=os(E,A),z!=null&&Z.push(Ts(E,z,N)))),$e)break;E=E.return}0<Z.length&&(L=new G(L,Q,null,o,$),V.push({event:L,listeners:Z}))}}if((s&7)===0){e:{if(L=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",L&&o!==ca&&(Q=o.relatedTarget||o.fromElement)&&(zn(Q)||Q[nn]))break e;if((G||L)&&(L=$.window===$?$:(L=$.ownerDocument)?L.defaultView||L.parentWindow:window,G?(Q=o.relatedTarget||o.toElement,G=O,Q=Q?zn(Q):null,Q!==null&&($e=Fn(Q),Q!==$e||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(G=null,Q=O),G!==Q)){if(Z=Ad,z="onMouseLeave",A="onMouseEnter",E="mouse",(n==="pointerout"||n==="pointerover")&&(Z=jd,z="onPointerLeave",A="onPointerEnter",E="pointer"),$e=G==null?L:Sr(G),N=Q==null?L:Sr(Q),L=new Z(z,E+"leave",G,o,$),L.target=$e,L.relatedTarget=N,z=null,zn($)===O&&(Z=new Z(A,E+"enter",Q,o,$),Z.target=N,Z.relatedTarget=$e,z=Z),$e=z,G&&Q)t:{for(Z=G,A=Q,E=0,N=Z;N;N=xr(N))E++;for(N=0,z=A;z;z=xr(z))N++;for(;0<E-N;)Z=xr(Z),E--;for(;0<N-E;)A=xr(A),N--;for(;E--;){if(Z===A||A!==null&&Z===A.alternate)break t;Z=xr(Z),A=xr(A)}Z=null}else Z=null;G!==null&&sh(V,L,G,Z,!1),Q!==null&&$e!==null&&sh(V,$e,Q,Z,!0)}}e:{if(L=O?Sr(O):window,G=L.nodeName&&L.nodeName.toLowerCase(),G==="select"||G==="input"&&L.type==="file")var ee=z0;else if(Md(L))if(Vd)ee=q0;else{ee=H0;var re=W0}else(G=L.nodeName)&&G.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(ee=K0);if(ee&&(ee=ee(n,O))){$d(V,ee,o,$);break e}re&&re(n,L,O),n==="focusout"&&(re=L._wrapperState)&&re.controlled&&L.type==="number"&&ia(L,"number",L.value)}switch(re=O?Sr(O):window,n){case"focusin":(Md(re)||re.contentEditable==="true")&&(vr=re,Ia=O,Ss=null);break;case"focusout":Ss=Ia=vr=null;break;case"mousedown":Da=!0;break;case"contextmenu":case"mouseup":case"dragend":Da=!1,qd(V,o,$);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":qd(V,o,$)}var se;if(Ra)e:{switch(n){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else yr?Dd(n,o)&&(ue="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ue="onCompositionStart");ue&&(Nd&&o.locale!=="ko"&&(yr||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&yr&&(se=Cd()):(wn=$,ba="value"in wn?wn.value:wn.textContent,yr=!0)),re=Mi(O,ue),0<re.length&&(ue=new Rd(ue,n,null,o,$),V.push({event:ue,listeners:re}),se?ue.data=se:(se=Ld(o),se!==null&&(ue.data=se)))),(se=$0?V0(n,o):U0(n,o))&&(O=Mi(O,"onBeforeInput"),0<O.length&&($=new Rd("onBeforeInput","beforeinput",null,o,$),V.push({event:$,listeners:O}),$.data=se))}nh(V,s)})}function Ts(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Mi(n,s){for(var o=s+"Capture",u=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=os(n,o),p!=null&&u.unshift(Ts(n,p,d)),p=os(n,s),p!=null&&u.push(Ts(n,p,d))),n=n.return}return u}function xr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function sh(n,s,o,u,d){for(var p=s._reactName,y=[];o!==null&&o!==u;){var S=o,b=S.alternate,O=S.stateNode;if(b!==null&&b===u)break;S.tag===5&&O!==null&&(S=O,d?(b=os(o,p),b!=null&&y.unshift(Ts(o,b,S))):d||(b=os(o,p),b!=null&&y.push(Ts(o,b,S)))),o=o.return}y.length!==0&&n.push({event:s,listeners:y})}var ev=/\r\n?/g,tv=/\u0000|\uFFFD/g;function ih(n){return(typeof n=="string"?n:""+n).replace(ev,`
`).replace(tv,"")}function $i(n,s,o){if(s=ih(s),ih(n)!==s&&o)throw Error(r(425))}function Vi(){}var Ba=null,Fa=null;function za(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wa=typeof setTimeout=="function"?setTimeout:void 0,nv=typeof clearTimeout=="function"?clearTimeout:void 0,oh=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof oh<"u"?function(n){return oh.resolve(null).then(n).catch(sv)}:Wa;function sv(n){setTimeout(function(){throw n})}function Ha(n,s){var o=s,u=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){n.removeChild(d),ms(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);ms(s)}function _n(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function ah(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var _r=Math.random().toString(36).slice(2),Yt="__reactFiber$"+_r,Es="__reactProps$"+_r,nn="__reactContainer$"+_r,Ka="__reactEvents$"+_r,iv="__reactListeners$"+_r,ov="__reactHandles$"+_r;function zn(n){var s=n[Yt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[nn]||o[Yt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=ah(n);n!==null;){if(o=n[Yt])return o;n=ah(n)}return s}n=o,o=n.parentNode}return null}function Cs(n){return n=n[Yt]||n[nn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Sr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Ui(n){return n[Es]||null}var qa=[],kr=-1;function Sn(n){return{current:n}}function Ee(n){0>kr||(n.current=qa[kr],qa[kr]=null,kr--)}function ke(n,s){kr++,qa[kr]=n.current,n.current=s}var kn={},st=Sn(kn),ft=Sn(!1),Wn=kn;function br(n,s){var o=n.type.contextTypes;if(!o)return kn;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=s[p];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function pt(n){return n=n.childContextTypes,n!=null}function Bi(){Ee(ft),Ee(st)}function lh(n,s,o){if(st.current!==kn)throw Error(r(168));ke(st,s),ke(ft,o)}function uh(n,s,o){var u=n.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in s))throw Error(r(108,Se(n)||"Unknown",d));return q({},o,u)}function Fi(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||kn,Wn=st.current,ke(st,n),ke(ft,ft.current),!0}function ch(n,s,o){var u=n.stateNode;if(!u)throw Error(r(169));o?(n=uh(n,s,Wn),u.__reactInternalMemoizedMergedChildContext=n,Ee(ft),Ee(st),ke(st,n)):Ee(ft),ke(ft,o)}var rn=null,zi=!1,Ga=!1;function dh(n){rn===null?rn=[n]:rn.push(n)}function av(n){zi=!0,dh(n)}function bn(){if(!Ga&&rn!==null){Ga=!0;var n=0,s=_e;try{var o=rn;for(_e=1;n<o.length;n++){var u=o[n];do u=u(!0);while(u!==null)}rn=null,zi=!1}catch(d){throw rn!==null&&(rn=rn.slice(n+1)),fd(ga,bn),d}finally{_e=s,Ga=!1}}return null}var Tr=[],Er=0,Wi=null,Hi=0,Pt=[],At=0,Hn=null,sn=1,on="";function Kn(n,s){Tr[Er++]=Hi,Tr[Er++]=Wi,Wi=n,Hi=s}function hh(n,s,o){Pt[At++]=sn,Pt[At++]=on,Pt[At++]=Hn,Hn=n;var u=sn;n=on;var d=32-Mt(u)-1;u&=~(1<<d),o+=1;var p=32-Mt(s)+d;if(30<p){var y=d-d%5;p=(u&(1<<y)-1).toString(32),u>>=y,d-=y,sn=1<<32-Mt(s)+d|o<<d|u,on=p+n}else sn=1<<p|o<<d|u,on=n}function Ja(n){n.return!==null&&(Kn(n,1),hh(n,1,0))}function Ya(n){for(;n===Wi;)Wi=Tr[--Er],Tr[Er]=null,Hi=Tr[--Er],Tr[Er]=null;for(;n===Hn;)Hn=Pt[--At],Pt[At]=null,on=Pt[--At],Pt[At]=null,sn=Pt[--At],Pt[At]=null}var St=null,kt=null,Ae=!1,Vt=null;function fh(n,s){var o=Ot(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function ph(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,St=n,kt=_n(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,St=n,kt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=Hn!==null?{id:sn,overflow:on}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Ot(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,St=n,kt=null,!0):!1;default:return!1}}function Xa(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Qa(n){if(Ae){var s=kt;if(s){var o=s;if(!ph(n,s)){if(Xa(n))throw Error(r(418));s=_n(o.nextSibling);var u=St;s&&ph(n,s)?fh(u,o):(n.flags=n.flags&-4097|2,Ae=!1,St=n)}}else{if(Xa(n))throw Error(r(418));n.flags=n.flags&-4097|2,Ae=!1,St=n}}}function mh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;St=n}function Ki(n){if(n!==St)return!1;if(!Ae)return mh(n),Ae=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!za(n.type,n.memoizedProps)),s&&(s=kt)){if(Xa(n))throw gh(),Error(r(418));for(;s;)fh(n,s),s=_n(s.nextSibling)}if(mh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){kt=_n(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}kt=null}}else kt=St?_n(n.stateNode.nextSibling):null;return!0}function gh(){for(var n=kt;n;)n=_n(n.nextSibling)}function Cr(){kt=St=null,Ae=!1}function Za(n){Vt===null?Vt=[n]:Vt.push(n)}var lv=U.ReactCurrentBatchConfig;function Ps(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var u=o.stateNode}if(!u)throw Error(r(147,n));var d=u,p=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(y){var S=d.refs;y===null?delete S[p]:S[p]=y},s._stringRef=p,s)}if(typeof n!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,n))}return n}function qi(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function yh(n){var s=n._init;return s(n._payload)}function vh(n){function s(A,E){if(n){var N=A.deletions;N===null?(A.deletions=[E],A.flags|=16):N.push(E)}}function o(A,E){if(!n)return null;for(;E!==null;)s(A,E),E=E.sibling;return null}function u(A,E){for(A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function d(A,E){return A=Nn(A,E),A.index=0,A.sibling=null,A}function p(A,E,N){return A.index=N,n?(N=A.alternate,N!==null?(N=N.index,N<E?(A.flags|=2,E):N):(A.flags|=2,E)):(A.flags|=1048576,E)}function y(A){return n&&A.alternate===null&&(A.flags|=2),A}function S(A,E,N,z){return E===null||E.tag!==6?(E=Wl(N,A.mode,z),E.return=A,E):(E=d(E,N),E.return=A,E)}function b(A,E,N,z){var ee=N.type;return ee===W?$(A,E,N.props.children,z,N.key):E!==null&&(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&yh(ee)===E.type)?(z=d(E,N.props),z.ref=Ps(A,E,N),z.return=A,z):(z=vo(N.type,N.key,N.props,null,A.mode,z),z.ref=Ps(A,E,N),z.return=A,z)}function O(A,E,N,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=Hl(N,A.mode,z),E.return=A,E):(E=d(E,N.children||[]),E.return=A,E)}function $(A,E,N,z,ee){return E===null||E.tag!==7?(E=er(N,A.mode,z,ee),E.return=A,E):(E=d(E,N),E.return=A,E)}function V(A,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Wl(""+E,A.mode,N),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case H:return N=vo(E.type,E.key,E.props,null,A.mode,N),N.ref=Ps(A,null,E),N.return=A,N;case K:return E=Hl(E,A.mode,N),E.return=A,E;case fe:var z=E._init;return V(A,z(E._payload),N)}if(rs(E)||J(E))return E=er(E,A.mode,N,null),E.return=A,E;qi(A,E)}return null}function L(A,E,N,z){var ee=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return ee!==null?null:S(A,E,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return N.key===ee?b(A,E,N,z):null;case K:return N.key===ee?O(A,E,N,z):null;case fe:return ee=N._init,L(A,E,ee(N._payload),z)}if(rs(N)||J(N))return ee!==null?null:$(A,E,N,z,null);qi(A,N)}return null}function G(A,E,N,z,ee){if(typeof z=="string"&&z!==""||typeof z=="number")return A=A.get(N)||null,S(E,A,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case H:return A=A.get(z.key===null?N:z.key)||null,b(E,A,z,ee);case K:return A=A.get(z.key===null?N:z.key)||null,O(E,A,z,ee);case fe:var re=z._init;return G(A,E,N,re(z._payload),ee)}if(rs(z)||J(z))return A=A.get(N)||null,$(E,A,z,ee,null);qi(E,z)}return null}function Q(A,E,N,z){for(var ee=null,re=null,se=E,ue=E=0,Xe=null;se!==null&&ue<N.length;ue++){se.index>ue?(Xe=se,se=null):Xe=se.sibling;var ye=L(A,se,N[ue],z);if(ye===null){se===null&&(se=Xe);break}n&&se&&ye.alternate===null&&s(A,se),E=p(ye,E,ue),re===null?ee=ye:re.sibling=ye,re=ye,se=Xe}if(ue===N.length)return o(A,se),Ae&&Kn(A,ue),ee;if(se===null){for(;ue<N.length;ue++)se=V(A,N[ue],z),se!==null&&(E=p(se,E,ue),re===null?ee=se:re.sibling=se,re=se);return Ae&&Kn(A,ue),ee}for(se=u(A,se);ue<N.length;ue++)Xe=G(se,A,ue,N[ue],z),Xe!==null&&(n&&Xe.alternate!==null&&se.delete(Xe.key===null?ue:Xe.key),E=p(Xe,E,ue),re===null?ee=Xe:re.sibling=Xe,re=Xe);return n&&se.forEach(function(On){return s(A,On)}),Ae&&Kn(A,ue),ee}function Z(A,E,N,z){var ee=J(N);if(typeof ee!="function")throw Error(r(150));if(N=ee.call(N),N==null)throw Error(r(151));for(var re=ee=null,se=E,ue=E=0,Xe=null,ye=N.next();se!==null&&!ye.done;ue++,ye=N.next()){se.index>ue?(Xe=se,se=null):Xe=se.sibling;var On=L(A,se,ye.value,z);if(On===null){se===null&&(se=Xe);break}n&&se&&On.alternate===null&&s(A,se),E=p(On,E,ue),re===null?ee=On:re.sibling=On,re=On,se=Xe}if(ye.done)return o(A,se),Ae&&Kn(A,ue),ee;if(se===null){for(;!ye.done;ue++,ye=N.next())ye=V(A,ye.value,z),ye!==null&&(E=p(ye,E,ue),re===null?ee=ye:re.sibling=ye,re=ye);return Ae&&Kn(A,ue),ee}for(se=u(A,se);!ye.done;ue++,ye=N.next())ye=G(se,A,ue,ye.value,z),ye!==null&&(n&&ye.alternate!==null&&se.delete(ye.key===null?ue:ye.key),E=p(ye,E,ue),re===null?ee=ye:re.sibling=ye,re=ye);return n&&se.forEach(function(Bv){return s(A,Bv)}),Ae&&Kn(A,ue),ee}function $e(A,E,N,z){if(typeof N=="object"&&N!==null&&N.type===W&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case H:e:{for(var ee=N.key,re=E;re!==null;){if(re.key===ee){if(ee=N.type,ee===W){if(re.tag===7){o(A,re.sibling),E=d(re,N.props.children),E.return=A,A=E;break e}}else if(re.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&yh(ee)===re.type){o(A,re.sibling),E=d(re,N.props),E.ref=Ps(A,re,N),E.return=A,A=E;break e}o(A,re);break}else s(A,re);re=re.sibling}N.type===W?(E=er(N.props.children,A.mode,z,N.key),E.return=A,A=E):(z=vo(N.type,N.key,N.props,null,A.mode,z),z.ref=Ps(A,E,N),z.return=A,A=z)}return y(A);case K:e:{for(re=N.key;E!==null;){if(E.key===re)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){o(A,E.sibling),E=d(E,N.children||[]),E.return=A,A=E;break e}else{o(A,E);break}else s(A,E);E=E.sibling}E=Hl(N,A.mode,z),E.return=A,A=E}return y(A);case fe:return re=N._init,$e(A,E,re(N._payload),z)}if(rs(N))return Q(A,E,N,z);if(J(N))return Z(A,E,N,z);qi(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,E!==null&&E.tag===6?(o(A,E.sibling),E=d(E,N),E.return=A,A=E):(o(A,E),E=Wl(N,A.mode,z),E.return=A,A=E),y(A)):o(A,E)}return $e}var Pr=vh(!0),wh=vh(!1),Gi=Sn(null),Ji=null,Ar=null,el=null;function tl(){el=Ar=Ji=null}function nl(n){var s=Gi.current;Ee(Gi),n._currentValue=s}function rl(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Rr(n,s){Ji=n,el=Ar=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(mt=!0),n.firstContext=null)}function Rt(n){var s=n._currentValue;if(el!==n)if(n={context:n,memoizedValue:s,next:null},Ar===null){if(Ji===null)throw Error(r(308));Ar=n,Ji.dependencies={lanes:0,firstContext:n}}else Ar=Ar.next=n;return s}var qn=null;function sl(n){qn===null?qn=[n]:qn.push(n)}function xh(n,s,o,u){var d=s.interleaved;return d===null?(o.next=o,sl(s)):(o.next=d.next,d.next=o),s.interleaved=o,an(n,u)}function an(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Tn=!1;function il(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ln(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function En(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(pe&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,an(n,o)}return d=u.interleaved,d===null?(s.next=s,sl(u)):(s.next=d.next,d.next=s),u.interleaved=s,an(n,o)}function Yi(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,wa(n,o)}}function Sh(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function Xi(n,s,o,u){var d=n.updateQueue;Tn=!1;var p=d.firstBaseUpdate,y=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var b=S,O=b.next;b.next=null,y===null?p=O:y.next=O,y=b;var $=n.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==y&&(S===null?$.firstBaseUpdate=O:S.next=O,$.lastBaseUpdate=b))}if(p!==null){var V=d.baseState;y=0,$=O=b=null,S=p;do{var L=S.lane,G=S.eventTime;if((u&L)===L){$!==null&&($=$.next={eventTime:G,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Q=n,Z=S;switch(L=s,G=o,Z.tag){case 1:if(Q=Z.payload,typeof Q=="function"){V=Q.call(G,V,L);break e}V=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Z.payload,L=typeof Q=="function"?Q.call(G,V,L):Q,L==null)break e;V=q({},V,L);break e;case 2:Tn=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,L=d.effects,L===null?d.effects=[S]:L.push(S))}else G={eventTime:G,lane:L,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(O=$=G,b=V):$=$.next=G,y|=L;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;L=S,S=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);if($===null&&(b=V),d.baseState=b,d.firstBaseUpdate=O,d.lastBaseUpdate=$,s=d.shared.interleaved,s!==null){d=s;do y|=d.lane,d=d.next;while(d!==s)}else p===null&&(d.shared.lanes=0);Yn|=y,n.lanes=y,n.memoizedState=V}}function kh(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var u=n[s],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(r(191,d));d.call(u)}}}var As={},Xt=Sn(As),Rs=Sn(As),js=Sn(As);function Gn(n){if(n===As)throw Error(r(174));return n}function ol(n,s){switch(ke(js,s),ke(Rs,n),ke(Xt,As),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:aa(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=aa(s,n)}Ee(Xt),ke(Xt,s)}function jr(){Ee(Xt),Ee(Rs),Ee(js)}function bh(n){Gn(js.current);var s=Gn(Xt.current),o=aa(s,n.type);s!==o&&(ke(Rs,n),ke(Xt,o))}function al(n){Rs.current===n&&(Ee(Xt),Ee(Rs))}var Re=Sn(0);function Qi(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ll=[];function ul(){for(var n=0;n<ll.length;n++)ll[n]._workInProgressVersionPrimary=null;ll.length=0}var Zi=U.ReactCurrentDispatcher,cl=U.ReactCurrentBatchConfig,Jn=0,je=null,We=null,Je=null,eo=!1,Ns=!1,Os=0,uv=0;function it(){throw Error(r(321))}function dl(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!$t(n[o],s[o]))return!1;return!0}function hl(n,s,o,u,d,p){if(Jn=p,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Zi.current=n===null||n.memoizedState===null?fv:pv,n=o(u,d),Ns){p=0;do{if(Ns=!1,Os=0,25<=p)throw Error(r(301));p+=1,Je=We=null,s.updateQueue=null,Zi.current=mv,n=o(u,d)}while(Ns)}if(Zi.current=ro,s=We!==null&&We.next!==null,Jn=0,Je=We=je=null,eo=!1,s)throw Error(r(300));return n}function fl(){var n=Os!==0;return Os=0,n}function Qt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?je.memoizedState=Je=n:Je=Je.next=n,Je}function jt(){if(We===null){var n=je.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var s=Je===null?je.memoizedState:Je.next;if(s!==null)Je=s,We=n;else{if(n===null)throw Error(r(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Je===null?je.memoizedState=Je=n:Je=Je.next=n}return Je}function Is(n,s){return typeof s=="function"?s(n):s}function pl(n){var s=jt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=We,d=u.baseQueue,p=o.pending;if(p!==null){if(d!==null){var y=d.next;d.next=p.next,p.next=y}u.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,u=u.baseState;var S=y=null,b=null,O=p;do{var $=O.lane;if((Jn&$)===$)b!==null&&(b=b.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),u=O.hasEagerState?O.eagerState:n(u,O.action);else{var V={lane:$,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};b===null?(S=b=V,y=u):b=b.next=V,je.lanes|=$,Yn|=$}O=O.next}while(O!==null&&O!==p);b===null?y=u:b.next=S,$t(u,s.memoizedState)||(mt=!0),s.memoizedState=u,s.baseState=y,s.baseQueue=b,o.lastRenderedState=u}if(n=o.interleaved,n!==null){d=n;do p=d.lane,je.lanes|=p,Yn|=p,d=d.next;while(d!==n)}else d===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function ml(n){var s=jt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var y=d=d.next;do p=n(p,y.action),y=y.next;while(y!==d);$t(p,s.memoizedState)||(mt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function Th(){}function Eh(n,s){var o=je,u=jt(),d=s(),p=!$t(u.memoizedState,d);if(p&&(u.memoizedState=d,mt=!0),u=u.queue,gl(Ah.bind(null,o,u,n),[n]),u.getSnapshot!==s||p||Je!==null&&Je.memoizedState.tag&1){if(o.flags|=2048,Ds(9,Ph.bind(null,o,u,d,s),void 0,null),Ye===null)throw Error(r(349));(Jn&30)!==0||Ch(o,s,d)}return d}function Ch(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=je.updateQueue,s===null?(s={lastEffect:null,stores:null},je.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Ph(n,s,o,u){s.value=o,s.getSnapshot=u,Rh(s)&&jh(n)}function Ah(n,s,o){return o(function(){Rh(s)&&jh(n)})}function Rh(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!$t(n,o)}catch{return!0}}function jh(n){var s=an(n,1);s!==null&&zt(s,n,1,-1)}function Nh(n){var s=Qt();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:n},s.queue=n,n=n.dispatch=hv.bind(null,je,n),[s.memoizedState,n]}function Ds(n,s,o,u){return n={tag:n,create:s,destroy:o,deps:u,next:null},s=je.updateQueue,s===null?(s={lastEffect:null,stores:null},je.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n)),n}function Oh(){return jt().memoizedState}function to(n,s,o,u){var d=Qt();je.flags|=n,d.memoizedState=Ds(1|s,o,void 0,u===void 0?null:u)}function no(n,s,o,u){var d=jt();u=u===void 0?null:u;var p=void 0;if(We!==null){var y=We.memoizedState;if(p=y.destroy,u!==null&&dl(u,y.deps)){d.memoizedState=Ds(s,o,p,u);return}}je.flags|=n,d.memoizedState=Ds(1|s,o,p,u)}function Ih(n,s){return to(8390656,8,n,s)}function gl(n,s){return no(2048,8,n,s)}function Dh(n,s){return no(4,2,n,s)}function Lh(n,s){return no(4,4,n,s)}function Mh(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function $h(n,s,o){return o=o!=null?o.concat([n]):null,no(4,4,Mh.bind(null,s,n),o)}function yl(){}function Vh(n,s){var o=jt();s=s===void 0?null:s;var u=o.memoizedState;return u!==null&&s!==null&&dl(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function Uh(n,s){var o=jt();s=s===void 0?null:s;var u=o.memoizedState;return u!==null&&s!==null&&dl(s,u[1])?u[0]:(n=n(),o.memoizedState=[n,s],n)}function Bh(n,s,o){return(Jn&21)===0?(n.baseState&&(n.baseState=!1,mt=!0),n.memoizedState=o):($t(o,s)||(o=yd(),je.lanes|=o,Yn|=o,n.baseState=!0),s)}function cv(n,s){var o=_e;_e=o!==0&&4>o?o:4,n(!0);var u=cl.transition;cl.transition={};try{n(!1),s()}finally{_e=o,cl.transition=u}}function Fh(){return jt().memoizedState}function dv(n,s,o){var u=Rn(n);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},zh(n))Wh(s,o);else if(o=xh(n,s,o,u),o!==null){var d=ct();zt(o,n,u,d),Hh(o,s,u)}}function hv(n,s,o){var u=Rn(n),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(zh(n))Wh(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var y=s.lastRenderedState,S=p(y,o);if(d.hasEagerState=!0,d.eagerState=S,$t(S,y)){var b=s.interleaved;b===null?(d.next=d,sl(s)):(d.next=b.next,b.next=d),s.interleaved=d;return}}catch{}finally{}o=xh(n,s,d,u),o!==null&&(d=ct(),zt(o,n,u,d),Hh(o,s,u))}}function zh(n){var s=n.alternate;return n===je||s!==null&&s===je}function Wh(n,s){Ns=eo=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Hh(n,s,o){if((o&4194240)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,wa(n,o)}}var ro={readContext:Rt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},fv={readContext:Rt,useCallback:function(n,s){return Qt().memoizedState=[n,s===void 0?null:s],n},useContext:Rt,useEffect:Ih,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,to(4194308,4,Mh.bind(null,s,n),o)},useLayoutEffect:function(n,s){return to(4194308,4,n,s)},useInsertionEffect:function(n,s){return to(4,2,n,s)},useMemo:function(n,s){var o=Qt();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var u=Qt();return s=o!==void 0?o(s):s,u.memoizedState=u.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},u.queue=n,n=n.dispatch=dv.bind(null,je,n),[u.memoizedState,n]},useRef:function(n){var s=Qt();return n={current:n},s.memoizedState=n},useState:Nh,useDebugValue:yl,useDeferredValue:function(n){return Qt().memoizedState=n},useTransition:function(){var n=Nh(!1),s=n[0];return n=cv.bind(null,n[1]),Qt().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var u=je,d=Qt();if(Ae){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Ye===null)throw Error(r(349));(Jn&30)!==0||Ch(u,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,Ih(Ah.bind(null,u,p,n),[n]),u.flags|=2048,Ds(9,Ph.bind(null,u,p,o,s),void 0,null),o},useId:function(){var n=Qt(),s=Ye.identifierPrefix;if(Ae){var o=on,u=sn;o=(u&~(1<<32-Mt(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Os++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=uv++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},pv={readContext:Rt,useCallback:Vh,useContext:Rt,useEffect:gl,useImperativeHandle:$h,useInsertionEffect:Dh,useLayoutEffect:Lh,useMemo:Uh,useReducer:pl,useRef:Oh,useState:function(){return pl(Is)},useDebugValue:yl,useDeferredValue:function(n){var s=jt();return Bh(s,We.memoizedState,n)},useTransition:function(){var n=pl(Is)[0],s=jt().memoizedState;return[n,s]},useMutableSource:Th,useSyncExternalStore:Eh,useId:Fh,unstable_isNewReconciler:!1},mv={readContext:Rt,useCallback:Vh,useContext:Rt,useEffect:gl,useImperativeHandle:$h,useInsertionEffect:Dh,useLayoutEffect:Lh,useMemo:Uh,useReducer:ml,useRef:Oh,useState:function(){return ml(Is)},useDebugValue:yl,useDeferredValue:function(n){var s=jt();return We===null?s.memoizedState=n:Bh(s,We.memoizedState,n)},useTransition:function(){var n=ml(Is)[0],s=jt().memoizedState;return[n,s]},useMutableSource:Th,useSyncExternalStore:Eh,useId:Fh,unstable_isNewReconciler:!1};function Ut(n,s){if(n&&n.defaultProps){s=q({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}function vl(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:q({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var so={isMounted:function(n){return(n=n._reactInternals)?Fn(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var u=ct(),d=Rn(n),p=ln(u,d);p.payload=s,o!=null&&(p.callback=o),s=En(n,p,d),s!==null&&(zt(s,n,d,u),Yi(s,n,d))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=ct(),d=Rn(n),p=ln(u,d);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=En(n,p,d),s!==null&&(zt(s,n,d,u),Yi(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=ct(),u=Rn(n),d=ln(o,u);d.tag=2,s!=null&&(d.callback=s),s=En(n,d,u),s!==null&&(zt(s,n,u,o),Yi(s,n,u))}};function Kh(n,s,o,u,d,p,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,y):s.prototype&&s.prototype.isPureReactComponent?!_s(o,u)||!_s(d,p):!0}function qh(n,s,o){var u=!1,d=kn,p=s.contextType;return typeof p=="object"&&p!==null?p=Rt(p):(d=pt(s)?Wn:st.current,u=s.contextTypes,p=(u=u!=null)?br(n,d):kn),s=new s(o,p),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=so,n.stateNode=s,s._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),s}function Gh(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&so.enqueueReplaceState(s,s.state,null)}function wl(n,s,o,u){var d=n.stateNode;d.props=o,d.state=n.memoizedState,d.refs={},il(n);var p=s.contextType;typeof p=="object"&&p!==null?d.context=Rt(p):(p=pt(s)?Wn:st.current,d.context=br(n,p)),d.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(vl(n,s,p,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&so.enqueueReplaceState(d,d.state,null),Xi(n,o,d,u),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Nr(n,s){try{var o="",u=s;do o+=me(u),u=u.return;while(u);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:s,stack:d,digest:null}}function xl(n,s,o){return{value:n,source:null,stack:o??null,digest:s??null}}function _l(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var gv=typeof WeakMap=="function"?WeakMap:Map;function Jh(n,s,o){o=ln(-1,o),o.tag=3,o.payload={element:null};var u=s.value;return o.callback=function(){ho||(ho=!0,Ll=u),_l(n,s)},o}function Yh(n,s,o){o=ln(-1,o),o.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var d=s.value;o.payload=function(){return u(d)},o.callback=function(){_l(n,s)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){_l(n,s),typeof u!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})}),o}function Xh(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new gv;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(d.add(o),n=Rv.bind(null,n,s,o),s.then(n,n))}function Qh(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Zh(n,s,o,u,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=ln(-1,1),s.tag=2,En(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var yv=U.ReactCurrentOwner,mt=!1;function ut(n,s,o,u){s.child=n===null?wh(s,null,o,u):Pr(s,n.child,o,u)}function ef(n,s,o,u,d){o=o.render;var p=s.ref;return Rr(s,d),u=hl(n,s,o,u,p,d),o=fl(),n!==null&&!mt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,un(n,s,d)):(Ae&&o&&Ja(s),s.flags|=1,ut(n,s,u,d),s.child)}function tf(n,s,o,u,d){if(n===null){var p=o.type;return typeof p=="function"&&!zl(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=p,nf(n,s,p,u,d)):(n=vo(o.type,null,u,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,(n.lanes&d)===0){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:_s,o(y,u)&&n.ref===s.ref)return un(n,s,d)}return s.flags|=1,n=Nn(p,u),n.ref=s.ref,n.return=s,s.child=n}function nf(n,s,o,u,d){if(n!==null){var p=n.memoizedProps;if(_s(p,u)&&n.ref===s.ref)if(mt=!1,s.pendingProps=u=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(mt=!0);else return s.lanes=n.lanes,un(n,s,d)}return Sl(n,s,o,u,d)}function rf(n,s,o){var u=s.pendingProps,d=u.children,p=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Ir,bt),bt|=o;else{if((o&1073741824)===0)return n=p!==null?p.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,ke(Ir,bt),bt|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,ke(Ir,bt),bt|=u}else p!==null?(u=p.baseLanes|o,s.memoizedState=null):u=o,ke(Ir,bt),bt|=u;return ut(n,s,d,o),s.child}function sf(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function Sl(n,s,o,u,d){var p=pt(o)?Wn:st.current;return p=br(s,p),Rr(s,d),o=hl(n,s,o,u,p,d),u=fl(),n!==null&&!mt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,un(n,s,d)):(Ae&&u&&Ja(s),s.flags|=1,ut(n,s,o,d),s.child)}function of(n,s,o,u,d){if(pt(o)){var p=!0;Fi(s)}else p=!1;if(Rr(s,d),s.stateNode===null)oo(n,s),qh(s,o,u),wl(s,o,u,d),u=!0;else if(n===null){var y=s.stateNode,S=s.memoizedProps;y.props=S;var b=y.context,O=o.contextType;typeof O=="object"&&O!==null?O=Rt(O):(O=pt(o)?Wn:st.current,O=br(s,O));var $=o.getDerivedStateFromProps,V=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function";V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==u||b!==O)&&Gh(s,y,u,O),Tn=!1;var L=s.memoizedState;y.state=L,Xi(s,u,y,d),b=s.memoizedState,S!==u||L!==b||ft.current||Tn?(typeof $=="function"&&(vl(s,o,$,u),b=s.memoizedState),(S=Tn||Kh(s,o,S,u,L,b,O))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=b),y.props=u,y.state=b,y.context=O,u=S):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,_h(n,s),S=s.memoizedProps,O=s.type===s.elementType?S:Ut(s.type,S),y.props=O,V=s.pendingProps,L=y.context,b=o.contextType,typeof b=="object"&&b!==null?b=Rt(b):(b=pt(o)?Wn:st.current,b=br(s,b));var G=o.getDerivedStateFromProps;($=typeof G=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==V||L!==b)&&Gh(s,y,u,b),Tn=!1,L=s.memoizedState,y.state=L,Xi(s,u,y,d);var Q=s.memoizedState;S!==V||L!==Q||ft.current||Tn?(typeof G=="function"&&(vl(s,o,G,u),Q=s.memoizedState),(O=Tn||Kh(s,o,O,u,L,Q,b)||!1)?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Q,b),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Q,b)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&L===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&L===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),y.props=u,y.state=Q,y.context=b,u=O):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&L===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&L===n.memoizedState||(s.flags|=1024),u=!1)}return kl(n,s,o,u,p,d)}function kl(n,s,o,u,d,p){sf(n,s);var y=(s.flags&128)!==0;if(!u&&!y)return d&&ch(s,o,!1),un(n,s,p);u=s.stateNode,yv.current=s;var S=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,n!==null&&y?(s.child=Pr(s,n.child,null,p),s.child=Pr(s,null,S,p)):ut(n,s,S,p),s.memoizedState=u.state,d&&ch(s,o,!0),s.child}function af(n){var s=n.stateNode;s.pendingContext?lh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&lh(n,s.context,!1),ol(n,s.containerInfo)}function lf(n,s,o,u,d){return Cr(),Za(d),s.flags|=256,ut(n,s,o,u),s.child}var bl={dehydrated:null,treeContext:null,retryLane:0};function Tl(n){return{baseLanes:n,cachePool:null,transitions:null}}function uf(n,s,o){var u=s.pendingProps,d=Re.current,p=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=n!==null&&n.memoizedState===null?!1:(d&2)!==0),S?(p=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),ke(Re,d&1),n===null)return Qa(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(y=u.children,n=u.fallback,p?(u=s.mode,p=s.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=wo(y,u,0,null),n=er(n,u,o,null),p.return=s,n.return=s,p.sibling=n,s.child=p,s.child.memoizedState=Tl(o),s.memoizedState=bl,n):El(s,y));if(d=n.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return vv(n,s,y,u,S,d,o);if(p){p=u.fallback,y=s.mode,d=n.child,S=d.sibling;var b={mode:"hidden",children:u.children};return(y&1)===0&&s.child!==d?(u=s.child,u.childLanes=0,u.pendingProps=b,s.deletions=null):(u=Nn(d,b),u.subtreeFlags=d.subtreeFlags&14680064),S!==null?p=Nn(S,p):(p=er(p,y,o,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,y=n.child.memoizedState,y=y===null?Tl(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=n.childLanes&~o,s.memoizedState=bl,u}return p=n.child,n=p.sibling,u=Nn(p,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=o),u.return=s,u.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=u,s.memoizedState=null,u}function El(n,s){return s=wo({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function io(n,s,o,u){return u!==null&&Za(u),Pr(s,n.child,null,o),n=El(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function vv(n,s,o,u,d,p,y){if(o)return s.flags&256?(s.flags&=-257,u=xl(Error(r(422))),io(n,s,y,u)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(p=u.fallback,d=s.mode,u=wo({mode:"visible",children:u.children},d,0,null),p=er(p,d,y,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,(s.mode&1)!==0&&Pr(s,n.child,null,y),s.child.memoizedState=Tl(y),s.memoizedState=bl,p);if((s.mode&1)===0)return io(n,s,y,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(r(419)),u=xl(p,u,void 0),io(n,s,y,u)}if(S=(y&n.childLanes)!==0,mt||S){if(u=Ye,u!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|y))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,an(n,d),zt(u,n,d,-1))}return Fl(),u=xl(Error(r(421))),io(n,s,y,u)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=jv.bind(null,n),d._reactRetry=s,null):(n=p.treeContext,kt=_n(d.nextSibling),St=s,Ae=!0,Vt=null,n!==null&&(Pt[At++]=sn,Pt[At++]=on,Pt[At++]=Hn,sn=n.id,on=n.overflow,Hn=s),s=El(s,u.children),s.flags|=4096,s)}function cf(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),rl(n.return,s,o)}function Cl(n,s,o,u,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function df(n,s,o){var u=s.pendingProps,d=u.revealOrder,p=u.tail;if(ut(n,s,u.children,o),u=Re.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cf(n,o,s);else if(n.tag===19)cf(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if(ke(Re,u),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(o=s.child,d=null;o!==null;)n=o.alternate,n!==null&&Qi(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Cl(s,!1,d,o,p);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Qi(n)===null){s.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}Cl(s,!0,o,null,p);break;case"together":Cl(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oo(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function un(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Yn|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Nn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Nn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function wv(n,s,o){switch(s.tag){case 3:af(s),Cr();break;case 5:bh(s);break;case 1:pt(s.type)&&Fi(s);break;case 4:ol(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,d=s.memoizedProps.value;ke(Gi,u._currentValue),u._currentValue=d;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(ke(Re,Re.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?uf(n,s,o):(ke(Re,Re.current&1),n=un(n,s,o),n!==null?n.sibling:null);ke(Re,Re.current&1);break;case 19:if(u=(o&s.childLanes)!==0,(n.flags&128)!==0){if(u)return df(n,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ke(Re,Re.current),u)break;return null;case 22:case 23:return s.lanes=0,rf(n,s,o)}return un(n,s,o)}var hf,Pl,ff,pf;hf=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Pl=function(){},ff=function(n,s,o,u){var d=n.memoizedProps;if(d!==u){n=s.stateNode,Gn(Xt.current);var p=null;switch(o){case"input":d=ra(n,d),u=ra(n,u),p=[];break;case"select":d=q({},d,{value:void 0}),u=q({},u,{value:void 0}),p=[];break;case"textarea":d=oa(n,d),u=oa(n,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=Vi)}la(o,u);var y;o=null;for(O in d)if(!u.hasOwnProperty(O)&&d.hasOwnProperty(O)&&d[O]!=null)if(O==="style"){var S=d[O];for(y in S)S.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(a.hasOwnProperty(O)?p||(p=[]):(p=p||[]).push(O,null));for(O in u){var b=u[O];if(S=d!=null?d[O]:void 0,u.hasOwnProperty(O)&&b!==S&&(b!=null||S!=null))if(O==="style")if(S){for(y in S)!S.hasOwnProperty(y)||b&&b.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in b)b.hasOwnProperty(y)&&S[y]!==b[y]&&(o||(o={}),o[y]=b[y])}else o||(p||(p=[]),p.push(O,o)),o=b;else O==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,S=S?S.__html:void 0,b!=null&&S!==b&&(p=p||[]).push(O,b)):O==="children"?typeof b!="string"&&typeof b!="number"||(p=p||[]).push(O,""+b):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(a.hasOwnProperty(O)?(b!=null&&O==="onScroll"&&Te("scroll",n),p||S===b||(p=[])):(p=p||[]).push(O,b))}o&&(p=p||[]).push("style",o);var O=p;(s.updateQueue=O)&&(s.flags|=4)}},pf=function(n,s,o,u){o!==u&&(s.flags|=4)};function Ls(n,s){if(!Ae)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ot(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function xv(n,s,o){var u=s.pendingProps;switch(Ya(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return pt(s.type)&&Bi(),ot(s),null;case 3:return u=s.stateNode,jr(),Ee(ft),Ee(st),ul(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(Ki(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vt!==null&&(Vl(Vt),Vt=null))),Pl(n,s),ot(s),null;case 5:al(s);var d=Gn(js.current);if(o=s.type,n!==null&&s.stateNode!=null)ff(n,s,o,u,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(n=Gn(Xt.current),Ki(s)){u=s.stateNode,o=s.type;var p=s.memoizedProps;switch(u[Yt]=s,u[Es]=p,n=(s.mode&1)!==0,o){case"dialog":Te("cancel",u),Te("close",u);break;case"iframe":case"object":case"embed":Te("load",u);break;case"video":case"audio":for(d=0;d<ks.length;d++)Te(ks[d],u);break;case"source":Te("error",u);break;case"img":case"image":case"link":Te("error",u),Te("load",u);break;case"details":Te("toggle",u);break;case"input":qc(u,p),Te("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Te("invalid",u);break;case"textarea":Yc(u,p),Te("invalid",u)}la(o,p),d=null;for(var y in p)if(p.hasOwnProperty(y)){var S=p[y];y==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&$i(u.textContent,S,n),d=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&$i(u.textContent,S,n),d=["children",""+S]):a.hasOwnProperty(y)&&S!=null&&y==="onScroll"&&Te("scroll",u)}switch(o){case"input":mi(u),Jc(u,p,!0);break;case"textarea":mi(u),Qc(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Vi)}u=d,s.updateQueue=u,u!==null&&(s.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Zc(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=y.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=y.createElement(o,{is:u.is}):(n=y.createElement(o),o==="select"&&(y=n,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):n=y.createElementNS(n,o),n[Yt]=s,n[Es]=u,hf(n,s,!1,!1),s.stateNode=n;e:{switch(y=ua(o,u),o){case"dialog":Te("cancel",n),Te("close",n),d=u;break;case"iframe":case"object":case"embed":Te("load",n),d=u;break;case"video":case"audio":for(d=0;d<ks.length;d++)Te(ks[d],n);d=u;break;case"source":Te("error",n),d=u;break;case"img":case"image":case"link":Te("error",n),Te("load",n),d=u;break;case"details":Te("toggle",n),d=u;break;case"input":qc(n,u),d=ra(n,u),Te("invalid",n);break;case"option":d=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},d=q({},u,{value:void 0}),Te("invalid",n);break;case"textarea":Yc(n,u),d=oa(n,u),Te("invalid",n);break;default:d=u}la(o,d),S=d;for(p in S)if(S.hasOwnProperty(p)){var b=S[p];p==="style"?nd(n,b):p==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&ed(n,b)):p==="children"?typeof b=="string"?(o!=="textarea"||b!=="")&&ss(n,b):typeof b=="number"&&ss(n,""+b):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?b!=null&&p==="onScroll"&&Te("scroll",n):b!=null&&j(n,p,b,y))}switch(o){case"input":mi(n),Jc(n,u,!1);break;case"textarea":mi(n),Qc(n);break;case"option":u.value!=null&&n.setAttribute("value",""+xe(u.value));break;case"select":n.multiple=!!u.multiple,p=u.value,p!=null?hr(n,!!u.multiple,p,!1):u.defaultValue!=null&&hr(n,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Vi)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ot(s),null;case 6:if(n&&s.stateNode!=null)pf(n,s,n.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(o=Gn(js.current),Gn(Xt.current),Ki(s)){if(u=s.stateNode,o=s.memoizedProps,u[Yt]=s,(p=u.nodeValue!==o)&&(n=St,n!==null))switch(n.tag){case 3:$i(u.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&$i(u.nodeValue,o,(n.mode&1)!==0)}p&&(s.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Yt]=s,s.stateNode=u}return ot(s),null;case 13:if(Ee(Re),u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ae&&kt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gh(),Cr(),s.flags|=98560,p=!1;else if(p=Ki(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Yt]=s}else Cr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),p=!1}else Vt!==null&&(Vl(Vt),Vt=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Re.current&1)!==0?He===0&&(He=3):Fl())),s.updateQueue!==null&&(s.flags|=4),ot(s),null);case 4:return jr(),Pl(n,s),n===null&&bs(s.stateNode.containerInfo),ot(s),null;case 10:return nl(s.type._context),ot(s),null;case 17:return pt(s.type)&&Bi(),ot(s),null;case 19:if(Ee(Re),p=s.memoizedState,p===null)return ot(s),null;if(u=(s.flags&128)!==0,y=p.rendering,y===null)if(u)Ls(p,!1);else{if(He!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Qi(n),y!==null){for(s.flags|=128,Ls(p,!1),u=y.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=o,o=s.child;o!==null;)p=o,n=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,n=y.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return ke(Re,Re.current&1|2),s.child}n=n.sibling}p.tail!==null&&Me()>Dr&&(s.flags|=128,u=!0,Ls(p,!1),s.lanes=4194304)}else{if(!u)if(n=Qi(y),n!==null){if(s.flags|=128,u=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Ls(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ae)return ot(s),null}else 2*Me()-p.renderingStartTime>Dr&&o!==1073741824&&(s.flags|=128,u=!0,Ls(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(o=p.last,o!==null?o.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Me(),s.sibling=null,o=Re.current,ke(Re,u?o&1|2:o&1),s):(ot(s),null);case 22:case 23:return Bl(),u=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(bt&1073741824)!==0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function _v(n,s){switch(Ya(s),s.tag){case 1:return pt(s.type)&&Bi(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return jr(),Ee(ft),Ee(st),ul(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return al(s),null;case 13:if(Ee(Re),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Cr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ee(Re),null;case 4:return jr(),null;case 10:return nl(s.type._context),null;case 22:case 23:return Bl(),null;case 24:return null;default:return null}}var ao=!1,at=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,X=null;function Or(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ie(n,s,u)}else o.current=null}function Al(n,s,o){try{o()}catch(u){Ie(n,s,u)}}var mf=!1;function kv(n,s){if(Ba=Ci,n=Kd(),Oa(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,S=-1,b=-1,O=0,$=0,V=n,L=null;t:for(;;){for(var G;V!==o||d!==0&&V.nodeType!==3||(S=y+d),V!==p||u!==0&&V.nodeType!==3||(b=y+u),V.nodeType===3&&(y+=V.nodeValue.length),(G=V.firstChild)!==null;)L=V,V=G;for(;;){if(V===n)break t;if(L===o&&++O===d&&(S=y),L===p&&++$===u&&(b=y),(G=V.nextSibling)!==null)break;V=L,L=V.parentNode}V=G}o=S===-1||b===-1?null:{start:S,end:b}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fa={focusedElem:n,selectionRange:o},Ci=!1,X=s;X!==null;)if(s=X,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,X=n;else for(;X!==null;){s=X;try{var Q=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var Z=Q.memoizedProps,$e=Q.memoizedState,A=s.stateNode,E=A.getSnapshotBeforeUpdate(s.elementType===s.type?Z:Ut(s.type,Z),$e);A.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var N=s.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(z){Ie(s,s.return,z)}if(n=s.sibling,n!==null){n.return=s.return,X=n;break}X=s.return}return Q=mf,mf=!1,Q}function Ms(n,s,o){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&Al(s,o,p)}d=d.next}while(d!==u)}}function lo(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var u=o.create;o.destroy=u()}o=o.next}while(o!==s)}}function Rl(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function gf(n){var s=n.alternate;s!==null&&(n.alternate=null,gf(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Yt],delete s[Es],delete s[Ka],delete s[iv],delete s[ov])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function yf(n){return n.tag===5||n.tag===3||n.tag===4}function vf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||yf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jl(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Vi));else if(u!==4&&(n=n.child,n!==null))for(jl(n,s,o),n=n.sibling;n!==null;)jl(n,s,o),n=n.sibling}function Nl(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(Nl(n,s,o),n=n.sibling;n!==null;)Nl(n,s,o),n=n.sibling}var Qe=null,Bt=!1;function Cn(n,s,o){for(o=o.child;o!==null;)wf(n,s,o),o=o.sibling}function wf(n,s,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(_i,o)}catch{}switch(o.tag){case 5:at||Or(o,s);case 6:var u=Qe,d=Bt;Qe=null,Cn(n,s,o),Qe=u,Bt=d,Qe!==null&&(Bt?(n=Qe,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):Qe.removeChild(o.stateNode));break;case 18:Qe!==null&&(Bt?(n=Qe,o=o.stateNode,n.nodeType===8?Ha(n.parentNode,o):n.nodeType===1&&Ha(n,o),ms(n)):Ha(Qe,o.stateNode));break;case 4:u=Qe,d=Bt,Qe=o.stateNode.containerInfo,Bt=!0,Cn(n,s,o),Qe=u,Bt=d;break;case 0:case 11:case 14:case 15:if(!at&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&Al(o,s,y),d=d.next}while(d!==u)}Cn(n,s,o);break;case 1:if(!at&&(Or(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Ie(o,s,S)}Cn(n,s,o);break;case 21:Cn(n,s,o);break;case 22:o.mode&1?(at=(u=at)||o.memoizedState!==null,Cn(n,s,o),at=u):Cn(n,s,o);break;default:Cn(n,s,o)}}function xf(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new Sv),s.forEach(function(u){var d=Nv.bind(null,n,u);o.has(u)||(o.add(u),u.then(d,d))})}}function Ft(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var p=n,y=s,S=y;e:for(;S!==null;){switch(S.tag){case 5:Qe=S.stateNode,Bt=!1;break e;case 3:Qe=S.stateNode.containerInfo,Bt=!0;break e;case 4:Qe=S.stateNode.containerInfo,Bt=!0;break e}S=S.return}if(Qe===null)throw Error(r(160));wf(p,y,d),Qe=null,Bt=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(O){Ie(d,s,O)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)_f(s,n),s=s.sibling}function _f(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ft(s,n),Zt(n),u&4){try{Ms(3,n,n.return),lo(3,n)}catch(Z){Ie(n,n.return,Z)}try{Ms(5,n,n.return)}catch(Z){Ie(n,n.return,Z)}}break;case 1:Ft(s,n),Zt(n),u&512&&o!==null&&Or(o,o.return);break;case 5:if(Ft(s,n),Zt(n),u&512&&o!==null&&Or(o,o.return),n.flags&32){var d=n.stateNode;try{ss(d,"")}catch(Z){Ie(n,n.return,Z)}}if(u&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,y=o!==null?o.memoizedProps:p,S=n.type,b=n.updateQueue;if(n.updateQueue=null,b!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Gc(d,p),ua(S,y);var O=ua(S,p);for(y=0;y<b.length;y+=2){var $=b[y],V=b[y+1];$==="style"?nd(d,V):$==="dangerouslySetInnerHTML"?ed(d,V):$==="children"?ss(d,V):j(d,$,V,O)}switch(S){case"input":sa(d,p);break;case"textarea":Xc(d,p);break;case"select":var L=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var G=p.value;G!=null?hr(d,!!p.multiple,G,!1):L!==!!p.multiple&&(p.defaultValue!=null?hr(d,!!p.multiple,p.defaultValue,!0):hr(d,!!p.multiple,p.multiple?[]:"",!1))}d[Es]=p}catch(Z){Ie(n,n.return,Z)}}break;case 6:if(Ft(s,n),Zt(n),u&4){if(n.stateNode===null)throw Error(r(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(Z){Ie(n,n.return,Z)}}break;case 3:if(Ft(s,n),Zt(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ms(s.containerInfo)}catch(Z){Ie(n,n.return,Z)}break;case 4:Ft(s,n),Zt(n);break;case 13:Ft(s,n),Zt(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Dl=Me())),u&4&&xf(n);break;case 22:if($=o!==null&&o.memoizedState!==null,n.mode&1?(at=(O=at)||$,Ft(s,n),at=O):Ft(s,n),Zt(n),u&8192){if(O=n.memoizedState!==null,(n.stateNode.isHidden=O)&&!$&&(n.mode&1)!==0)for(X=n,$=n.child;$!==null;){for(V=X=$;X!==null;){switch(L=X,G=L.child,L.tag){case 0:case 11:case 14:case 15:Ms(4,L,L.return);break;case 1:Or(L,L.return);var Q=L.stateNode;if(typeof Q.componentWillUnmount=="function"){u=L,o=L.return;try{s=u,Q.props=s.memoizedProps,Q.state=s.memoizedState,Q.componentWillUnmount()}catch(Z){Ie(u,o,Z)}}break;case 5:Or(L,L.return);break;case 22:if(L.memoizedState!==null){bf(V);continue}}G!==null?(G.return=L,X=G):bf(V)}$=$.sibling}e:for($=null,V=n;;){if(V.tag===5){if($===null){$=V;try{d=V.stateNode,O?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=V.stateNode,b=V.memoizedProps.style,y=b!=null&&b.hasOwnProperty("display")?b.display:null,S.style.display=td("display",y))}catch(Z){Ie(n,n.return,Z)}}}else if(V.tag===6){if($===null)try{V.stateNode.nodeValue=O?"":V.memoizedProps}catch(Z){Ie(n,n.return,Z)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===n)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===n)break e;for(;V.sibling===null;){if(V.return===null||V.return===n)break e;$===V&&($=null),V=V.return}$===V&&($=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Ft(s,n),Zt(n),u&4&&xf(n);break;case 21:break;default:Ft(s,n),Zt(n)}}function Zt(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(yf(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(ss(d,""),u.flags&=-33);var p=vf(n);Nl(n,p,d);break;case 3:case 4:var y=u.stateNode.containerInfo,S=vf(n);jl(n,S,y);break;default:throw Error(r(161))}}catch(b){Ie(n,n.return,b)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function bv(n,s,o){X=n,Sf(n)}function Sf(n,s,o){for(var u=(n.mode&1)!==0;X!==null;){var d=X,p=d.child;if(d.tag===22&&u){var y=d.memoizedState!==null||ao;if(!y){var S=d.alternate,b=S!==null&&S.memoizedState!==null||at;S=ao;var O=at;if(ao=y,(at=b)&&!O)for(X=d;X!==null;)y=X,b=y.child,y.tag===22&&y.memoizedState!==null?Tf(d):b!==null?(b.return=y,X=b):Tf(d);for(;p!==null;)X=p,Sf(p),p=p.sibling;X=d,ao=S,at=O}kf(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,X=p):kf(n)}}function kf(n){for(;X!==null;){var s=X;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:at||lo(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!at)if(o===null)u.componentDidMount();else{var d=s.elementType===s.type?o.memoizedProps:Ut(s.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&kh(s,p,u);break;case 3:var y=s.updateQueue;if(y!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}kh(s,y,o)}break;case 5:var S=s.stateNode;if(o===null&&s.flags&4){o=S;var b=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&o.focus();break;case"img":b.src&&(o.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var O=s.alternate;if(O!==null){var $=O.memoizedState;if($!==null){var V=$.dehydrated;V!==null&&ms(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}at||s.flags&512&&Rl(s)}catch(L){Ie(s,s.return,L)}}if(s===n){X=null;break}if(o=s.sibling,o!==null){o.return=s.return,X=o;break}X=s.return}}function bf(n){for(;X!==null;){var s=X;if(s===n){X=null;break}var o=s.sibling;if(o!==null){o.return=s.return,X=o;break}X=s.return}}function Tf(n){for(;X!==null;){var s=X;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{lo(4,s)}catch(b){Ie(s,o,b)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var d=s.return;try{u.componentDidMount()}catch(b){Ie(s,d,b)}}var p=s.return;try{Rl(s)}catch(b){Ie(s,p,b)}break;case 5:var y=s.return;try{Rl(s)}catch(b){Ie(s,y,b)}}}catch(b){Ie(s,s.return,b)}if(s===n){X=null;break}var S=s.sibling;if(S!==null){S.return=s.return,X=S;break}X=s.return}}var Tv=Math.ceil,uo=U.ReactCurrentDispatcher,Ol=U.ReactCurrentOwner,Nt=U.ReactCurrentBatchConfig,pe=0,Ye=null,Ue=null,Ze=0,bt=0,Ir=Sn(0),He=0,$s=null,Yn=0,co=0,Il=0,Vs=null,gt=null,Dl=0,Dr=1/0,cn=null,ho=!1,Ll=null,Pn=null,fo=!1,An=null,po=0,Us=0,Ml=null,mo=-1,go=0;function ct(){return(pe&6)!==0?Me():mo!==-1?mo:mo=Me()}function Rn(n){return(n.mode&1)===0?1:(pe&2)!==0&&Ze!==0?Ze&-Ze:lv.transition!==null?(go===0&&(go=yd()),go):(n=_e,n!==0||(n=window.event,n=n===void 0?16:Ed(n.type)),n)}function zt(n,s,o,u){if(50<Us)throw Us=0,Ml=null,Error(r(185));cs(n,o,u),((pe&2)===0||n!==Ye)&&(n===Ye&&((pe&2)===0&&(co|=o),He===4&&jn(n,Ze)),yt(n,u),o===1&&pe===0&&(s.mode&1)===0&&(Dr=Me()+500,zi&&bn()))}function yt(n,s){var o=n.callbackNode;l0(n,s);var u=bi(n,n===Ye?Ze:0);if(u===0)o!==null&&pd(o),n.callbackNode=null,n.callbackPriority=0;else if(s=u&-u,n.callbackPriority!==s){if(o!=null&&pd(o),s===1)n.tag===0?av(Cf.bind(null,n)):dh(Cf.bind(null,n)),rv(function(){(pe&6)===0&&bn()}),o=null;else{switch(vd(u)){case 1:o=ga;break;case 4:o=md;break;case 16:o=xi;break;case 536870912:o=gd;break;default:o=xi}o=Df(o,Ef.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function Ef(n,s){if(mo=-1,go=0,(pe&6)!==0)throw Error(r(327));var o=n.callbackNode;if(Lr()&&n.callbackNode!==o)return null;var u=bi(n,n===Ye?Ze:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||s)s=yo(n,u);else{s=u;var d=pe;pe|=2;var p=Af();(Ye!==n||Ze!==s)&&(cn=null,Dr=Me()+500,Qn(n,s));do try{Pv();break}catch(S){Pf(n,S)}while(!0);tl(),uo.current=p,pe=d,Ue!==null?s=0:(Ye=null,Ze=0,s=He)}if(s!==0){if(s===2&&(d=ya(n),d!==0&&(u=d,s=$l(n,d))),s===1)throw o=$s,Qn(n,0),jn(n,u),yt(n,Me()),o;if(s===6)jn(n,u);else{if(d=n.current.alternate,(u&30)===0&&!Ev(d)&&(s=yo(n,u),s===2&&(p=ya(n),p!==0&&(u=p,s=$l(n,p))),s===1))throw o=$s,Qn(n,0),jn(n,u),yt(n,Me()),o;switch(n.finishedWork=d,n.finishedLanes=u,s){case 0:case 1:throw Error(r(345));case 2:Zn(n,gt,cn);break;case 3:if(jn(n,u),(u&130023424)===u&&(s=Dl+500-Me(),10<s)){if(bi(n,0)!==0)break;if(d=n.suspendedLanes,(d&u)!==u){ct(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Wa(Zn.bind(null,n,gt,cn),s);break}Zn(n,gt,cn);break;case 4:if(jn(n,u),(u&4194240)===u)break;for(s=n.eventTimes,d=-1;0<u;){var y=31-Mt(u);p=1<<y,y=s[y],y>d&&(d=y),u&=~p}if(u=d,u=Me()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Tv(u/1960))-u,10<u){n.timeoutHandle=Wa(Zn.bind(null,n,gt,cn),u);break}Zn(n,gt,cn);break;case 5:Zn(n,gt,cn);break;default:throw Error(r(329))}}}return yt(n,Me()),n.callbackNode===o?Ef.bind(null,n):null}function $l(n,s){var o=Vs;return n.current.memoizedState.isDehydrated&&(Qn(n,s).flags|=256),n=yo(n,s),n!==2&&(s=gt,gt=o,s!==null&&Vl(s)),n}function Vl(n){gt===null?gt=n:gt.push.apply(gt,n)}function Ev(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!$t(p(),d))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function jn(n,s){for(s&=~Il,s&=~co,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-Mt(s),u=1<<o;n[o]=-1,s&=~u}}function Cf(n){if((pe&6)!==0)throw Error(r(327));Lr();var s=bi(n,0);if((s&1)===0)return yt(n,Me()),null;var o=yo(n,s);if(n.tag!==0&&o===2){var u=ya(n);u!==0&&(s=u,o=$l(n,u))}if(o===1)throw o=$s,Qn(n,0),jn(n,s),yt(n,Me()),o;if(o===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Zn(n,gt,cn),yt(n,Me()),null}function Ul(n,s){var o=pe;pe|=1;try{return n(s)}finally{pe=o,pe===0&&(Dr=Me()+500,zi&&bn())}}function Xn(n){An!==null&&An.tag===0&&(pe&6)===0&&Lr();var s=pe;pe|=1;var o=Nt.transition,u=_e;try{if(Nt.transition=null,_e=1,n)return n()}finally{_e=u,Nt.transition=o,pe=s,(pe&6)===0&&bn()}}function Bl(){bt=Ir.current,Ee(Ir)}function Qn(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,nv(o)),Ue!==null)for(o=Ue.return;o!==null;){var u=o;switch(Ya(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Bi();break;case 3:jr(),Ee(ft),Ee(st),ul();break;case 5:al(u);break;case 4:jr();break;case 13:Ee(Re);break;case 19:Ee(Re);break;case 10:nl(u.type._context);break;case 22:case 23:Bl()}o=o.return}if(Ye=n,Ue=n=Nn(n.current,null),Ze=bt=s,He=0,$s=null,Il=co=Yn=0,gt=Vs=null,qn!==null){for(s=0;s<qn.length;s++)if(o=qn[s],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=d,u.next=y}o.pending=u}qn=null}return n}function Pf(n,s){do{var o=Ue;try{if(tl(),Zi.current=ro,eo){for(var u=je.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}eo=!1}if(Jn=0,Je=We=je=null,Ns=!1,Os=0,Ol.current=null,o===null||o.return===null){He=1,$s=s,Ue=null;break}e:{var p=n,y=o.return,S=o,b=s;if(s=Ze,S.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var O=b,$=S,V=$.tag;if(($.mode&1)===0&&(V===0||V===11||V===15)){var L=$.alternate;L?($.updateQueue=L.updateQueue,$.memoizedState=L.memoizedState,$.lanes=L.lanes):($.updateQueue=null,$.memoizedState=null)}var G=Qh(y);if(G!==null){G.flags&=-257,Zh(G,y,S,p,s),G.mode&1&&Xh(p,O,s),s=G,b=O;var Q=s.updateQueue;if(Q===null){var Z=new Set;Z.add(b),s.updateQueue=Z}else Q.add(b);break e}else{if((s&1)===0){Xh(p,O,s),Fl();break e}b=Error(r(426))}}else if(Ae&&S.mode&1){var $e=Qh(y);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),Zh($e,y,S,p,s),Za(Nr(b,S));break e}}p=b=Nr(b,S),He!==4&&(He=2),Vs===null?Vs=[p]:Vs.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var A=Jh(p,b,s);Sh(p,A);break e;case 1:S=b;var E=p.type,N=p.stateNode;if((p.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Pn===null||!Pn.has(N)))){p.flags|=65536,s&=-s,p.lanes|=s;var z=Yh(p,S,s);Sh(p,z);break e}}p=p.return}while(p!==null)}jf(o)}catch(ee){s=ee,Ue===o&&o!==null&&(Ue=o=o.return);continue}break}while(!0)}function Af(){var n=uo.current;return uo.current=ro,n===null?ro:n}function Fl(){(He===0||He===3||He===2)&&(He=4),Ye===null||(Yn&268435455)===0&&(co&268435455)===0||jn(Ye,Ze)}function yo(n,s){var o=pe;pe|=2;var u=Af();(Ye!==n||Ze!==s)&&(cn=null,Qn(n,s));do try{Cv();break}catch(d){Pf(n,d)}while(!0);if(tl(),pe=o,uo.current=u,Ue!==null)throw Error(r(261));return Ye=null,Ze=0,He}function Cv(){for(;Ue!==null;)Rf(Ue)}function Pv(){for(;Ue!==null&&!Zy();)Rf(Ue)}function Rf(n){var s=If(n.alternate,n,bt);n.memoizedProps=n.pendingProps,s===null?jf(n):Ue=s,Ol.current=null}function jf(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=xv(o,s,bt),o!==null){Ue=o;return}}else{if(o=_v(o,s),o!==null){o.flags&=32767,Ue=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{He=6,Ue=null;return}}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=n}while(s!==null);He===0&&(He=5)}function Zn(n,s,o){var u=_e,d=Nt.transition;try{Nt.transition=null,_e=1,Av(n,s,o,u)}finally{Nt.transition=d,_e=u}return null}function Av(n,s,o,u){do Lr();while(An!==null);if((pe&6)!==0)throw Error(r(327));o=n.finishedWork;var d=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var p=o.lanes|o.childLanes;if(u0(n,p),n===Ye&&(Ue=Ye=null,Ze=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||fo||(fo=!0,Df(xi,function(){return Lr(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=Nt.transition,Nt.transition=null;var y=_e;_e=1;var S=pe;pe|=4,Ol.current=null,kv(n,o),_f(o,n),J0(Fa),Ci=!!Ba,Fa=Ba=null,n.current=o,bv(o),e0(),pe=S,_e=y,Nt.transition=p}else n.current=o;if(fo&&(fo=!1,An=n,po=d),p=n.pendingLanes,p===0&&(Pn=null),r0(o.stateNode),yt(n,Me()),s!==null)for(u=n.onRecoverableError,o=0;o<s.length;o++)d=s[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(ho)throw ho=!1,n=Ll,Ll=null,n;return(po&1)!==0&&n.tag!==0&&Lr(),p=n.pendingLanes,(p&1)!==0?n===Ml?Us++:(Us=0,Ml=n):Us=0,bn(),null}function Lr(){if(An!==null){var n=vd(po),s=Nt.transition,o=_e;try{if(Nt.transition=null,_e=16>n?16:n,An===null)var u=!1;else{if(n=An,An=null,po=0,(pe&6)!==0)throw Error(r(331));var d=pe;for(pe|=4,X=n.current;X!==null;){var p=X,y=p.child;if((X.flags&16)!==0){var S=p.deletions;if(S!==null){for(var b=0;b<S.length;b++){var O=S[b];for(X=O;X!==null;){var $=X;switch($.tag){case 0:case 11:case 15:Ms(8,$,p)}var V=$.child;if(V!==null)V.return=$,X=V;else for(;X!==null;){$=X;var L=$.sibling,G=$.return;if(gf($),$===O){X=null;break}if(L!==null){L.return=G,X=L;break}X=G}}}var Q=p.alternate;if(Q!==null){var Z=Q.child;if(Z!==null){Q.child=null;do{var $e=Z.sibling;Z.sibling=null,Z=$e}while(Z!==null)}}X=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,X=y;else e:for(;X!==null;){if(p=X,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Ms(9,p,p.return)}var A=p.sibling;if(A!==null){A.return=p.return,X=A;break e}X=p.return}}var E=n.current;for(X=E;X!==null;){y=X;var N=y.child;if((y.subtreeFlags&2064)!==0&&N!==null)N.return=y,X=N;else e:for(y=E;X!==null;){if(S=X,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:lo(9,S)}}catch(ee){Ie(S,S.return,ee)}if(S===y){X=null;break e}var z=S.sibling;if(z!==null){z.return=S.return,X=z;break e}X=S.return}}if(pe=d,bn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(_i,n)}catch{}u=!0}return u}finally{_e=o,Nt.transition=s}}return!1}function Nf(n,s,o){s=Nr(o,s),s=Jh(n,s,1),n=En(n,s,1),s=ct(),n!==null&&(cs(n,1,s),yt(n,s))}function Ie(n,s,o){if(n.tag===3)Nf(n,n,o);else for(;s!==null;){if(s.tag===3){Nf(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Pn===null||!Pn.has(u))){n=Nr(o,n),n=Yh(s,n,1),s=En(s,n,1),n=ct(),s!==null&&(cs(s,1,n),yt(s,n));break}}s=s.return}}function Rv(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),s=ct(),n.pingedLanes|=n.suspendedLanes&o,Ye===n&&(Ze&o)===o&&(He===4||He===3&&(Ze&130023424)===Ze&&500>Me()-Dl?Qn(n,0):Il|=o),yt(n,s)}function Of(n,s){s===0&&((n.mode&1)===0?s=1:(s=ki,ki<<=1,(ki&130023424)===0&&(ki=4194304)));var o=ct();n=an(n,s),n!==null&&(cs(n,s,o),yt(n,o))}function jv(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Of(n,o)}function Nv(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(s),Of(n,o)}var If;If=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||ft.current)mt=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return mt=!1,wv(n,s,o);mt=(n.flags&131072)!==0}else mt=!1,Ae&&(s.flags&1048576)!==0&&hh(s,Hi,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;oo(n,s),n=s.pendingProps;var d=br(s,st.current);Rr(s,o),d=hl(null,s,u,n,d,o);var p=fl();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,pt(u)?(p=!0,Fi(s)):p=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,il(s),d.updater=so,s.stateNode=d,d._reactInternals=s,wl(s,u,n,o),s=kl(null,s,u,!0,p,o)):(s.tag=0,Ae&&p&&Ja(s),ut(null,s,d,o),s=s.child),s;case 16:u=s.elementType;e:{switch(oo(n,s),n=s.pendingProps,d=u._init,u=d(u._payload),s.type=u,d=s.tag=Iv(u),n=Ut(u,n),d){case 0:s=Sl(null,s,u,n,o);break e;case 1:s=of(null,s,u,n,o);break e;case 11:s=ef(null,s,u,n,o);break e;case 14:s=tf(null,s,u,Ut(u.type,n),o);break e}throw Error(r(306,u,""))}return s;case 0:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:Ut(u,d),Sl(n,s,u,d,o);case 1:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:Ut(u,d),of(n,s,u,d,o);case 3:e:{if(af(s),n===null)throw Error(r(387));u=s.pendingProps,p=s.memoizedState,d=p.element,_h(n,s),Xi(s,u,null,o);var y=s.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){d=Nr(Error(r(423)),s),s=lf(n,s,u,o,d);break e}else if(u!==d){d=Nr(Error(r(424)),s),s=lf(n,s,u,o,d);break e}else for(kt=_n(s.stateNode.containerInfo.firstChild),St=s,Ae=!0,Vt=null,o=wh(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Cr(),u===d){s=un(n,s,o);break e}ut(n,s,u,o)}s=s.child}return s;case 5:return bh(s),n===null&&Qa(s),u=s.type,d=s.pendingProps,p=n!==null?n.memoizedProps:null,y=d.children,za(u,d)?y=null:p!==null&&za(u,p)&&(s.flags|=32),sf(n,s),ut(n,s,y,o),s.child;case 6:return n===null&&Qa(s),null;case 13:return uf(n,s,o);case 4:return ol(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Pr(s,null,u,o):ut(n,s,u,o),s.child;case 11:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:Ut(u,d),ef(n,s,u,d,o);case 7:return ut(n,s,s.pendingProps,o),s.child;case 8:return ut(n,s,s.pendingProps.children,o),s.child;case 12:return ut(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(u=s.type._context,d=s.pendingProps,p=s.memoizedProps,y=d.value,ke(Gi,u._currentValue),u._currentValue=y,p!==null)if($t(p.value,y)){if(p.children===d.children&&!ft.current){s=un(n,s,o);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var S=p.dependencies;if(S!==null){y=p.child;for(var b=S.firstContext;b!==null;){if(b.context===u){if(p.tag===1){b=ln(-1,o&-o),b.tag=2;var O=p.updateQueue;if(O!==null){O=O.shared;var $=O.pending;$===null?b.next=b:(b.next=$.next,$.next=b),O.pending=b}}p.lanes|=o,b=p.alternate,b!==null&&(b.lanes|=o),rl(p.return,o,s),S.lanes|=o;break}b=b.next}}else if(p.tag===10)y=p.type===s.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(r(341));y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),rl(y,o,s),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===s){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}ut(n,s,d.children,o),s=s.child}return s;case 9:return d=s.type,u=s.pendingProps.children,Rr(s,o),d=Rt(d),u=u(d),s.flags|=1,ut(n,s,u,o),s.child;case 14:return u=s.type,d=Ut(u,s.pendingProps),d=Ut(u.type,d),tf(n,s,u,d,o);case 15:return nf(n,s,s.type,s.pendingProps,o);case 17:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:Ut(u,d),oo(n,s),s.tag=1,pt(u)?(n=!0,Fi(s)):n=!1,Rr(s,o),qh(s,u,d),wl(s,u,d,o),kl(null,s,u,!0,n,o);case 19:return df(n,s,o);case 22:return rf(n,s,o)}throw Error(r(156,s.tag))};function Df(n,s){return fd(n,s)}function Ov(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(n,s,o,u){return new Ov(n,s,o,u)}function zl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Iv(n){if(typeof n=="function")return zl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ge)return 11;if(n===te)return 14}return 2}function Nn(n,s){var o=n.alternate;return o===null?(o=Ot(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function vo(n,s,o,u,d,p){var y=2;if(u=n,typeof n=="function")zl(n)&&(y=1);else if(typeof n=="string")y=5;else e:switch(n){case W:return er(o.children,d,p,s);case F:y=8,d|=8;break;case le:return n=Ot(12,o,s,d|2),n.elementType=le,n.lanes=p,n;case ze:return n=Ot(13,o,s,d),n.elementType=ze,n.lanes=p,n;case rt:return n=Ot(19,o,s,d),n.elementType=rt,n.lanes=p,n;case ae:return wo(o,d,p,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case we:y=10;break e;case Ve:y=9;break e;case Ge:y=11;break e;case te:y=14;break e;case fe:y=16,u=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Ot(y,o,s,d),s.elementType=n,s.type=u,s.lanes=p,s}function er(n,s,o,u){return n=Ot(7,n,u,s),n.lanes=o,n}function wo(n,s,o,u){return n=Ot(22,n,u,s),n.elementType=ae,n.lanes=o,n.stateNode={isHidden:!1},n}function Wl(n,s,o){return n=Ot(6,n,null,s),n.lanes=o,n}function Hl(n,s,o){return s=Ot(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Dv(n,s,o,u,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Kl(n,s,o,u,d,p,y,S,b){return n=new Dv(n,s,o,S,b),s===1?(s=1,p===!0&&(s|=8)):s=0,p=Ot(3,null,null,s),n.current=p,p.stateNode=n,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},il(p),n}function Lv(n,s,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:u==null?null:""+u,children:n,containerInfo:s,implementation:o}}function Lf(n){if(!n)return kn;n=n._reactInternals;e:{if(Fn(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(pt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var o=n.type;if(pt(o))return uh(n,o,s)}return s}function Mf(n,s,o,u,d,p,y,S,b){return n=Kl(o,u,!0,n,d,p,y,S,b),n.context=Lf(null),o=n.current,u=ct(),d=Rn(o),p=ln(u,d),p.callback=s??null,En(o,p,d),n.current.lanes=d,cs(n,d,u),yt(n,u),n}function xo(n,s,o,u){var d=s.current,p=ct(),y=Rn(d);return o=Lf(o),s.context===null?s.context=o:s.pendingContext=o,s=ln(p,y),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=En(d,s,y),n!==null&&(zt(n,d,y,p),Yi(n,d,y)),y}function _o(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function $f(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function ql(n,s){$f(n,s),(n=n.alternate)&&$f(n,s)}function Mv(){return null}var Vf=typeof reportError=="function"?reportError:function(n){console.error(n)};function Gl(n){this._internalRoot=n}So.prototype.render=Gl.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));xo(n,s,null,null)},So.prototype.unmount=Gl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Xn(function(){xo(null,n,null,null)}),s[nn]=null}};function So(n){this._internalRoot=n}So.prototype.unstable_scheduleHydration=function(n){if(n){var s=_d();n={blockedOn:null,target:n,priority:s};for(var o=0;o<vn.length&&s!==0&&s<vn[o].priority;o++);vn.splice(o,0,n),o===0&&bd(n)}};function Jl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ko(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Uf(){}function $v(n,s,o,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var O=_o(y);p.call(O)}}var y=Mf(s,u,n,0,null,!1,!1,"",Uf);return n._reactRootContainer=y,n[nn]=y.current,bs(n.nodeType===8?n.parentNode:n),Xn(),y}for(;d=n.lastChild;)n.removeChild(d);if(typeof u=="function"){var S=u;u=function(){var O=_o(b);S.call(O)}}var b=Kl(n,0,!1,null,null,!1,!1,"",Uf);return n._reactRootContainer=b,n[nn]=b.current,bs(n.nodeType===8?n.parentNode:n),Xn(function(){xo(s,b,o,u)}),b}function bo(n,s,o,u,d){var p=o._reactRootContainer;if(p){var y=p;if(typeof d=="function"){var S=d;d=function(){var b=_o(y);S.call(b)}}xo(s,y,n,d)}else y=$v(o,s,n,d,u);return _o(y)}wd=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=us(s.pendingLanes);o!==0&&(wa(s,o|1),yt(s,Me()),(pe&6)===0&&(Dr=Me()+500,bn()))}break;case 13:Xn(function(){var u=an(n,1);if(u!==null){var d=ct();zt(u,n,1,d)}}),ql(n,1)}},xa=function(n){if(n.tag===13){var s=an(n,134217728);if(s!==null){var o=ct();zt(s,n,134217728,o)}ql(n,134217728)}},xd=function(n){if(n.tag===13){var s=Rn(n),o=an(n,s);if(o!==null){var u=ct();zt(o,n,s,u)}ql(n,s)}},_d=function(){return _e},Sd=function(n,s){var o=_e;try{return _e=n,s()}finally{_e=o}},ha=function(n,s,o){switch(s){case"input":if(sa(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var d=Ui(u);if(!d)throw Error(r(90));Kc(u),sa(u,d)}}}break;case"textarea":Xc(n,o);break;case"select":s=o.value,s!=null&&hr(n,!!o.multiple,s,!1)}},od=Ul,ad=Xn;var Vv={usingClientEntryPoint:!1,Events:[Cs,Sr,Ui,sd,id,Ul]},Bs={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uv={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=dd(n),n===null?null:n.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||Mv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{_i=To.inject(Uv),Jt=To}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vv,vt.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(s))throw Error(r(200));return Lv(n,s,null,o)},vt.createRoot=function(n,s){if(!Jl(n))throw Error(r(299));var o=!1,u="",d=Vf;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Kl(n,1,!1,null,null,o,!1,u,d),n[nn]=s.current,bs(n.nodeType===8?n.parentNode:n),new Gl(s)},vt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=dd(s),n=n===null?null:n.stateNode,n},vt.flushSync=function(n){return Xn(n)},vt.hydrate=function(n,s,o){if(!ko(s))throw Error(r(200));return bo(null,n,s,!0,o)},vt.hydrateRoot=function(n,s,o){if(!Jl(n))throw Error(r(405));var u=o!=null&&o.hydratedSources||null,d=!1,p="",y=Vf;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),s=Mf(s,null,n,1,o??null,d,!1,p,y),n[nn]=s.current,bs(n),u)for(n=0;n<u.length;n++)o=u[n],d=o._getVersion,d=d(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,d]:s.mutableSourceEagerHydrationData.push(o,d);return new So(s)},vt.render=function(n,s,o){if(!ko(s))throw Error(r(200));return bo(null,n,s,!1,o)},vt.unmountComponentAtNode=function(n){if(!ko(n))throw Error(r(40));return n._reactRootContainer?(Xn(function(){bo(null,null,n,!1,function(){n._reactRootContainer=null,n[nn]=null})}),!0):!1},vt.unstable_batchedUpdates=Ul,vt.unstable_renderSubtreeIntoContainer=function(n,s,o,u){if(!ko(o))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return bo(n,s,o,!1,u)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var Gf;function Yv(){if(Gf)return Ql.exports;Gf=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ql.exports=Jv(),Ql.exports}var Jf;function Xv(){if(Jf)return Eo;Jf=1;var t=Yv();return Eo.createRoot=t.createRoot,Eo.hydrateRoot=t.hydrateRoot,Eo}var Qv=Xv();function Jo(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function Zv(t,e,r,i){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function h(g){try{m(i.next(g))}catch(v){c(v)}}function f(g){try{m(i.throw(g))}catch(v){c(v)}}function m(g){g.done?l(g.value):a(g.value).then(h,f)}m((i=i.apply(t,e||[])).next())})}const ew=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class oc extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class tw extends oc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yf extends oc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xf extends oc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Eu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Eu||(Eu={}));class nw{constructor(e,{headers:r={},customFetch:i,region:a=Eu.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=ew(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Zv(this,arguments,void 0,function*(r,i={}){var a;let l,c;try{const{headers:h,method:f,body:m,signal:g,timeout:v}=i;let w={},{region:_}=i;_||(_=this.region);const k=new URL(`${this.url}/${r}`);_&&_!=="any"&&(w["x-region"]=_,k.searchParams.set("forceFunctionRegion",_));let T;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=m):typeof m=="string"?(w["Content-Type"]="text/plain",T=m):typeof FormData<"u"&&m instanceof FormData?T=m:(w["Content-Type"]="application/json",T=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?T=JSON.stringify(m):T=m;let P=g;v&&(c=new AbortController,l=setTimeout(()=>c.abort(),v),g?(P=c.signal,g.addEventListener("abort",()=>c.abort())):P=c.signal);const R=yield this.fetch(k.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:T,signal:P}).catch(H=>{throw new tw(H)}),I=R.headers.get("x-relay-error");if(I&&I==="true")throw new Yf(R);if(!R.ok)throw new Xf(R);let j=((a=R.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),U;return j==="application/json"?U=yield R.json():j==="application/octet-stream"||j==="application/pdf"?U=yield R.blob():j==="text/event-stream"?U=R:j==="multipart/form-data"?U=yield R.formData():U=yield R.text(),{data:U,error:null,response:R}}catch(h){return{data:null,error:h,response:h instanceof Xf||h instanceof Yf?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var rw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},sw=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,h=null,f=null,m=l.status,g=l.statusText;if(l.ok){var v,w;if(r.method!=="HEAD"){var _;const R=await l.text();R===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((_=r.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?h=R:h=JSON.parse(R))}const T=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),P=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&P&&P.length>1&&(f=parseInt(P[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var k;const T=await l.text();try{c=JSON.parse(T),Array.isArray(c)&&l.status===404&&(h=[],c=null,m=200,g="OK")}catch{l.status===404&&T===""?(m=204,g="No Content"):c={message:T}}if(c&&r.isMaybeSingle&&(!(c==null||(k=c.details)===null||k===void 0)&&k.includes("0 rows"))&&(c=null,m=200,g="OK"),c&&r.shouldThrowOnError)throw new rw(c)}return{error:c,data:h,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let h="";const f=l==null?void 0:l.cause;if(f){var m,g,v,w;const k=(m=f==null?void 0:f.message)!==null&&m!==void 0?m:"",T=(g=f==null?void 0:f.code)!==null&&g!==void 0?g:"";h=`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(w=f==null?void 0:f.name)!==null&&w!==void 0?w:"Error"}: ${k}`,T&&(h+=` (${T})`),f!=null&&f.stack&&(h+=`
${f.stack}`)}else{var _;h=(_=l==null?void 0:l.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},iw=class extends sw{select(t){let e=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var c;const h=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Qf=new RegExp("[,()]");var zr=class extends iw{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Qf.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Qf.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},ow=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:i}=e??{},a=r?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",c),i&&f.append("Prefer",`count=${i}`),new zr({method:a,url:h,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),r||c.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);l.searchParams.set("columns",f.join(","))}}return new zr({method:a,url:l,headers:c,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var l;const c="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),i&&f.append("Prefer",`count=${i}`),a||f.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);h.searchParams.set("columns",g.join(","))}}return new zr({method:c,url:h,headers:f,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var r;const i="PATCH",{url:a,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new zr({method:i,url:a,headers:l,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new zr({method:r,url:i,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},aw=class Bm{constructor(e,{headers:r={},schema:i,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=i,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ow(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Bm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:i=!1,get:a=!1,count:l}={}){var c;let h;const f=new URL(`${this.url}/rpc/${e}`);let m;const g=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(g)),v=i&&Object.values(r).some(g);v?(h="POST",m=r):i||a?(h=i?"HEAD":"GET",Object.entries(r).filter(([_,k])=>k!==void 0).map(([_,k])=>[_,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([_,k])=>{f.searchParams.append(_,k)})):(h="POST",m=r);const w=new Headers(this.headers);return v?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new zr({method:h,url:f,headers:w,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class lw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const a=i.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const uw="2.90.1",cw=`realtime-js/${uw}`,Fm="1.0.0",dw="2.0.0",Zf=Fm,Cu=1e4,hw=1e3,fw=100;var Dn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dn||(Dn={}));var Ke;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ke||(Ke={}));var Gt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Gt||(Gt={}));var Pu;(function(t){t.websocket="websocket"})(Pu||(Pu={}));var or;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(or||(or={}));class pw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,i){var a,l;const c=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",f=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+c.length+m.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let k=new DataView(_),T=0;k.setUint8(T++,this.KINDS.userBroadcastPush),k.setUint8(T++,f.length),k.setUint8(T++,h.length),k.setUint8(T++,c.length),k.setUint8(T++,m.length),k.setUint8(T++,v.length),k.setUint8(T++,r),Array.from(f,R=>k.setUint8(T++,R.charCodeAt(0))),Array.from(h,R=>k.setUint8(T++,R.charCodeAt(0))),Array.from(c,R=>k.setUint8(T++,R.charCodeAt(0))),Array.from(m,R=>k.setUint8(T++,R.charCodeAt(0))),Array.from(v,R=>k.setUint8(T++,R.charCodeAt(0)));var P=new Uint8Array(_.byteLength+i.byteLength);return P.set(new Uint8Array(_),0),P.set(new Uint8Array(i),_.byteLength),P.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,c,h,f]=i;return r({join_ref:a,ref:l,topic:c,event:h,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),h=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=i.decode(e.slice(f,f+a));f=f+a;const g=i.decode(e.slice(f,f+l));f=f+l;const v=i.decode(e.slice(f,f+c));f=f+c;const w=e.slice(f,e.byteLength),_=h===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,k={type:this.BROADCAST_EVENT,event:g,payload:_};return c>0&&(k.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class zm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(be||(be={}));const ep=(t,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=mw(c,t,e,a),l),{}):{}},mw=(t,e,r,i)=>{const a=e.find(h=>h.name===t),l=a==null?void 0:a.type,c=r[t];return l&&!i.includes(l)?Wm(l,c):Au(c)},Wm=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ww(e,r)}switch(t){case be.bool:return gw(e);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return yw(e);case be.json:case be.jsonb:return vw(e);case be.timestamp:return xw(e);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return Au(e);default:return Au(e)}},Au=t=>t,gw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ww=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Wm(e,h))}return t},xw=t=>typeof t=="string"?t.replace(" ","T"):t,Hm=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class tu{constructor(e,r,i={},a=Cu){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(tp||(tp={}));class qs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qs.syncState(this.state,a,l,c),this.pendingDiffs.forEach(f=>{this.state=qs.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=qs.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const l=this.cloneDeep(e),c=this.transformState(r),h={},f={};return this.map(l,(m,g)=>{c[m]||(f[m]=g)}),this.map(c,(m,g)=>{const v=l[m];if(v){const w=g.map(P=>P.presence_ref),_=v.map(P=>P.presence_ref),k=g.filter(P=>_.indexOf(P.presence_ref)<0),T=v.filter(P=>w.indexOf(P.presence_ref)<0);k.length>0&&(h[m]=k),T.length>0&&(f[m]=T)}else h[m]=g}),this.syncDiff(l,{joins:h,leaves:f},i,a)}static syncDiff(e,r,i,a){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(h,f)=>{var m;const g=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(f),g.length>0){const v=e[h].map(_=>_.presence_ref),w=g.filter(_=>v.indexOf(_.presence_ref)<0);e[h].unshift(...w)}i(h,g,f)}),this.map(c,(h,f)=>{let m=e[h];if(!m)return;const g=f.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),e[h]=m,a(h,m,f),m.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var np;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(np||(np={}));var Gs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Gs||(Gs={}));var dn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dn||(dn={}));class Kr{constructor(e,r={config:{}},i){var a,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new tu(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new zm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new qs(this),this.broadcastEndpointURL=Hm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:c,presence:h,private:f}}=this.params,m=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[Gs.PRESENCE]&&this.bindings[Gs.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(dn.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(dn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e==null||e(dn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,P=(k=T==null?void 0:T.length)!==null&&k!==void 0?k:0,R=[];for(let I=0;I<P;I++){const j=T[I],{filter:{event:U,schema:H,table:K,filter:W}}=j,F=_&&_[I];if(F&&F.event===U&&Kr.isFilterValueEqual(F.schema,H)&&Kr.isFilterValueEqual(F.table,K)&&Kr.isFilterValueEqual(F.filter,W))R.push(Object.assign(Object.assign({},j),{id:F.id}));else{this.unsubscribe(),this.state=Ke.errored,e==null||e(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(dn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ke.errored,e==null||e(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===Ke.joined&&e===Gs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const m=await h.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,f;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ke.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new tu(this,Gt.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ke.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),c}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new tu(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,l;const c=e.toLocaleLowerCase(),{close:h,error:f,leave:m,join:g}=Gt;if(i&&[h,f,m,g].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var k,T,P;return((k=_.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(T=_.filter)===null||T===void 0?void 0:T.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===c}).map(_=>_.callback(w,i)):(l=this.bindings[c])===null||l===void 0||l.filter(_=>{var k,T,P,R,I,j,U,H;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const K=_.id,W=(k=_.filter)===null||k===void 0?void 0:k.event;return K&&((T=r.ids)===null||T===void 0?void 0:T.includes(K))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))&&(!(!((R=_.filter)===null||R===void 0)&&R.table)||_.filter.table===((I=r.data)===null||I===void 0?void 0:I.table))}else{const K=(U=(j=_==null?void 0:_.filter)===null||j===void 0?void 0:j.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return K==="*"||K===((H=r==null?void 0:r.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:T,table:P,commit_timestamp:R,type:I,errors:j}=k;w=Object.assign(Object.assign({},{schema:T,table:P,commit_timestamp:R,eventType:I,new:{},old:{},errors:j}),this._getPayloadRecords(k))}_.callback(w,i)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),l={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Kr.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gt.close,{},e)}_onError(e){this._on(Gt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ep(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ep(e.columns,e.old_record)),r}}const nu=()=>{},Co={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_w=[1e3,2e3,5e3,1e4],Sw=1e4,kw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bw{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cu,this.transport=null,this.heartbeatIntervalMs=Co.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nu,this.ref=0,this.reconnectTimer=null,this.vsn=Zf,this.logger=nu,this.conn=null,this.sendBuffer=[],this.serializer=new pw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Pu.websocket}`,this.httpEndpoint=Hm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return or.Connecting;case Dn.open:return or.Open;case Dn.closing:return or.Closing;default:return or.Closed}}isConnected(){return this.connectionState()===or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Kr(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${r} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Co.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:a,payload:l,ref:c}=r,h=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${i} ${a} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(a,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Dn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Dn.open||this.conn.readyState===Dn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([kw],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,i=!1;if(e)r=e,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const l={access_token:r,version:cw};r&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Gt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new zm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Co.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,l,c,h,f,m,g,v,w,_;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Cu,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Co.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:nu,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:Zf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(k=>_w[k-1]||Sw),this.vsn){case Fm:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((k,T)=>T(JSON.stringify(k))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((k,T)=>T(JSON.parse(k)));break;case dw:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Zs=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Tw(t,e,r){const i=new URL(e,t);if(r)for(const[a,l]of Object.entries(r))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function Ew(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Cw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:l,headers:c}){const h=Tw(t.baseUrl,i,a),f=await Ew(t.auth),m=await e(h,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...c},body:l?JSON.stringify(l):void 0}),g=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),w=v&&g?JSON.parse(g):g;if(!m.ok){const _=v?w:void 0,k=_==null?void 0:_.error;throw new Zs((k==null?void 0:k.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:_})}return{status:m.status,headers:m.headers,data:w}}}}function Po(t){return t.join("")}var Pw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Po(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Po(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Po(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Po(t.namespace)}`}),!0}catch(e){if(e instanceof Zs&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Zs&&r.status===409)return;throw r}}};function Mr(t){return t.join("")}var Aw=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Zs&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Zs&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Rw=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Cw({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new Pw(this.client,e),this.tableOps=new Aw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Yo=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var jw=class extends Yo{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ru=class extends Yo{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const ac=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Nw=()=>Response,ju=t=>{if(Array.isArray(t))return t.map(r=>ju(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=ju(i)}),e},Ow=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Iw=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ei(t){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ei(t)}function Dw(t,e){if(ei(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(ei(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lw(t){var e=Dw(t,"string");return ei(e)=="symbol"?e:e+""}function Mw(t,e,r){return(e=Lw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,i)}return r}function oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rp(Object(r),!0).forEach(function(i){Mw(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rp(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const ru=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},$w=async(t,e,r)=>{t instanceof await Nw()&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,l=(i==null?void 0:i.statusCode)||a+"";e(new jw(ru(i),a,l))}).catch(i=>{e(new Ru(ru(i),i))}):e(new Ru(ru(t),t))},Vw=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(Ow(i)?(a.headers=oe({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),oe(oe({},a),r))};async function ci(t,e,r,i,a,l){return new Promise((c,h)=>{t(r,Vw(e,i,a,l)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>$w(f,h,i))})}async function ti(t,e,r,i){return ci(t,"GET",e,r,i)}async function qt(t,e,r,i,a){return ci(t,"POST",e,i,a,r)}async function Nu(t,e,r,i,a){return ci(t,"PUT",e,i,a,r)}async function Uw(t,e,r,i){return ci(t,"HEAD",e,oe(oe({},r),{},{noResolveJson:!0}),i)}async function lc(t,e,r,i,a){return ci(t,"DELETE",e,i,a,r)}var Bw=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ne(e))return{data:null,error:e};throw e}}};let Km;Km=Symbol.toStringTag;var Fw=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Km]="BlobDownloadBuilder",this.promise=null}asStream(){return new Bw(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ne(e))return{data:null,error:e};throw e}}};const zw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ww=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=ac(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,i){var a=this;try{let l;const c=oe(oe({},sp),i);let h=oe(oe({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",a.encodeMetadata(f)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),f&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(f))):(l=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,f&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i!=null&&i.headers&&(h=oe(oe({},h),i.headers));const m=a._removeEmptyFolders(e),g=a._getFinalPath(m),v=await(t=="PUT"?Nu:qt)(a.fetch,`${a.url}/object/${g}`,l,oe({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,i){var a=this;const l=a._removeEmptyFolders(t),c=a._getFinalPath(l),h=new URL(a.url+`/object/upload/sign/${c}`);h.searchParams.set("token",e);try{let f;const m=oe({upsert:sp.upsert},i),g=oe(oe({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",m.cacheControl)):(f=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{data:{path:l,fullPath:(await Nu(a.fetch,h.toString(),f,{headers:g})).Key},error:null}}catch(f){if(a.shouldThrowOnError)throw f;if(Ne(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var r=this;try{let i=r._getFinalPath(t);const a=oe({},r.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await qt(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(r.url+l.url),h=c.searchParams.get("token");if(!h)throw new Yo("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var i=this;try{return{data:await qt(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}async copy(t,e,r){var i=this;try{return{data:{path:(await qt(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers})).Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var i=this;try{let a=i._getFinalPath(t),l=await qt(i.fetch,`${i.url}/object/sign/${a}`,oe({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:i.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var i=this;try{const a=await qt(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>oe(oe({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>ti(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Fw(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:ju(await ti(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Uw(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ne(i)&&i instanceof Ru){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&i.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${h}`)}}}async remove(t){var e=this;try{return{data:await lc(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async list(t,e,r){var i=this;try{const a=oe(oe(oe({},zw),e),{},{prefix:t||""});return{data:await qt(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},r),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const i=oe({},t);return{data:await qt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},e),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const qm="2.90.1",Gm={"X-Client-Info":`storage-js/${qm}`};var Hw=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=oe(oe({},Gm),e),this.fetch=ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await ti(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await ti(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await qt(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var r=this;try{return{data:await Nu(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await lc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Kw=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},Gm),e),this.fetch=ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const i=r.toString(),a=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await ti(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await lc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!Iw(t))throw new Yo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Rw({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(a,h),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}};const uc={"X-Client-Info":`storage-js/${qm}`,"Content-Type":"application/json"};var Jm=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Et(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var su=class extends Jm{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qw=class extends Jm{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const cc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Gw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ip=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jw=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new su(ip(l),i,c))}).catch(()=>{const l=i+"";e(new su(a.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";e(new su(a.statusText||`HTTP ${i} error`,i,l))}}else e(new qw(ip(t),t))},Yw=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(Gw(i)?(a.headers=oe({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,oe(oe({},a),r)):a};async function Xw(t,e,r,i,a,l){return new Promise((c,h)=>{t(r,Yw(e,i,a,l)).then(f=>{if(!f.ok)throw f;if(i!=null&&i.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>Jw(f,h,i))})}async function Ct(t,e,r,i,a){return Xw(t,"POST",e,i,a,r)}var Qw=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},uc),e),this.fetch=cc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}},Zw=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},uc),e),this.fetch=cc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ct(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ct(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ct(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}},ex=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},uc),e),this.fetch=cc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}},tx=class extends ex{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new nx(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},nx=class extends Qw{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new rx(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},rx=class extends Zw{constructor(t,e,r,i,a){super(t,e,a),this.vectorBucketName=r,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,oe(oe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},sx=class extends Hw{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new Ww(this.url,this.headers,t,this.fetch)}get vectors(){return new tx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kw(this.url+"/iceberg",this.headers,this.fetch)}};const Ym="2.90.1",Wr=30*1e3,Ou=3,iu=Ou*Wr,ix="http://localhost:9999",ox="supabase.auth.token",ax={"X-Client-Info":`gotrue-js/${Ym}`},Iu="X-Supabase-Api-Version",Xm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ux=600*1e3;class ni extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cx extends ni{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function dx(t){return ne(t)&&t.name==="AuthApiError"}class ar extends ni{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class pn extends ni{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}}class Tt extends pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hx(t){return ne(t)&&t.name==="AuthSessionMissingError"}class $r extends pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ao extends pn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ro extends pn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fx(t){return ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class op extends pn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class px extends pn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Du extends pn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ou(t){return ne(t)&&t.name==="AuthRetryableFetchError"}class ap extends pn{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Lu extends pn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lp=` 	
\r=`.split(""),mx=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<lp.length;e+=1)t[lp[e].charCodeAt(0)]=-2;for(let e=0;e<Vo.length;e+=1)t[Vo[e].charCodeAt(0)]=e;return t})();function up(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Vo[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Vo[i]),e.queuedBits-=6}}function Qm(t,e,r){const i=mx[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cp(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{vx(c,i,r)};for(let c=0;c<t.length;c+=1)Qm(t.charCodeAt(c),a,l);return e.join("")}function gx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function yx(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}gx(i,e)}}function vx(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Xr(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Qm(t.charCodeAt(a),r,i);return new Uint8Array(e)}function wx(t){const e=[];return yx(t,r=>e.push(r)),new Uint8Array(e)}function lr(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>up(a,r,i)),up(null,r,i),e.join("")}function xx(t){return Math.round(Date.now()/1e3)+t}function _x(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},Zm=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function Sx(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const eg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Hr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},nr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},et=async(t,e)=>{await t.removeItem(e)};class Xo{constructor(){this.promise=new Xo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Xo.promiseConstructor=Promise;function au(t){const e=t.split(".");if(e.length!==3)throw new Lu("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!lx.test(e[i]))throw new Lu("JWT not in base64url format");return{header:JSON.parse(cp(e[0])),payload:JSON.parse(cp(e[1])),signature:Xr(e[2]),raw:{header:e[0],payload:e[1]}}}async function bx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Tx(t,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function Ex(t){return("0"+t.toString(16)).substr(-2)}function Cx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,Ex).join("")}async function Px(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Ax(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Px(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vr(t,e,r=!1){const i=Cx();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await Hr(t,`${e}-code-verifier`,a);const l=await Ax(i);return[l,i===l?"plain":"s256"]}const Rx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jx(t){const e=t.headers.get(Iu);if(!e||!e.match(Rx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Nx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ox(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ix=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ur(t){if(!Ix.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lu(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dx(t,e){return new Proxy(t,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function dp(t){return JSON.parse(JSON.stringify(t))}const sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lx=[502,503,504];async function hp(t){var e;if(!kx(t))throw new Du(sr(t),0);if(Lx.includes(t.status))throw new Du(sr(t),t.status);let r;try{r=await t.json()}catch(l){throw new ar(sr(l),l)}let i;const a=jx(t);if(a&&a.getTime()>=Xm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new ap(sr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Tt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new ap(sr(r),t.status,r.weak_password.reasons);throw new cx(sr(r),t.status||500,i)}const Mx=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function ie(t,e,r,i){var a;const l=Object.assign({},i==null?void 0:i.headers);l[Iu]||(l[Iu]=Xm["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await $x(t,e,r+h,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function $x(t,e,r,i,a,l){const c=Mx(e,i,a,l);let h;try{h=await t(r,Object.assign({},c))}catch(f){throw console.error(f),new Du(sr(f),0)}if(h.ok||await hp(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(f){await hp(f)}}function Ht(t){var e;let r=null;Bx(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=xx(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function fp(t){const e=Ht(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ln(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Vx(t){return{data:t,error:null}}function Ux(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l}=t,c=Jo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l},f=Object.assign({},c);return{data:{properties:h,user:f},error:null}}function pp(t){return t}function Bx(t){return t.access_token&&t.refresh_token&&t.expires_in}const uu=["global","local","others"];class Fx{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=eg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=uu[0]){if(uu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uu.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ln})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Jo(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Ux,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ln})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,l,c,h,f;try{const m={nextPage:null,lastPage:0,total:0},g=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:pp});if(g.error)throw g.error;const v=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);m[`${P}Page`]=T}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ne(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Ur(e);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ln})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ur(e);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ln})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Ur(e);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ln})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Ur(e.userId);try{const{data:r,error:i}=await ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ur(e.userId),Ur(e.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,l,c,h,f;try{const m={nextPage:null,lastPage:0,total:0},g=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:pp});if(g.error)throw g.error;const v=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);m[`${P}Page`]=T}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ne(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function mp(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Br={debug:!!(globalThis&&Zm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zx extends tg{}async function Wx(t,e,r){Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Br.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Hx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ng(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Kx(t){return parseInt(t,16)}function qx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Gx(t){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:f,resources:m,scheme:g,uri:v,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=ng(t.address),k=g?`${g}://${i}`:i,T=t.statement?`${t.statement}
`:"",P=`${k} wants you to sign in with your Ethereum account:
${_}

${T}`;let R=`URI: ${v}
Version: ${w}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(R+=`
Expiration Time: ${a.toISOString()}`),h&&(R+=`
Not Before: ${h.toISOString()}`),f&&(R+=`
Request ID: ${f}`),m){let I=`
Resources:`;for(const j of m){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);I+=`
- ${j}`}R+=I}return`${P}
${R}`}class Be extends Error{constructor({message:e,code:r,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Uo extends Be{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Jx({error:t,options:e}){var r,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(rg(c)){if(l.rp.id!==c)return new Be({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Yx({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(rg(i)){if(r.rpId!==i)return new Be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Xx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Qx=new Xx;function Zx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,a=Jo(t,["challenge","user","excludeCredentials"]),l=Xr(e).buffer,c=Object.assign(Object.assign({},r),{id:Xr(r.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];h.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Xr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function e_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=Jo(t,["challenge","allowCredentials"]),a=Xr(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const h=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Xr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function t_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:lr(new Uint8Array(t.response.attestationObject)),clientDataJSON:lr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function n_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:lr(new Uint8Array(a.authenticatorData)),clientDataJSON:lr(new Uint8Array(a.clientDataJSON)),signature:lr(new Uint8Array(a.signature)),userHandle:a.userHandle?lr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function gp(){var t,e;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function r_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",e)}:{data:null,error:new Uo("Empty credential response",e)}}catch(e){return{data:null,error:Jx({error:e,options:t})}}}async function s_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",e)}:{data:null,error:new Uo("Empty credential response",e)}}catch(e){return{data:null,error:Yx({error:e,options:t})}}}const i_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},o_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bo(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(r(c))i[l]=c;else if(e(c)){const h=i[l];e(h)?i[l]=Bo(h,c):i[l]=Bo(c)}else i[l]=c}return i}function a_(t,e){return Bo(i_,t,e||{})}function l_(t,e){return Bo(o_,t,e||{})}class u_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:h};const f=a??Qx.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=a_(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:g,error:v}=await r_({publicKey:m,signal:f});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const m=l_(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:g,error:v}=await s_(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:f}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new ar("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new ni("rpId is required for WebAuthn authentication")};try{if(!gp())return{data:null,error:new ar("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:i,credential_response:f.credential_response}})}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new ar("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new ni("rpId is required for WebAuthn registration")};try{if(!gp())return{data:null,error:new ar("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:h};const{data:f,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new ar("Unexpected error in register",c)}}}}Hx();const c_={url:ix,storageKey:ox,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ax,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function yp(t,e,r){return await r()}const Fr={};class ri{get jwks(){var e,r;return(r=(e=Fr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Fr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},c_),e);if(this.storageKey=l.storageKey,this.instanceID=(r=ri.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ri.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&tt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Fx({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=eg(l.fetch),this.lock=l.lock||yp,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&tt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Wx:this.lock=yp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new u_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Zm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mp(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=mp(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ym}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(tt()&&(r=Sx(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),tt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),fx(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?this._returnResult({error:r}):this._returnResult({error:new ar("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const l=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ht}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,i,a;try{let l;if("email"in e){const{email:g,password:v,options:w}=e;let _=null,k=null;this.flowType==="pkce"&&([_,k]=await Vr(this.storage,this.storageKey)),l=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:v,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:_,code_challenge_method:k},xform:Ht})}else if("phone"in e){const{phone:g,password:v,options:w}=e;l=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(a=w==null?void 0:w.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Ht})}else throw new Ao("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:h}=e;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fp})}else if("phone"in e){const{phone:l,password:c,options:h}=e;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fp})}else throw new Ao("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new $r;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,l,c,h,f,m,g,v,w;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:T,wallet:P,statement:R,options:I}=e;let j;if(tt())if(typeof P=="object")j=P;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")j=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=P}const U=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href),H=await j.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=ng(H[0]);let W=(i=I==null?void 0:I.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!W){const le=await j.request({method:"eth_chainId"});W=Kx(le)}const F={domain:U.host,address:K,statement:R,uri:U.href,version:"1",chainId:W,nonce:(a=I==null?void 0:I.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=I==null?void 0:I.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=I==null?void 0:I.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=I==null?void 0:I.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=I==null?void 0:I.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=I==null?void 0:I.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=Gx(F),k=await j.request({method:"personal_sign",params:[qx(_),K]})}try{const{data:T,error:P}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:k},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ht});if(P)throw P;if(!T||!T.session||!T.user){const R=new $r;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:P})}catch(T){if(ne(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var r,i,a,l,c,h,f,m,g,v,w,_;let k,T;if("message"in e)k=e.message,T=e.signature;else{const{chain:P,wallet:R,statement:I,options:j}=e;let U;if(tt())if(typeof R=="object")U=R;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))U=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=R}const H=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in U&&U.signIn){const K=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),I?{statement:I}:null));let W;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")W=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)W=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)k=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),T=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(a=(i=j==null?void 0:j.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((f=j==null?void 0:j.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((m=j==null?void 0:j.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(g=j==null?void 0:j.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const K=await U.signMessage(new TextEncoder().encode(k),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=K}}try{const{data:P,error:R}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:lr(T)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ht});if(R)throw R;if(!P||!P.session||!P.user){const I=new $r;return this._returnResult({data:{user:null,session:null},error:I})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:R})}catch(P){if(ne(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(e){const r=await nr(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new px;const{data:l,error:c}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ht});if(await et(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new $r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:l,nonce:c}=e,h=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ht}),{data:f,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const g=new $r;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,l,c;try{if("email"in e){const{email:h,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Vr(this.storage,this.storageKey));const{error:v}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:h,options:f}=e,{data:m,error:g}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new Ao("You must provide either an email or phone number.")}catch(h){if(await et(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,i;try{let a,l;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Ht});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,m=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,l,c;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Vr(this.storage,this.storageKey));const m=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:Vx});return!((l=m.data)===null||l===void 0)&&l.url&&tt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await et(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Tt;const{error:a}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ne(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:h}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Ao("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<iu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await nr(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=lu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=Dx(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ln}):await this._useSession(async r=>{var i,a,l;const{data:c,error:h}=r;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Ln})})}catch(r){if(ne(r))return hx(r)&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new Tt;const c=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Vr(this.storage,this.storageKey));const{data:m,error:g}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:c.access_token,xform:Ln});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await et(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tt;const r=Date.now()/1e3;let i=r,a=!0,l=null;const{payload:c}=au(e.access_token);if(c.exp&&(i=c.exp,a=i<=r),a){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:c,error:h}=r;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Tt;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!tt())throw new Ro("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ro(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new op("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ro("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new op("No code detected.");const{data:I,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:f,token_type:m}=e;if(!l||!h||!c||!m)throw new Ro("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(h);let w=g+v;f&&(w=parseInt(f));const _=w-g;_*1e3<=Wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const k=w-v;g-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,g):g-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,g);const{data:T,error:P}=await this._getUser(l);if(P)throw P;const R={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:w,refresh_token:c,token_type:m,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(i){if(ne(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await nr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({error:l});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(dx(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=_x(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:l},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Vr(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async l=>{var c,h,f,m,g;const{data:v,error:w}=l;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return tt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(ne(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:l}}=r;if(a)throw a;const{options:c,provider:h,token:f,access_token:m,nonce:g}=e,v=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:f,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Ht}),{data:w,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new $r}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(a){if(await et(this.storage,`${this.storageKey}-code-verifier`),ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)throw c;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Tx(async a=>(a>0&&await bx(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ht})),(a,l)=>{const c=200*Math.pow(2,a);return l&&ou(l)&&Date.now()+c-i<Wr})}catch(i){if(this._debug(r,"error",i),ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),tt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await nr(this.storage,this.storageKey);if(a&&this.userStorage){let c=await nr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Hr(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:lu()}else if(a&&!a.user&&!a.user){const c=await nr(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await et(this.storage,this.storageKey+"-user"),await Hr(this.storage,this.storageKey,a)):a.user=lu()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<iu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${iu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),ou(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Xo;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Tt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),ne(l)){const c={data:null,error:l};return ou(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await et(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Hr(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=dp(a);await Hr(this.storage,this.storageKey,l)}else{const a=dp(r);await Hr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await et(this.storage,this.storageKey),await et(this.storage,this.storageKey+"-code-verifier"),await et(this.storage,this.storageKey+"-user"),this.userStorage&&await et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Wr}ms, refresh threshold is ${Ou} ticks`),a<=Ou&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await Vr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;return l?this._returnResult({data:null,error:l}):await ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?t_(e.webauthn.credential_response):n_(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Zx(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:e_(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=au(i.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Tt});const c=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&tt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Tt});const c=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&tt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(e){if(ne(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(h=>h.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+ux>a)return i;const{data:l,error:c}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:_,error:k}=await this.getSession();if(k||!_.session)return this._returnResult({data:null,error:k});i=_.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:f}}=au(i);r!=null&&r.allowExpired||Nx(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:l,header:a,signature:c},error:null}}const g=Ox(a.alg),v=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,wx(`${h}.${f}`)))throw new Lu("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}}ri.nextInstanceID={};const d_=ri,h_="2.90.1";let Ws="";typeof Deno<"u"?Ws="deno":typeof document<"u"?Ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ws="react-native":Ws="node";const f_={"X-Client-Info":`supabase-js-${Ws}/${h_}`},p_={headers:f_},m_={schema:"public"},g_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y_={};function si(t){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(t)}function v_(t,e){if(si(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(si(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w_(t){var e=v_(t,"string");return si(e)=="symbol"?e:e+""}function x_(t,e,r){return(e=w_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,i)}return r}function De(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vp(Object(r),!0).forEach(function(i){x_(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vp(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const __=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),S_=()=>Headers,k_=(t,e,r)=>{const i=__(r),a=S_();return async(l,c)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let m=new a(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),i(l,De(De({},c),{},{headers:m}))}};function b_(t){return t.endsWith("/")?t:t+"/"}function T_(t,e){var r,i;const{db:a,auth:l,realtime:c,global:h}=t,{db:f,auth:m,realtime:g,global:v}=e,w={db:De(De({},f),a),auth:De(De({},m),l),realtime:De(De({},g),c),storage:{},global:De(De(De({},v),h),{},{headers:De(De({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function E_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var C_=class extends d_{constructor(t){super(t)}},P_=class{constructor(t,e,r){var i,a;this.supabaseUrl=t,this.supabaseKey=e;const l=E_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:m_,realtime:y_,auth:De(De({},g_),{},{storageKey:c}),global:p_},f=T_(r??{},h);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=k_(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(De({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new aw(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new sx(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new nw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:c,lock:h,debug:f,throwOnError:m},g,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C_({url:this.authUrl.href,headers:De(De({},w),g),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:a,flowType:c,lock:h,debug:f,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new bw(this.realtimeUrl.href,De(De({},t),{},{params:De(De({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const A_=(t,e,r)=>new P_(t,e,r);function R_(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}R_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const j_="https://mnfcbeasyebrgxhfitiv.supabase.co",N_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1uZmNiZWFzeWVicmd4aGZpdGl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0MjYyNTYsImV4cCI6MjA4NDAwMjI1Nn0.a7bHJtuGUMSQkEJXKwN43v9s97t384NUrEMBD49trA8",$n=A_(j_,N_),sg="https://musicmasterdjpool.onrender.com";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,i)=>i?i.toUpperCase():r.toLowerCase()),wp=t=>{const e=I_(t);return e.charAt(0).toUpperCase()+e.slice(1)},ig=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},f)=>D.createElement("svg",{ref:f,...D_,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:ig("lucide",a),...h},[...c.map(([m,g])=>D.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(t,e)=>{const r=D.forwardRef(({className:i,...a},l)=>D.createElement(L_,{ref:l,iconNode:e,className:ig(`lucide-${O_(wp(t))}`,`lucide-${t}`,i),...a}));return r.displayName=wp(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$_=ve("arrow-left",M_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U_=ve("chevron-down",V_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],F_=ve("chevron-left",B_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],og=ve("chevron-right",z_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],dc=ve("disc",W_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],hc=ve("download",H_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],q_=ve("flame",K_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["circle",{cx:"15",cy:"19",r:"2",key:"u2pros"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1",key:"1jj40k"}],["path",{d:"M15 11v-1",key:"cntcp"}],["path",{d:"M15 17v-2",key:"1279jj"}]],J_=ve("folder-archive",G_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],X_=ve("heart",Y_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Z_=ve("history",Q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],t1=ve("life-buoy",e1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],r1=ve("loader-circle",n1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fc=ve("lock",s1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],o1=ve("log-out",i1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ag=ve("mail",a1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M5 12h14",key:"1ays0h"}]],u1=ve("minus",l1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],d1=ve("music-2",c1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],lg=ve("pause",h1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Qo=ve("play",f1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],m1=ve("search",p1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],y1=ve("settings",g1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],w1=ve("shield-check",v1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],_1=ve("skip-back",x1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],k1=ve("skip-forward",S1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],T1=ve("trending-down",b1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],C1=ve("trending-up",E1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],A1=ve("user",P1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],j1=ve("volume-2",R1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],O1=ve("volume-x",N1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],D1=ve("x",I1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],M1=ve("zap",L1),pc=D.createContext({});function mc(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const ug=typeof window<"u",cg=ug?D.useLayoutEffect:D.useEffect,Zo=D.createContext(null);function gc(t,e){t.indexOf(e)===-1&&t.push(e)}function yc(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const tn=(t,e,r)=>r>e?e:r<t?t:r;let vc=()=>{};const fn={},dg=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hg(t){return typeof t=="object"&&t!==null}const fg=t=>/^0[^.\s]+$/u.test(t);function wc(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lt=t=>t,$1=(t,e)=>r=>e(t(r)),di=(...t)=>t.reduce($1),ii=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i};class xc{constructor(){this.subscriptions=[]}add(e){return gc(this.subscriptions,e),()=>yc(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hn=t=>t*1e3,Dt=t=>t/1e3;function pg(t,e){return e?t*(1e3/e):0}const mg=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,V1=1e-7,U1=12;function B1(t,e,r,i,a){let l,c,h=0;do c=e+(r-e)/2,l=mg(c,i,a)-t,l>0?r=c:e=c;while(Math.abs(l)>V1&&++h<U1);return c}function hi(t,e,r,i){if(t===e&&r===i)return Lt;const a=l=>B1(l,0,1,t,r);return l=>l===0||l===1?l:mg(a(l),e,i)}const gg=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yg=t=>e=>1-t(1-e),vg=hi(.33,1.53,.69,.99),_c=yg(vg),wg=gg(_c),xg=t=>(t*=2)<1?.5*_c(t):.5*(2-Math.pow(2,-10*(t-1))),Sc=t=>1-Math.sin(Math.acos(t)),_g=yg(Sc),Sg=gg(Sc),F1=hi(.42,0,1,1),z1=hi(0,0,.58,1),kg=hi(.42,0,.58,1),W1=t=>Array.isArray(t)&&typeof t[0]!="number",bg=t=>Array.isArray(t)&&typeof t[0]=="number",H1={linear:Lt,easeIn:F1,easeInOut:kg,easeOut:z1,circIn:Sc,circInOut:Sg,circOut:_g,backIn:_c,backInOut:wg,backOut:vg,anticipate:xg},K1=t=>typeof t=="string",xp=t=>{if(bg(t)){vc(t.length===4);const[e,r,i,a]=t;return hi(e,r,i,a)}else if(K1(t))return H1[t];return t},jo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function q1(t,e){let r=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,v=!1,w=!1)=>{const k=w&&a?r:i;return v&&c.add(g),k.has(g)||k.add(g),g},cancel:g=>{i.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[r,i]=[i,r],r.forEach(f),r.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const G1=40;function Tg(t,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=jo.reduce((j,U)=>(j[U]=q1(l),j),{}),{setup:h,read:f,resolveKeyframes:m,preUpdate:g,update:v,preRender:w,render:_,postRender:k}=c,T=()=>{const j=fn.useManualTiming?a.timestamp:performance.now();r=!1,fn.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(j-a.timestamp,G1),1)),a.timestamp=j,a.isProcessing=!0,h.process(a),f.process(a),m.process(a),g.process(a),v.process(a),w.process(a),_.process(a),k.process(a),a.isProcessing=!1,r&&e&&(i=!1,t(T))},P=()=>{r=!0,i=!0,a.isProcessing||t(T)};return{schedule:jo.reduce((j,U)=>{const H=c[U];return j[U]=(K,W=!1,F=!1)=>(r||P(),H.schedule(K,W,F)),j},{}),cancel:j=>{for(let U=0;U<jo.length;U++)c[jo[U]].cancel(j)},state:a,steps:c}}const{schedule:Ce,cancel:Vn,state:nt,steps:cu}=Tg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0);let Do;function J1(){Do=void 0}const dt={now:()=>(Do===void 0&&dt.set(nt.isProcessing||fn.useManualTiming?nt.timestamp:performance.now()),Do),set:t=>{Do=t,queueMicrotask(J1)}},Eg=t=>e=>typeof e=="string"&&e.startsWith(t),Cg=Eg("--"),Y1=Eg("var(--"),kc=t=>Y1(t)?X1.test(t.split("/*")[0].trim()):!1,X1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function _p(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const es={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},oi={...es,transform:t=>tn(0,1,t)},No={...es,default:1},Js=t=>Math.round(t*1e5)/1e5,bc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q1(t){return t==null}const Z1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tc=(t,e)=>r=>!!(typeof r=="string"&&Z1.test(r)&&r.startsWith(t)||e&&!Q1(r)&&Object.prototype.hasOwnProperty.call(r,e)),Pg=(t,e,r)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(bc);return{[t]:parseFloat(a),[e]:parseFloat(l),[r]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},eS=t=>tn(0,255,t),du={...es,transform:t=>Math.round(eS(t))},ur={test:Tc("rgb","red"),parse:Pg("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+du.transform(t)+", "+du.transform(e)+", "+du.transform(r)+", "+Js(oi.transform(i))+")"};function tS(t){let e="",r="",i="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Mu={test:Tc("#"),parse:tS,transform:ur.transform},fi=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),In=fi("deg"),en=fi("%"),Y=fi("px"),nS=fi("vh"),rS=fi("vw"),Sp={...en,parse:t=>en.parse(t)/100,transform:t=>en.transform(t*100)},qr={test:Tc("hsl","hue"),parse:Pg("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+en.transform(Js(e))+", "+en.transform(Js(r))+", "+Js(oi.transform(i))+")"},Fe={test:t=>ur.test(t)||Mu.test(t)||qr.test(t),parse:t=>ur.test(t)?ur.parse(t):qr.test(t)?qr.parse(t):Mu.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ur.transform(t):qr.transform(t),getAnimatableNone:t=>{const e=Fe.parse(t);return e.alpha=0,Fe.transform(e)}},sS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iS(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bc))==null?void 0:e.length)||0)+(((r=t.match(sS))==null?void 0:r.length)||0)>0}const Ag="number",Rg="color",oS="var",aS="var(",kp="${}",lS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ai(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(lS,f=>(Fe.test(f)?(i.color.push(l),a.push(Rg),r.push(Fe.parse(f))):f.startsWith(aS)?(i.var.push(l),a.push(oS),r.push(f)):(i.number.push(l),a.push(Ag),r.push(parseFloat(f))),++l,kp)).split(kp);return{values:r,split:h,indexes:i,types:a}}function jg(t){return ai(t).values}function Ng(t){const{split:e,types:r}=ai(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=r[c];h===Ag?l+=Js(a[c]):h===Rg?l+=Fe.transform(a[c]):l+=a[c]}return l}}const uS=t=>typeof t=="number"?0:Fe.test(t)?Fe.getAnimatableNone(t):t;function cS(t){const e=jg(t);return Ng(t)(e.map(uS))}const Un={test:iS,parse:jg,createTransformer:Ng,getAnimatableNone:cS};function hu(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function dS({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let a=0,l=0,c=0;if(!e)a=l=c=r;else{const h=r<.5?r*(1+e):r+e-r*e,f=2*r-h;a=hu(f,h,t+1/3),l=hu(f,h,t),c=hu(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Fo(t,e){return r=>r>0?e:t}const Oe=(t,e,r)=>t+(e-t)*r,fu=(t,e,r)=>{const i=t*t,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},hS=[Mu,ur,qr],fS=t=>hS.find(e=>e.test(t));function bp(t){const e=fS(t);if(!e)return!1;let r=e.parse(t);return e===qr&&(r=dS(r)),r}const Tp=(t,e)=>{const r=bp(t),i=bp(e);if(!r||!i)return Fo(t,e);const a={...r};return l=>(a.red=fu(r.red,i.red,l),a.green=fu(r.green,i.green,l),a.blue=fu(r.blue,i.blue,l),a.alpha=Oe(r.alpha,i.alpha,l),ur.transform(a))},$u=new Set(["none","hidden"]);function pS(t,e){return $u.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function mS(t,e){return r=>Oe(t,e,r)}function Ec(t){return typeof t=="number"?mS:typeof t=="string"?kc(t)?Fo:Fe.test(t)?Tp:vS:Array.isArray(t)?Og:typeof t=="object"?Fe.test(t)?Tp:gS:Fo}function Og(t,e){const r=[...t],i=r.length,a=t.map((l,c)=>Ec(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)r[c]=a[c](l);return r}}function gS(t,e){const r={...t,...e},i={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Ec(t[a])(t[a],e[a]));return a=>{for(const l in i)r[l]=i[l](a);return r}}function yS(t,e){const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;r[a]=h,i[l]++}return r}const vS=(t,e)=>{const r=Un.createTransformer(e),i=ai(t),a=ai(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?$u.has(t)&&!a.values.length||$u.has(e)&&!i.values.length?pS(t,e):di(Og(yS(i,a),a.values),r):Fo(t,e)};function Ig(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Oe(t,e,r):Ec(t)(t,e)}const wS=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Ce.update(e,r),stop:()=>Vn(e),now:()=>nt.isProcessing?nt.timestamp:dt.now()}},Dg=(t,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},zo=2e4;function Cc(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<zo;)e+=r,i=t.next(e);return e>=zo?1/0:e}function xS(t,e=100,r){const i=r({...t,keyframes:[0,e]}),a=Math.min(Cc(i),zo);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Dt(a)}}const _S=5;function Lg(t,e,r){const i=Math.max(e-_S,0);return pg(r-t(i),e-i)}const Le={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pu=.001;function SS({duration:t=Le.duration,bounce:e=Le.bounce,velocity:r=Le.velocity,mass:i=Le.mass}){let a,l,c=1-e;c=tn(Le.minDamping,Le.maxDamping,c),t=tn(Le.minDuration,Le.maxDuration,Dt(t)),c<1?(a=m=>{const g=m*c,v=g*t,w=g-r,_=Vu(m,c),k=Math.exp(-v);return pu-w/_*k},l=m=>{const v=m*c*t,w=v*r+r,_=Math.pow(c,2)*Math.pow(m,2)*t,k=Math.exp(-v),T=Vu(Math.pow(m,2),c);return(-a(m)+pu>0?-1:1)*((w-_)*k)/T}):(a=m=>{const g=Math.exp(-m*t),v=(m-r)*t+1;return-pu+g*v},l=m=>{const g=Math.exp(-m*t),v=(r-m)*(t*t);return g*v});const h=5/t,f=bS(a,l,h);if(t=hn(t),isNaN(f))return{stiffness:Le.stiffness,damping:Le.damping,duration:t};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const kS=12;function bS(t,e,r){let i=r;for(let a=1;a<kS;a++)i=i-t(i)/e(i);return i}function Vu(t,e){return t*Math.sqrt(1-e*e)}const TS=["duration","bounce"],ES=["stiffness","damping","mass"];function Ep(t,e){return e.some(r=>t[r]!==void 0)}function CS(t){let e={velocity:Le.velocity,stiffness:Le.stiffness,damping:Le.damping,mass:Le.mass,isResolvedFromDuration:!1,...t};if(!Ep(t,ES)&&Ep(t,TS))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,l=2*tn(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Le.mass,stiffness:a,damping:l}}else{const r=SS(t);e={...e,...r,mass:Le.mass},e.isResolvedFromDuration=!0}return e}function Wo(t=Le.visualDuration,e=Le.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:m,mass:g,duration:v,velocity:w,isResolvedFromDuration:_}=CS({...r,velocity:-Dt(r.velocity||0)}),k=w||0,T=m/(2*Math.sqrt(f*g)),P=c-l,R=Dt(Math.sqrt(f/g)),I=Math.abs(P)<5;i||(i=I?Le.restSpeed.granular:Le.restSpeed.default),a||(a=I?Le.restDelta.granular:Le.restDelta.default);let j;if(T<1){const H=Vu(R,T);j=K=>{const W=Math.exp(-T*R*K);return c-W*((k+T*R*P)/H*Math.sin(H*K)+P*Math.cos(H*K))}}else if(T===1)j=H=>c-Math.exp(-R*H)*(P+(k+R*P)*H);else{const H=R*Math.sqrt(T*T-1);j=K=>{const W=Math.exp(-T*R*K),F=Math.min(H*K,300);return c-W*((k+T*R*P)*Math.sinh(F)+H*P*Math.cosh(F))/H}}const U={calculatedDuration:_&&v||null,next:H=>{const K=j(H);if(_)h.done=H>=v;else{let W=H===0?k:0;T<1&&(W=H===0?hn(k):Lg(j,H,K));const F=Math.abs(W)<=i,le=Math.abs(c-K)<=a;h.done=F&&le}return h.value=h.done?c:K,h},toString:()=>{const H=Math.min(Cc(U),zo),K=Dg(W=>U.next(H*W).value,H,30);return H+"ms "+K},toTransition:()=>{}};return U}Wo.applyToOptions=t=>{const e=xS(t,100,Wo);return t.ease=e.ease,t.duration=hn(e.duration),t.type="keyframes",t};function Uu({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:m=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},_=F=>h!==void 0&&F<h||f!==void 0&&F>f,k=F=>h===void 0?f:f===void 0||Math.abs(h-F)<Math.abs(f-F)?h:f;let T=r*e;const P=v+T,R=c===void 0?P:c(P);R!==P&&(T=R-v);const I=F=>-T*Math.exp(-F/i),j=F=>R+I(F),U=F=>{const le=I(F),we=j(F);w.done=Math.abs(le)<=m,w.value=w.done?R:we};let H,K;const W=F=>{_(w.value)&&(H=F,K=Wo({keyframes:[w.value,k(w.value)],velocity:Lg(j,F,w.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return W(0),{calculatedDuration:null,next:F=>{let le=!1;return!K&&H===void 0&&(le=!0,U(F),W(F)),H!==void 0&&F>=H?K.next(F-H):(!le&&U(F),w)}}}function PS(t,e,r){const i=[],a=r||fn.mix||Ig,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Lt:e;h=di(f,h)}i.push(h)}return i}function AS(t,e,{clamp:r=!0,ease:i,mixer:a}={}){const l=t.length;if(vc(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=PS(e,i,a),f=h.length,m=g=>{if(c&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=ii(t[v],t[v+1],g);return h[v](w)};return r?g=>m(tn(t[0],t[l-1],g)):m}function RS(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const a=ii(0,e,i);t.push(Oe(r,1,a))}}function jS(t){const e=[0];return RS(e,t.length-1),e}function NS(t,e){return t.map(r=>r*e)}function OS(t,e){return t.map(()=>e||kg).splice(0,t.length-1)}function Ys({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=W1(i)?i.map(xp):xp(i),l={done:!1,value:e[0]},c=NS(r&&r.length===e.length?r:jS(e),t),h=AS(c,e,{ease:Array.isArray(a)?a:OS(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const IS=t=>t!==null;function Pc(t,{repeat:e,repeatType:r="loop"},i,a=1){const l=t.filter(IS),h=a<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const DS={decay:Uu,inertia:Uu,tween:Ys,keyframes:Ys,spring:Wo};function Mg(t){typeof t.type=="string"&&(t.type=DS[t.type])}class Ac{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const LS=t=>t/100;class Rc extends Ac{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:r}=this.options;r&&r.updatedAt!==dt.now()&&this.tick(dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Mg(e);const{type:r=Ys,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const f=r||Ys;f!==Ys&&typeof h[0]!="number"&&(this.mixKeyframes=di(LS,Ig(h[0],h[1])),h=[0,100]);const m=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Cc(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:_,type:k,onUpdate:T,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const R=this.currentTime-m*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?R<0:R>a;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,U=i;if(v){const F=Math.min(this.currentTime,a)/h;let le=Math.floor(F),we=F%1;!we&&F>=1&&(we=1),we===1&&le--,le=Math.min(le,v+1),!!(le%2)&&(w==="reverse"?(we=1-we,_&&(we-=_/h)):w==="mirror"&&(U=c)),j=tn(0,1,we)*h}const H=I?{done:!1,value:g[0]}:U.next(j);l&&(H.value=l(H.value));let{done:K}=H;!I&&f!==null&&(K=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return W&&k!==Uu&&(H.value=Pc(g,this.options,P,this.speed)),T&&T(H.value),W&&this.finish(),H}then(e,r){return this.finished.then(e,r)}get duration(){return Dt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dt(e)}get time(){return Dt(this.currentTime)}set time(e){var r;e=hn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(dt.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Dt(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=wS,startTime:r}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function MS(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const cr=t=>t*180/Math.PI,Bu=t=>{const e=cr(Math.atan2(t[1],t[0]));return Fu(e)},$S={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bu,rotateZ:Bu,skewX:t=>cr(Math.atan(t[1])),skewY:t=>cr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fu=t=>(t=t%360,t<0&&(t+=360),t),Cp=Bu,Pp=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ap=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),VS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pp,scaleY:Ap,scale:t=>(Pp(t)+Ap(t))/2,rotateX:t=>Fu(cr(Math.atan2(t[6],t[5]))),rotateY:t=>Fu(cr(Math.atan2(-t[2],t[0]))),rotateZ:Cp,rotate:Cp,skewX:t=>cr(Math.atan(t[4])),skewY:t=>cr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zu(t){return t.includes("scale")?1:0}function Wu(t,e){if(!t||t==="none")return zu(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(r)i=VS,a=r;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=$S,a=h}if(!a)return zu(e);const l=i[e],c=a[1].split(",").map(BS);return typeof l=="function"?l(c):c[l]}const US=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Wu(r,e)};function BS(t){return parseFloat(t.trim())}const ts=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ns=new Set(ts),Rp=t=>t===es||t===Y,FS=new Set(["x","y","z"]),zS=ts.filter(t=>!FS.has(t));function WS(t){const e=[];return zS.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const Mn={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Wu(e,"x"),y:(t,{transform:e})=>Wu(e,"y")};Mn.translateX=Mn.x;Mn.translateY=Mn.y;const dr=new Set;let Hu=!1,Ku=!1,qu=!1;function $g(){if(Ku){const t=Array.from(dr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=WS(i);a.length&&(r.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([l,c])=>{var h;(h=i.getValue(l))==null||h.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ku=!1,Hu=!1,dr.forEach(t=>t.complete(qu)),dr.clear()}function Vg(){dr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ku=!0)})}function HS(){qu=!0,Vg(),$g(),qu=!1}class jc{constructor(e,r,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(dr.add(this),Hu||(Hu=!0,Ce.read(Vg),Ce.resolveKeyframes($g))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&r){const h=i.readValue(r,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}MS(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),dr.delete(this)}cancel(){this.state==="scheduled"&&(dr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KS=t=>t.startsWith("--");function qS(t,e,r){KS(e)?t.style.setProperty(e,r):t.style[e]=r}const GS=wc(()=>window.ScrollTimeline!==void 0),JS={};function YS(t,e){const r=wc(t);return()=>JS[e]??r()}const Ug=YS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hs=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,jp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hs([0,.65,.55,1]),circOut:Hs([.55,0,1,.45]),backIn:Hs([.31,.01,.66,-.59]),backOut:Hs([.33,1.53,.69,.99])};function Bg(t,e){if(t)return typeof t=="function"?Ug()?Dg(t,e):"ease-out":bg(t)?Hs(t):Array.isArray(t)?t.map(r=>Bg(r,e)||jp.easeOut):jp[t]}function XS(t,e,r,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},m=void 0){const g={[e]:r};f&&(g.offset=f);const v=Bg(h,a);Array.isArray(v)&&(g.easing=v);const w={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(w.pseudoElement=m),t.animate(g,w)}function Fg(t){return typeof t=="function"&&"applyToOptions"in t}function QS({type:t,...e}){return Fg(t)&&Ug()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ZS extends Ac{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,vc(typeof e.type!="string");const m=QS(e);this.animation=XS(r,i,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=Pc(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):qS(r,i,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,i;const e=((i=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:i.call(r).duration)||0;return Dt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dt(e)}get time(){return Dt(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=hn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&GS()?(this.animation.timeline=e,Lt):r(this)}}const zg={anticipate:xg,backInOut:wg,circInOut:Sg};function ek(t){return t in zg}function tk(t){typeof t.ease=="string"&&ek(t.ease)&&(t.ease=zg[t.ease])}const mu=10;class nk extends ZS{constructor(e){tk(e),Mg(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const h=new Rc({...c,autoplay:!1}),f=Math.max(mu,dt.now()-this.startTime),m=tn(0,mu,f-mu);r.setWithVelocity(h.sample(Math.max(0,f-m)).value,h.sample(f).value,m),h.stop()}}const Np=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Un.test(t)||t==="0")&&!t.startsWith("url("));function rk(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function sk(t,e,r,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Np(a,e),h=Np(l,e);return!c||!h?!1:rk(t)||(r==="spring"||Fg(r))&&i}function Gu(t){t.duration=0,t.type="keyframes"}const ik=new Set(["opacity","clipPath","filter","transform"]),ok=wc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ak(t){var g;const{motionValue:e,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return ok()&&r&&ik.has(r)&&(r!=="transform"||!m)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const lk=40;class uk extends Ac{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:m,element:g,...v}){var k;super(),this.stop=()=>{var T,P;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=dt.now();const w={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:g,...v},_=(g==null?void 0:g.KeyframeResolver)||jc;this.keyframeResolver=new _(h,(T,P,R)=>this.onKeyframesResolved(T,P,w,!R),f,m,g),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(e,r,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:m,onUpdate:g}=i;this.resolvedAt=dt.now(),sk(e,l,c,h)||((fn.instantAnimations||!f)&&(g==null||g(Pc(e,i,r))),e[0]=e[e.length-1],Gu(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>lk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:e},_=!m&&ak(w)?new nk({...w,element:w.motionValue.owner.current}):new Rc(w);_.finished.then(()=>this.notifyFinished()).catch(Lt),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),HS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ck=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dk(t){const e=ck.exec(t);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function Wg(t,e,r=1){const[i,a]=dk(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return dg(c)?parseFloat(c):c}return kc(a)?Wg(a,e,r+1):a}function Nc(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const hk={type:"spring",stiffness:500,damping:25,restSpeed:10},fk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pk={type:"keyframes",duration:.8},mk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gk=(t,{keyframes:e})=>e.length>2?pk:ns.has(t)?t.startsWith("scale")?fk(e[1]):hk:mk;function yk({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const vk=t=>t!==null;function wk(t,{repeat:e,repeatType:r="loop"},i){const a=t.filter(vk),l=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[l]}function Hg(t,e,r,i=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*i;return typeof r=="function"?r(l,c):a===1?l*i:h-l*i}const Oc=(t,e,r,i={},a,l)=>c=>{const h=Nc(i,t)||{},f=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-hn(f);const g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};yk(h)||Object.assign(g,gk(t,g)),g.duration&&(g.duration=hn(g.duration)),g.repeatDelay&&(g.repeatDelay=hn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Gu(g),g.delay===0&&(v=!0)),(fn.instantAnimations||fn.skipAnimations)&&(v=!0,Gu(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const w=wk(g.keyframes,h);if(w!==void 0){Ce.update(()=>{g.onUpdate(w),g.onComplete()});return}}return h.isSync?new Rc(g):new uk(g)},Kg=new Set(["width","height","top","left","right","bottom",...ts]),Op=30,xk=t=>!isNaN(parseFloat(t));class _k{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=dt.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=dt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new xc);const i=this.events[e].add(r);return e==="change"?()=>{i(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Op)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Op);return pg(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zr(t,e){return new _k(t,e)}function Ip(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function Ic(t,e,r,i){if(typeof e=="function"){const[a,l]=Ip(i);e=e(r!==void 0?r:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Ip(i);e=e(r!==void 0?r:t.custom,a,l)}return e}function Qr(t,e,r){const i=t.getProps();return Ic(i,e,r!==void 0?r:i.custom,t)}const Ju=t=>Array.isArray(t);function Sk(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Zr(r))}function kk(t){return Ju(t)?t[t.length-1]||0:t}function bk(t,e){const r=Qr(t,e);let{transitionEnd:i={},transition:a={},...l}=r||{};l={...l,...i};for(const c in l){const h=kk(l[c]);Sk(t,c,h)}}const lt=t=>!!(t&&t.getVelocity);function Tk(t){return!!(lt(t)&&t.add)}function Yu(t,e){const r=t.getValue("willChange");if(Tk(r))return r.add(e);if(!r&&fn.WillChange){const i=new fn.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Dc(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Ek="framerAppearId",qg="data-"+Dc(Ek);function Gg(t){return t.props[qg]}function Ck({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function Jg(t,e,{delay:r=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const f=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),w=h[g];if(w===void 0||m&&Ck(m,g))continue;const _={delay:r,...Nc(l||{},g)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===k&&!_.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const R=Gg(t);if(R){const I=window.MotionHandoffAnimation(R,g,Ce);I!==null&&(_.startTime=I,T=!0)}}Yu(t,g),v.start(Oc(g,v,w,t.shouldReduceMotion&&Kg.has(g)?{type:!1}:_,t,T));const P=v.animation;P&&f.push(P)}return c&&Promise.all(f).then(()=>{Ce.update(()=>{c&&bk(t,c)})}),f}function Xu(t,e,r={}){var f;const i=Qr(t,e,r.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const l=i?()=>Promise.all(Jg(t,i,r)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:w}=a;return Pk(t,e,m,g,v,w,r)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,g]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(r.delay)])}function Pk(t,e,r=0,i=0,a=0,l=1,c){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Xu(f,e,{...c,delay:r+(typeof i=="function"?0:i)+Hg(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function Ak(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Xu(t,l,r));i=Promise.all(a)}else if(typeof e=="string")i=Xu(t,e,r);else{const a=typeof e=="function"?Qr(t,e,r.custom):e;i=Promise.all(Jg(t,a,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}const Rk={test:t=>t==="auto",parse:t=>t},Yg=t=>e=>e.test(t),Xg=[es,Y,en,In,rS,nS,Rk],Dp=t=>Xg.find(Yg(t));function jk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fg(t):!0}const Nk=new Set(["brightness","contrast","saturate","opacity"]);function Ok(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(bc)||[];if(!i)return t;const a=r.replace(i,"");let l=Nk.has(e)?1:0;return i!==r&&(l*=100),e+"("+l+a+")"}const Ik=/\b([a-z-]*)\(.*?\)/gu,Qu={...Un,getAnimatableNone:t=>{const e=t.match(Ik);return e?e.map(Ok).join(" "):t}},Lp={...es,transform:Math.round},Dk={rotate:In,rotateX:In,rotateY:In,rotateZ:In,scale:No,scaleX:No,scaleY:No,scaleZ:No,skew:In,skewX:In,skewY:In,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:oi,originX:Sp,originY:Sp,originZ:Y},Lc={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,inset:Y,insetBlock:Y,insetBlockStart:Y,insetBlockEnd:Y,insetInline:Y,insetInlineStart:Y,insetInlineEnd:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,paddingBlock:Y,paddingBlockStart:Y,paddingBlockEnd:Y,paddingInline:Y,paddingInlineStart:Y,paddingInlineEnd:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,marginBlock:Y,marginBlockStart:Y,marginBlockEnd:Y,marginInline:Y,marginInlineStart:Y,marginInlineEnd:Y,backgroundPositionX:Y,backgroundPositionY:Y,...Dk,zIndex:Lp,fillOpacity:oi,strokeOpacity:oi,numOctaves:Lp},Lk={...Lc,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:Qu,WebkitFilter:Qu},Qg=t=>Lk[t];function Zg(t,e){let r=Qg(t);return r!==Qu&&(r=Un),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Mk=new Set(["auto","none","0"]);function $k(t,e,r){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!Mk.has(l)&&ai(l).values.length&&(a=t[i]),i++}if(a&&r)for(const l of e)t[l]=Zg(r,a)}class Vk extends jc{constructor(e,r,i,a,l){super(e,r,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),kc(v))){const w=Wg(v,r.current);w!==void 0&&(e[g]=w),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!Kg.has(i)||e.length!==2)return;const[a,l]=e,c=Dp(a),h=Dp(l),f=_p(a),m=_p(l);if(f!==m&&Mn[i]){this.needsMeasurement=!0;return}if(c!==h)if(Rp(c)&&Rp(h))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Mn[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||jk(e[a]))&&i.push(a);i.length&&$k(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mn[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:r,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Mn[r](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function Uk(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(r==null?void 0:r[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const ey=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ty(t){return hg(t)&&"offsetHeight"in t}const{schedule:Mc}=Tg(queueMicrotask,!1),Kt={x:!1,y:!1};function ny(){return Kt.x||Kt.y}function Bk(t){return t==="x"||t==="y"?Kt[t]?null:(Kt[t]=!0,()=>{Kt[t]=!1}):Kt.x||Kt.y?null:(Kt.x=Kt.y=!0,()=>{Kt.x=Kt.y=!1})}function ry(t,e){const r=Uk(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function Mp(t){return!(t.pointerType==="touch"||ny())}function Fk(t,e,r={}){const[i,a,l]=ry(t,r),c=h=>{if(!Mp(h))return;const{target:f}=h,m=e(f,h);if(typeof m!="function"||!f)return;const g=v=>{Mp(v)&&(m(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return i.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const sy=(t,e)=>e?t===e?!0:sy(t,e.parentElement):!1,$c=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iy(t){return zk.has(t.tagName)||t.isContentEditable===!0}const Lo=new WeakSet;function $p(t){return e=>{e.key==="Enter"&&t(e)}}function gu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Wk=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=$p(()=>{if(Lo.has(r))return;gu(r,"down");const a=$p(()=>{gu(r,"up")}),l=()=>gu(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function Vp(t){return $c(t)&&!ny()}function Hk(t,e,r={}){const[i,a,l]=ry(t,r),c=h=>{const f=h.currentTarget;if(!Vp(h))return;Lo.add(f);const m=e(f,h),g=(_,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Lo.has(f)&&Lo.delete(f),Vp(_)&&typeof m=="function"&&m(_,{success:k})},v=_=>{g(_,f===window||f===document||r.useGlobalTarget||sy(f,_.target))},w=_=>{g(_,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(r.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),ty(h)&&(h.addEventListener("focus",m=>Wk(m,a)),!iy(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function oy(t){return hg(t)&&"ownerSVGElement"in t}function Kk(t){return oy(t)&&t.tagName==="svg"}const qk=[...Xg,Fe,Un],Gk=t=>qk.find(Yg(t)),Up=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gr=()=>({x:Up(),y:Up()}),Bp=()=>({min:0,max:0}),qe=()=>({x:Bp(),y:Bp()}),Zu={current:null},ay={current:!1},Jk=typeof window<"u";function Yk(){if(ay.current=!0,!!Jk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zu.current=t.matches;t.addEventListener("change",e),e()}else Zu.current=!1}const Xk=new WeakMap;function ea(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function li(t){return typeof t=="string"||Array.isArray(t)}const Vc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uc=["initial",...Vc];function ta(t){return ea(t.animate)||Uc.some(e=>li(t[e]))}function ly(t){return!!(ta(t)||t.variants)}function Qk(t,e,r){for(const i in e){const a=e[i],l=r[i];if(lt(a))t.addValue(i,a);else if(lt(l))t.addValue(i,Zr(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Zr(c!==void 0?c:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const Fp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ho={};function uy(t){Ho=t}function Zk(){return Ho}class eb{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=dt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ce.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=ta(r),this.isVariantNode=ly(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in v){const _=v[w];f[w]!==void 0&&lt(_)&&_.set(f[w])}}mount(e){var r;this.current=e,Xk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(ay.current||Yk(),this.shouldReduceMotion=Zu.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Vn(this.notifyUpdate),Vn(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const i=this.features[r];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ns.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ho){const r=Ho[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<Fp.length;i++){const a=Fp[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Qk(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Zr(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(dg(i)||fg(i))?i=parseFloat(i):!Gk(i)&&Un.test(r)&&(i=Zg(e,r)),this.setBaseTarget(e,lt(i)?i.get():i)),lt(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var l;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=Ic(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!lt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new xc),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Mc.render(this.render)}}class Bn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cy extends eb{constructor(){super(...arguments),this.KeyframeResolver=Vk}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const i=e.style;return i?i[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function dy({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function tb({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nb(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function yu(t){return t===void 0||t===1}function ec({scale:t,scaleX:e,scaleY:r}){return!yu(t)||!yu(e)||!yu(r)}function ir(t){return ec(t)||hy(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hy(t){return zp(t.x)||zp(t.y)}function zp(t){return t&&t!=="0%"}function Ko(t,e,r){const i=t-r,a=e*i;return r+a}function Wp(t,e,r,i,a){return a!==void 0&&(t=Ko(t,a,i)),Ko(t,r,i)+e}function tc(t,e=0,r=1,i,a){t.min=Wp(t.min,e,r,i,a),t.max=Wp(t.max,e,r,i,a)}function fy(t,{x:e,y:r}){tc(t.x,e.translate,e.scale,e.originPoint),tc(t.y,r.translate,r.scale,r.originPoint)}const Hp=.999999999999,Kp=1.0000000000001;function rb(t,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=r[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Yr(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,fy(t,c)),i&&ir(l.latestValues)&&Yr(t,l.latestValues))}e.x<Kp&&e.x>Hp&&(e.x=1),e.y<Kp&&e.y>Hp&&(e.y=1)}function Jr(t,e){t.min=t.min+e,t.max=t.max+e}function qp(t,e,r,i,a=.5){const l=Oe(t.min,t.max,a);tc(t,e,r,l,i)}function Yr(t,e){qp(t.x,e.x,e.scaleX,e.scale,e.originX),qp(t.y,e.y,e.scaleY,e.scale,e.originY)}function py(t,e){return dy(nb(t.getBoundingClientRect(),e))}function sb(t,e,r){const i=py(t,r),{scroll:a}=e;return a&&(Jr(i.x,a.offset.x),Jr(i.y,a.offset.y)),i}const ib={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ob=ts.length;function ab(t,e,r){let i="",a=!0;for(let l=0;l<ob;l++){const c=ts[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||r){const m=ey(h,Lc[c]);if(!f){a=!1;const g=ib[c]||c;i+=`${g}(${m}) `}r&&(e[c]=m)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function Bc(t,e,r){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const m=e[f];if(ns.has(f)){c=!0;continue}else if(Cg(f)){a[f]=m;continue}else{const g=ey(m,Lc[f]);f.startsWith("origin")?(h=!0,l[f]=g):i[f]=g}}if(e.transform||(c||r?i.transform=ab(e,t.transform,r):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${f} ${m} ${g}`}}function my(t,{style:e,vars:r},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,i);for(c in r)l.setProperty(c,r[c])}function Gp(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const r=Gp(t,e.target.x),i=Gp(t,e.target.y);return`${r}% ${i}%`}},lb={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,a=Un.parse(t);if(a.length>5)return i;const l=Un.createTransformer(t),c=typeof a[0]!="number"?1:0,h=r.x.scale*e.x,f=r.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const m=Oe(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},nc={borderRadius:{...zs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zs,borderTopRightRadius:zs,borderBottomLeftRadius:zs,borderBottomRightRadius:zs,boxShadow:lb};function gy(t,{layout:e,layoutId:r}){return ns.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!nc[t]||t==="opacity")}function Fc(t,e,r){var c;const i=t.style,a=e==null?void 0:e.style,l={};if(!i)return l;for(const h in i)(lt(i[h])||a&&lt(a[h])||gy(h,t)||((c=r==null?void 0:r.getValue(h))==null?void 0:c.liveStyle)!==void 0)&&(l[h]=i[h]);return l}function ub(t){return window.getComputedStyle(t)}class cb extends cy{constructor(){super(...arguments),this.type="html",this.renderInstance=my}readValueFromInstance(e,r){var i;if(ns.has(r))return(i=this.projection)!=null&&i.isProjecting?zu(r):US(e,r);{const a=ub(e),l=(Cg(r)?a.getPropertyValue(r):a[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:r}){return py(e,r)}build(e,r,i){Bc(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return Fc(e,r,i)}}const db={offset:"stroke-dashoffset",array:"stroke-dasharray"},hb={offset:"strokeDashoffset",array:"strokeDasharray"};function fb(t,e,r=1,i=0,a=!0){t.pathLength=1;const l=a?db:hb;t[l.offset]=Y.transform(-i);const c=Y.transform(e),h=Y.transform(r);t[l.array]=`${c} ${h}`}const pb=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yy(t,{attrX:e,attrY:r,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,m,g){if(Bc(t,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox);for(const _ of pb)v[_]!==void 0&&(w[_]=v[_],delete v[_]);e!==void 0&&(v.x=e),r!==void 0&&(v.y=r),i!==void 0&&(v.scale=i),a!==void 0&&fb(v,a,l,c,!1)}const vy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),wy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mb(t,e,r,i){my(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(vy.has(a)?a:Dc(a),e.attrs[a])}function xy(t,e,r){const i=Fc(t,e,r);for(const a in t)if(lt(t[a])||lt(e[a])){const l=ts.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class gb extends cy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ns.has(r)){const i=Qg(r);return i&&i.default||0}return r=vy.has(r)?r:Dc(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return xy(e,r,i)}build(e,r,i){yy(e,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,r,i,a){mb(e,r,i,a)}mount(e){this.isSVGTag=wy(e.tagName),super.mount(e)}}const yb=Uc.length;function _y(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?_y(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<yb;r++){const i=Uc[r],a=t.props[i];(li(a)||a===!1)&&(e[i]=a)}return e}function Sy(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}const vb=[...Vc].reverse(),wb=Vc.length;function xb(t){return e=>Promise.all(e.map(({animation:r,options:i})=>Ak(t,r,i)))}function _b(t){let e=xb(t),r=Jp(),i=!0;const a=f=>(m,g)=>{var w;const v=Qr(t,g,f==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:_,transitionEnd:k,...T}=v;m={...m,...T,...k}}return m};function l(f){e=f(t)}function c(f){const{props:m}=t,g=_y(t.parent)||{},v=[],w=new Set;let _={},k=1/0;for(let P=0;P<wb;P++){const R=vb[P],I=r[R],j=m[R]!==void 0?m[R]:g[R],U=li(j),H=R===f?I.isActive:null;H===!1&&(k=P);let K=j===g[R]&&j!==m[R]&&U;if(K&&i&&t.manuallyAnimateOnMount&&(K=!1),I.protectedKeys={..._},!I.isActive&&H===null||!j&&!I.prevProp||ea(j)||typeof j=="boolean")continue;const W=Sb(I.prevProp,j);let F=W||R===f&&I.isActive&&!K&&U||P>k&&U,le=!1;const we=Array.isArray(j)?j:[j];let Ve=we.reduce(a(R),{});H===!1&&(Ve={});const{prevResolvedValues:Ge={}}=I,ze={...Ge,...Ve},rt=ae=>{F=!0,w.has(ae)&&(le=!0,w.delete(ae)),I.needsAnimating[ae]=!0;const B=t.getValue(ae);B&&(B.liveStyle=!1)};for(const ae in ze){const B=Ve[ae],J=Ge[ae];if(_.hasOwnProperty(ae))continue;let q=!1;Ju(B)&&Ju(J)?q=!Sy(B,J):q=B!==J,q?B!=null?rt(ae):w.add(ae):B!==void 0&&w.has(ae)?rt(ae):I.protectedKeys[ae]=!0}I.prevProp=j,I.prevResolvedValues=Ve,I.isActive&&(_={..._,...Ve}),i&&t.blockInitialAnimation&&(F=!1);const te=K&&W;F&&(!te||le)&&v.push(...we.map(ae=>{const B={type:R};if(typeof ae=="string"&&i&&!te&&t.manuallyAnimateOnMount&&t.parent){const{parent:J}=t,q=Qr(J,ae);if(J.enteringChildren&&q){const{delayChildren:C}=q.transition||{};B.delay=Hg(J.enteringChildren,t,C)}}return{animation:ae,options:B}}))}if(w.size){const P={};if(typeof m.initial!="boolean"){const R=Qr(t,Array.isArray(m.initial)?m.initial[0]:m.initial);R&&R.transition&&(P.transition=R.transition)}w.forEach(R=>{const I=t.getBaseTarget(R),j=t.getValue(R);j&&(j.liveStyle=!0),P[R]=I??null}),v.push({animation:P})}let T=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(v):Promise.resolve()}function h(f,m){var v;if(r[f].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var _;return(_=w.animationState)==null?void 0:_.setActive(f,m)}),r[f].isActive=m;const g=c(f);for(const w in r)r[w].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Jp()}}}function Sb(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Sy(e,t):!1}function rr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jp(){return{animate:rr(!0),whileInView:rr(),whileHover:rr(),whileTap:rr(),whileDrag:rr(),whileFocus:rr(),exit:rr()}}const ky=1e-4,kb=1-ky,bb=1+ky,by=.01,Tb=0-by,Eb=0+by;function ht(t){return t.max-t.min}function Cb(t,e,r){return Math.abs(t-e)<=r}function Yp(t,e,r,i=.5){t.origin=i,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=ht(r)/ht(e),t.translate=Oe(r.min,r.max,t.origin)-t.originPoint,(t.scale>=kb&&t.scale<=bb||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tb&&t.translate<=Eb||isNaN(t.translate))&&(t.translate=0)}function Xs(t,e,r,i){Yp(t.x,e.x,r.x,i?i.originX:void 0),Yp(t.y,e.y,r.y,i?i.originY:void 0)}function Xp(t,e,r){t.min=r.min+e.min,t.max=t.min+ht(e)}function Pb(t,e,r){Xp(t.x,e.x,r.x),Xp(t.y,e.y,r.y)}function Qp(t,e,r){t.min=e.min-r.min,t.max=t.min+ht(e)}function qo(t,e,r){Qp(t.x,e.x,r.x),Qp(t.y,e.y,r.y)}function Zp(t,e,r,i,a){return t-=e,t=Ko(t,1/r,i),a!==void 0&&(t=Ko(t,1/a,i)),t}function Ab(t,e=0,r=1,i=.5,a,l=t,c=t){if(en.test(e)&&(e=parseFloat(e),e=Oe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Oe(l.min,l.max,i);t===l&&(h-=e),t.min=Zp(t.min,e,r,h,a),t.max=Zp(t.max,e,r,h,a)}function em(t,e,[r,i,a],l,c){Ab(t,e[r],e[i],e[a],e.scale,l,c)}const Rb=["x","scaleX","originX"],jb=["y","scaleY","originY"];function tm(t,e,r,i){em(t.x,e,Rb,r?r.x:void 0,i?i.x:void 0),em(t.y,e,jb,r?r.y:void 0,i?i.y:void 0)}function nm(t,e){t.min=e.min,t.max=e.max}function Wt(t,e){nm(t.x,e.x),nm(t.y,e.y)}function rm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function sm(t){return t.translate===0&&t.scale===1}function Ty(t){return sm(t.x)&&sm(t.y)}function im(t,e){return t.min===e.min&&t.max===e.max}function Nb(t,e){return im(t.x,e.x)&&im(t.y,e.y)}function om(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ey(t,e){return om(t.x,e.x)&&om(t.y,e.y)}function am(t){return ht(t.x)/ht(t.y)}function lm(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function It(t){return[t("x"),t("y")]}function Ob(t,e,r){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(r==null?void 0:r.z)||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:w,skewX:_,skewY:k}=r;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),_&&(i+=`skewX(${_}deg) `),k&&(i+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Cy=["TopLeft","TopRight","BottomLeft","BottomRight"],Ib=Cy.length,um=t=>typeof t=="string"?parseFloat(t):t,cm=t=>typeof t=="number"||Y.test(t);function Db(t,e,r,i,a,l){a?(t.opacity=Oe(0,r.opacity??1,Lb(i)),t.opacityExit=Oe(e.opacity??1,0,Mb(i))):l&&(t.opacity=Oe(e.opacity??1,r.opacity??1,i));for(let c=0;c<Ib;c++){const h=`border${Cy[c]}Radius`;let f=dm(e,h),m=dm(r,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||cm(f)===cm(m)?(t[h]=Math.max(Oe(um(f),um(m),i),0),(en.test(m)||en.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||r.rotate)&&(t.rotate=Oe(e.rotate||0,r.rotate||0,i))}function dm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Lb=Py(0,.5,_g),Mb=Py(.5,.95,Lt);function Py(t,e,r){return i=>i<t?0:i>e?1:r(ii(t,e,i))}function $b(t,e){const r=dt.now(),i=({timestamp:a})=>{const l=a-r;l>=e&&(Vn(i),t(l-e))};return Ce.setup(i,!0),()=>Vn(i)}function ui(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function Mo(t){return lt(t)?t.get():t}function Vb(t,e,r){const i=lt(t)?t:Zr(t);return i.start(Oc("",i,e,r)),i.animation}const Ub=(t,e)=>t.depth-e.depth;class Bb{constructor(){this.children=[],this.isDirty=!1}add(e){gc(this.children,e),this.isDirty=!0}remove(e){yc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ub),this.isDirty=!1,this.children.forEach(e)}}class Fb{constructor(){this.members=[]}add(e){gc(this.members,e),e.scheduleRender()}remove(e){if(yc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const $o={hasAnimatedSinceResize:!0,hasEverUpdated:!1},vu=["","X","Y","Z"],zb=1e3;let Wb=0;function wu(t,e,r,i){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Ay(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Gg(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Ce,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Ay(i)}function Ry({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=Wb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qb),this.nodes.forEach(Xb),this.nodes.forEach(Qb),this.nodes.forEach(Gb)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bb)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new xc),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=oy(c)&&!Kk(c),this.instance=c;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;Ce.read(()=>{v=window.innerWidth}),t(c,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,g&&g(),g=$b(w,250),$o.hasAnimatedSinceResize&&($o.hasAnimatedSinceResize=!1,this.nodes.forEach(pm)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||rT,{onLayoutAnimationStart:T,onLayoutAnimationComplete:P}=m.getProps(),R=!this.targetLayout||!Ey(this.targetLayout,_),I=!v&&w;if(this.options.layoutRoot||this.resumeFrom||I||v&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Nc(k,"layout"),onPlay:T,onComplete:P};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(g,I)}else v||pm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zb),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ay(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Yb),this.nodes.forEach(Hb),this.nodes.forEach(Kb)):this.nodes.forEach(fm),this.clearAllSnapshots();const h=dt.now();nt.delta=tn(0,1e3/60,h-nt.timestamp),nt.timestamp=h,nt.isProcessing=!0,cu.update.process(nt),cu.preRender.process(nt),cu.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Jb),this.sharedNodes.forEach(eT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ht(this.snapshot.measuredBox.x)&&!ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Ty(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||ir(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),sT(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return qe();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(iT))){const{scroll:g}=this.root;g&&(Jr(h.x,g.offset.x),Jr(h.y,g.offset.y))}return h}removeElementScroll(c){var f;const h=qe();if(Wt(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:w}=g;g!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Wt(h,c),Jr(h.x,v.offset.x),Jr(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const f=qe();Wt(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Yr(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ir(g.latestValues)&&Yr(f,g.latestValues)}return ir(this.latestValues)&&Yr(f,this.latestValues),f}removeTransform(c){const h=qe();Wt(h,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!ir(m.latestValues))continue;ec(m.latestValues)&&m.updateSnapshot();const g=qe(),v=m.measurePageBox();Wt(g,v),tm(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return ir(this.latestValues)&&tm(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var _;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=nt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wt(this.target,this.layout.layoutBox),fy(this.target,this.targetDelta)):Wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ec(this.parent.latestValues)||hy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),qo(this.relativeTargetOrigin,h,f),Wt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var k;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Wt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;rb(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=qe());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rm(this.prevProjectionDelta.x,this.projectionDelta.x),rm(this.prevProjectionDelta.y,this.projectionDelta.y)),Xs(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!lm(this.projectionDelta.x,this.prevProjectionDelta.x)||!lm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gr(),this.projectionDelta=Gr(),this.projectionDeltaWithTransform=Gr()}setAnimationOrigin(c,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},v=Gr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=qe(),_=f?f.source:void 0,k=this.layout?this.layout.source:void 0,T=_!==k,P=this.getStack(),R=!P||P.members.length<=1,I=!!(T&&!R&&this.options.crossfade===!0&&!this.path.some(nT));this.animationProgress=0;let j;this.mixTargetDelta=U=>{const H=U/1e3;mm(v.x,c.x,H),mm(v.y,c.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qo(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tT(this.relativeTarget,this.relativeTargetOrigin,w,H),j&&Nb(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=qe()),Wt(j,this.relativeTarget)),T&&(this.animationValues=g,Db(g,m,this.latestValues,H,I,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,f,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{$o.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zr(0)),this.currentAnimation=Vb(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=c;if(!(!h||!f||!m)){if(this!==c&&this.layout&&m&&jy(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||qe();const v=ht(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const w=ht(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}Wt(h,f),Yr(h,g),Xs(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Fb),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&wu("z",c,m,this.animationValues);for(let g=0;g<vu.length;g++)wu(`rotate${vu[g]}`,c,m,this.animationValues),wu(`skew${vu[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Mo(h==null?void 0:h.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Mo(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!ir(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=Ob(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),c.transform=v;const{x:w,y:_}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in nc){if(g[k]===void 0)continue;const{correct:T,applyTo:P,isCSSVariable:R}=nc[k],I=v==="none"?g[k]:T(g[k],m);if(P){const j=P.length;for(let U=0;U<j;U++)c[P[U]]=I}else R?this.options.visualElement.renderState.vars[k]=I:c[k]=I}this.options.layoutId&&(c.pointerEvents=m===this?Mo(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(hm),this.root.sharedNodes.clear()}}}function Hb(t){t.updateLayout()}function Kb(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?It(v=>{const w=c?e.measuredBox[v]:e.layoutBox[v],_=ht(w);w.min=i[v].min,w.max=w.min+_}):jy(l,e.layoutBox,i)&&It(v=>{const w=c?e.measuredBox[v]:e.layoutBox[v],_=ht(i[v]);w.max=w.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const h=Gr();Xs(h,i,e.layoutBox);const f=Gr();c?Xs(f,t.applyTransform(a,!0),e.measuredBox):Xs(f,i,e.layoutBox);const m=!Ty(h);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:_}=v;if(w&&_){const k=qe();qo(k,e.layoutBox,w.layoutBox);const T=qe();qo(T,i,_.layoutBox),Ey(k,T)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=k,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function qb(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Gb(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Jb(t){t.clearSnapshot()}function hm(t){t.clearMeasurements()}function fm(t){t.isLayoutDirty=!1}function Yb(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Xb(t){t.resolveTargetDelta()}function Qb(t){t.calcProjection()}function Zb(t){t.resetSkewAndRotation()}function eT(t){t.removeLeadSnapshot()}function mm(t,e,r){t.translate=Oe(e.translate,0,r),t.scale=Oe(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function gm(t,e,r,i){t.min=Oe(e.min,r.min,i),t.max=Oe(e.max,r.max,i)}function tT(t,e,r,i){gm(t.x,e.x,r.x,i),gm(t.y,e.y,r.y,i)}function nT(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rT={duration:.45,ease:[.4,0,.1,1]},ym=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vm=ym("applewebkit/")&&!ym("chrome/")?Math.round:Lt;function wm(t){t.min=vm(t.min),t.max=vm(t.max)}function sT(t){wm(t.x),wm(t.y)}function jy(t,e,r){return t==="position"||t==="preserve-aspect"&&!Cb(am(e),am(r),.2)}function iT(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const oT=Ry({attachResizeListener:(t,e)=>ui(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xu={current:void 0},Ny=Ry({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xu.current){const t=new oT({});t.mount(window),t.setOptions({layoutScroll:!0}),xu.current=t}return xu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zc=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xm(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aT(...t){return e=>{let r=!1;const i=t.map(a=>{const l=xm(a,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():xm(t[a],null)}}}}function lT(...t){return D.useCallback(aT(...t),t)}class uT extends D.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=r.offsetParent,a=ty(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cT({children:t,isPresent:e,anchorX:r,root:i}){var g;const a=D.useId(),l=D.useRef(null),c=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=D.useContext(zc),f=((g=t.props)==null?void 0:g.ref)??(t==null?void 0:t.ref),m=lT(l,f);return D.useInsertionEffect(()=>{const{width:v,height:w,top:_,left:k,right:T}=c.current;if(e||!l.current||!v||!w)return;const P=r==="left"?`left: ${k}`:`right: ${T}`;l.current.dataset.motionPopId=a;const R=document.createElement("style");h&&(R.nonce=h);const I=i??document.head;return I.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${w}px !important;
            ${P}px !important;
            top: ${_}px !important;
          }
        `),()=>{I.contains(R)&&I.removeChild(R)}},[e]),x.jsx(uT,{isPresent:e,childRef:l,sizeRef:c,children:D.cloneElement(t,{ref:m})})}const dT=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:f})=>{const m=mc(hT),g=D.useId();let v=!0,w=D.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:r,custom:a,onExitComplete:_=>{m.set(_,!0);for(const k of m.values())if(!k)return;i&&i()},register:_=>(m.set(_,!1),()=>m.delete(_))}),[r,m,i]);return l&&v&&(w={...w}),D.useMemo(()=>{m.forEach((_,k)=>m.set(k,!1))},[r]),D.useEffect(()=>{!r&&!m.size&&i&&i()},[r]),c==="popLayout"&&(t=x.jsx(cT,{isPresent:r,anchorX:h,root:f,children:t})),x.jsx(Zo.Provider,{value:w,children:t})};function hT(){return new Map}function Oy(t=!0){const e=D.useContext(Zo);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&i&&i(l),[l,i,t]);return!r&&i?[!1,c]:[!0]}const Oo=t=>t.key||"";function _m(t){const e=[];return D.Children.forEach(t,r=>{D.isValidElement(r)&&e.push(r)}),e}const Sm=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:f})=>{const[m,g]=Oy(c),v=D.useMemo(()=>_m(t),[t]),w=c&&!m?[]:v.map(Oo),_=D.useRef(!0),k=D.useRef(v),T=mc(()=>new Map),P=D.useRef(new Set),[R,I]=D.useState(v),[j,U]=D.useState(v);cg(()=>{_.current=!1,k.current=v;for(let W=0;W<j.length;W++){const F=Oo(j[W]);w.includes(F)?(T.delete(F),P.current.delete(F)):T.get(F)!==!0&&T.set(F,!1)}},[j,w.length,w.join("-")]);const H=[];if(v!==R){let W=[...v];for(let F=0;F<j.length;F++){const le=j[F],we=Oo(le);w.includes(we)||(W.splice(F,0,le),H.push(le))}return l==="wait"&&H.length&&(W=H),U(_m(W)),I(v),null}const{forceRender:K}=D.useContext(pc);return x.jsx(x.Fragment,{children:j.map(W=>{const F=Oo(W),le=c&&!m?!1:v===j||w.includes(F),we=()=>{if(P.current.has(F))return;if(P.current.add(F),T.has(F))T.set(F,!0);else return;let Ve=!0;T.forEach(Ge=>{Ge||(Ve=!1)}),Ve&&(K==null||K(),U(k.current),c&&(g==null||g()),i&&i())};return x.jsx(dT,{isPresent:le,initial:!_.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:le?void 0:we,anchorX:h,children:W},F)})})},Iy=D.createContext({strict:!1}),km={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let bm=!1;function fT(){if(bm)return;const t={};for(const e in km)t[e]={isEnabled:r=>km[e].some(i=>!!r[i])};uy(t),bm=!0}function Dy(){return fT(),Zk()}function pT(t){const e=Dy();for(const r in t)e[r]={...e[r],...t[r]};uy(e)}const mT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Go(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mT.has(t)}let Ly=t=>!Go(t);function gT(t){typeof t=="function"&&(Ly=e=>e.startsWith("on")?!Go(e):t(e))}try{gT(require("@emotion/is-prop-valid").default)}catch{}function yT(t,e,r){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(Ly(a)||r===!0&&Go(a)||!e&&!Go(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const na=D.createContext({});function vT(t,e){if(ta(t)){const{initial:r,animate:i}=t;return{initial:r===!1||li(r)?r:void 0,animate:li(i)?i:void 0}}return t.inherit!==!1?e:{}}function wT(t){const{initial:e,animate:r}=vT(t,D.useContext(na));return D.useMemo(()=>({initial:e,animate:r}),[Tm(e),Tm(r)])}function Tm(t){return Array.isArray(t)?t.join(" "):t}const Wc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function My(t,e,r){for(const i in e)!lt(e[i])&&!gy(i,r)&&(t[i]=e[i])}function xT({transformTemplate:t},e){return D.useMemo(()=>{const r=Wc();return Bc(r,e,t),Object.assign({},r.vars,r.style)},[e])}function _T(t,e){const r=t.style||{},i={};return My(i,r,t),Object.assign(i,xT(t,e)),i}function ST(t,e){const r={},i=_T(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const $y=()=>({...Wc(),attrs:{}});function kT(t,e,r,i){const a=D.useMemo(()=>{const l=$y();return yy(l,e,wy(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};My(l,t.style,t),a.style={...l,...a.style}}return a}const bT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hc(t){return typeof t!="string"||t.includes("-")?!1:!!(bT.indexOf(t)>-1||/[A-Z]/u.test(t))}function TT(t,e,r,{latestValues:i},a,l=!1,c){const f=(c??Hc(t)?kT:ST)(e,i,a,t),m=yT(e,typeof t=="string",l),g=t!==D.Fragment?{...m,...f,ref:r}:{},{children:v}=e,w=D.useMemo(()=>lt(v)?v.get():v,[v]);return D.createElement(t,{...g,children:w})}function ET({scrapeMotionValuesFromProps:t,createRenderState:e},r,i,a){return{latestValues:CT(r,i,a,t),renderState:e()}}function CT(t,e,r,i){const a={},l=i(t,{});for(const w in l)a[w]=Mo(l[w]);let{initial:c,animate:h}=t;const f=ta(t),m=ly(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=r?r.initial===!1:!1;g=g||c===!1;const v=g?h:c;if(v&&typeof v!="boolean"&&!ea(v)){const w=Array.isArray(v)?v:[v];for(let _=0;_<w.length;_++){const k=Ic(t,w[_]);if(k){const{transitionEnd:T,transition:P,...R}=k;for(const I in R){let j=R[I];if(Array.isArray(j)){const U=g?j.length-1:0;j=j[U]}j!==null&&(a[I]=j)}for(const I in T)a[I]=T[I]}}}return a}const Vy=t=>(e,r)=>{const i=D.useContext(na),a=D.useContext(Zo),l=()=>ET(t,e,i,a);return r?l():mc(l)},PT=Vy({scrapeMotionValuesFromProps:Fc,createRenderState:Wc}),AT=Vy({scrapeMotionValuesFromProps:xy,createRenderState:$y}),RT=Symbol.for("motionComponentSymbol");function jT(t,e,r){const i=D.useRef(r);D.useInsertionEffect(()=>{i.current=r});const a=D.useRef(null);return D.useCallback(l=>{var h;l&&((h=t.onMount)==null||h.call(t,l)),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const f=c(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const Uy=D.createContext({});function Ks(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NT(t,e,r,i,a,l){var P,R;const{visualElement:c}=D.useContext(na),h=D.useContext(Iy),f=D.useContext(Zo),m=D.useContext(zc).reducedMotion,g=D.useRef(null);i=i||h.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:c,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const v=g.current,w=D.useContext(Uy);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&OT(g.current,r,a,w);const _=D.useRef(!1);D.useInsertionEffect(()=>{v&&_.current&&v.update(r,f)});const k=r[qg],T=D.useRef(!!k&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,k))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,k)));return cg(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),T.current&&v.animationState&&v.animationState.animateChanges())}),D.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,k)}),T.current=!1),v.enteringChildren=void 0)}),v}function OT(t,e,r,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:By(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Ks(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:m})}function By(t){if(t)return t.options.allowProjection!==!1?t.projection:By(t.parent)}function _u(t,{forwardMotionProps:e=!1,type:r}={},i,a){i&&pT(i);const l=r?r==="svg":Hc(t),c=l?AT:PT;function h(m,g){let v;const w={...D.useContext(zc),...m,layoutId:IT(m)},{isStatic:_}=w,k=wT(m),T=c(m,_);if(!_&&ug){DT();const P=LT(w);v=P.MeasureLayout,k.visualElement=NT(t,T,w,a,P.ProjectionNode,l)}return x.jsxs(na.Provider,{value:k,children:[v&&k.visualElement?x.jsx(v,{visualElement:k.visualElement,...w}):null,TT(t,m,jT(T,k.visualElement,g),T,_,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=D.forwardRef(h);return f[RT]=t,f}function IT({layoutId:t}){const e=D.useContext(pc).id;return e&&t!==void 0?e+"-"+t:t}function DT(t,e){D.useContext(Iy).strict}function LT(t){const e=Dy(),{drag:r,layout:i}=e;if(!r&&!i)return{};const a={...r,...i};return{MeasureLayout:r!=null&&r.isEnabled(t)||i!=null&&i.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function MT(t,e){if(typeof Proxy>"u")return _u;const r=new Map,i=(l,c)=>_u(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(r.has(c)||r.set(c,_u(c,void 0,t,e)),r.get(c))})}const $T=(t,e)=>e.isSVG??Hc(t)?new gb(e):new cb(e,{allowProjection:t!==D.Fragment});class VT extends Bn{constructor(e){super(e),e.animationState||(e.animationState=_b(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ea(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let UT=0;class BT extends Bn{constructor(){super(...arguments),this.id=UT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const FT={animation:{Feature:VT},exit:{Feature:BT}};function pi(t){return{point:{x:t.pageX,y:t.pageY}}}const zT=t=>e=>$c(e)&&t(e,pi(e));function Qs(t,e,r,i){return ui(t,e,zT(r),i)}const Fy=({current:t})=>t?t.ownerDocument.defaultView:null,Em=(t,e)=>Math.abs(t-e);function WT(t,e){const r=Em(t.x,e.x),i=Em(t.y,e.y);return Math.sqrt(r**2+i**2)}const Cm=new Set(["auto","scroll"]);class zy{constructor(e,r,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ku(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,T=WT(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!T)return;const{point:P}=_,{timestamp:R}=nt;this.history.push({...P,timestamp:R});const{onStart:I,onMove:j}=this.handlers;k||(I&&I(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,_)},this.handlePointerMove=(_,k)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Su(k,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(_,k)=>{this.end();const{onEnd:T,onSessionEnd:P,resumeAnimation:R}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=ku(_.type==="pointercancel"?this.lastMoveEventInfo:Su(k,this.transformPagePoint),this.history);this.startEvent&&T&&T(_,I),P&&P(_,I)},!$c(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=pi(e),m=Su(f,this.transformPagePoint),{point:g}=m,{timestamp:v}=nt;this.history=[{...g,timestamp:v}];const{onSessionStart:w}=r;w&&w(e,ku(m,this.history)),this.removeListeners=di(Qs(this.contextWindow,"pointermove",this.handlePointerMove),Qs(this.contextWindow,"pointerup",this.handlePointerUp),Qs(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let r=e.parentElement;for(;r;){const i=getComputedStyle(r);(Cm.has(i.overflowX)||Cm.has(i.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-r.x,y:a.y-r.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Ce.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Vn(this.updatePoint)}}function Su(t,e){return e?{point:e(t.point)}:t}function Pm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ku({point:t},e){return{point:t,delta:Pm(t,Wy(e)),offset:Pm(t,HT(e)),velocity:KT(e,.1)}}function HT(t){return t[0]}function Wy(t){return t[t.length-1]}function KT(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const a=Wy(t);for(;r>=0&&(i=t[r],!(a.timestamp-i.timestamp>hn(e)));)r--;if(!i)return{x:0,y:0};const l=Dt(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function qT(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?Oe(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?Oe(r,t,i.max):Math.min(t,r)),t}function Am(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function GT(t,{top:e,left:r,bottom:i,right:a}){return{x:Am(t.x,r,a),y:Am(t.y,e,i)}}function Rm(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function JT(t,e){return{x:Rm(t.x,e.x),y:Rm(t.y,e.y)}}function YT(t,e){let r=.5;const i=ht(t),a=ht(e);return a>i?r=ii(e.min,e.max-i,t.min):i>a&&(r=ii(t.min,t.max-a,e.min)),tn(0,1,r)}function XT(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const rc=.35;function QT(t=rc){return t===!1?t=0:t===!0&&(t=rc),{x:jm(t,"left","right"),y:jm(t,"top","bottom")}}function jm(t,e,r){return{min:Nm(t,e),max:Nm(t,r)}}function Nm(t,e){return typeof t=="number"?t:t[e]||0}const ZT=new WeakMap;class eE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{r?(this.stopAnimation(),this.snapToCursor(pi(v).point)):this.pauseAnimation()},c=(v,w)=>{this.stopAnimation();const{drag:_,dragPropagation:k,onDragStart:T}=this.getProps();if(_&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bk(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),It(R=>{let I=this.getAxisMotionValue(R).get()||0;if(en.test(I)){const{projection:j}=this.visualElement;if(j&&j.layout){const U=j.layout.layoutBox[R];U&&(I=ht(U)*(parseFloat(I)/100))}}this.originPoint[R]=I}),T&&Ce.postRender(()=>T(v,w)),Yu(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:k,onDirectionLock:T,onDrag:P}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:R}=w;if(k&&this.currentDirection===null){this.currentDirection=tE(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,R),this.updateAxis("y",w.point,R),this.visualElement.render(),P&&P(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>It(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new zy(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:Fy(this.visualElement),element:this.visualElement.current})}stop(e,r){const i=e||this.latestPointerEvent,a=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Ce.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Io(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=qT(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Ks(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=GT(i.layoutBox,e):this.constraints=!1,this.elastic=QT(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&It(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=XT(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ks(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=sb(i,a.root,this.visualElement.getTransformPagePoint());let c=JT(a.layout.layoutBox,l);if(r){const h=r(tb(c));this.hasMutatedConstraints=!!h,h&&(c=dy(h))}return c}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=It(g=>{if(!Io(g,r,this.currentDirection))return;let v=f&&f[g]||{};c&&(v={min:0,max:0});const w=a?200:1e6,_=a?40:1e7,k={type:"inertia",velocity:i?e[g]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return Yu(this.visualElement,e),i.start(Oc(e,i,0,r,this.visualElement,!1))}stopAnimation(){It(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){It(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){It(r=>{const{drag:i}=this.getProps();if(!Io(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(r);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[r],f=l.get()||0;l.set(e[r]-Oe(c,h,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Ks(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};It(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=YT({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),It(c=>{if(!Io(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];h.set(Oe(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;ZT.set(this.visualElement,this);const e=this.visualElement.current,r=Qs(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!iy(f.target)&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Ks(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ce.read(i);const c=ui(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(It(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=rc,dragMomentum:h=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Io(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function tE(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class nE extends Bn{constructor(e){super(e),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new eE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Om=t=>(e,r)=>{t&&Ce.postRender(()=>t(e,r))};class rE extends Bn{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(e){this.session=new zy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Om(e),onStart:Om(r),onMove:i,onEnd:(l,c)=>{delete this.session,a&&Ce.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Qs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let bu=!1;class sE extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(r.group&&r.group.add(l),i&&i.register&&a&&i.register(l),bu&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),$o.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,bu=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ce.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mc.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;bu=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hy(t){const[e,r]=Oy(),i=D.useContext(pc);return x.jsx(sE,{...t,layoutGroup:i,switchLayoutGroup:D.useContext(Uy),isPresent:e,safeToRemove:r})}const iE={pan:{Feature:rE},drag:{Feature:nE,ProjectionNode:Ny,MeasureLayout:Hy}};function Im(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,l=i[a];l&&Ce.postRender(()=>l(e,pi(e)))}class oE extends Bn{mount(){const{current:e}=this.node;e&&(this.unmount=Fk(e,(r,i)=>(Im(this.node,i,"Start"),a=>Im(this.node,a,"End"))))}unmount(){}}class aE extends Bn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=di(ui(this.node.current,"focus",()=>this.onFocus()),ui(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Dm(t,e,r){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),l=i[a];l&&Ce.postRender(()=>l(e,pi(e)))}class lE extends Bn{mount(){const{current:e}=this.node;e&&(this.unmount=Hk(e,(r,i)=>(Dm(this.node,i,"Start"),(a,{success:l})=>Dm(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sc=new WeakMap,Tu=new WeakMap,uE=t=>{const e=sc.get(t.target);e&&e(t)},cE=t=>{t.forEach(uE)};function dE({root:t,...e}){const r=t||document;Tu.has(r)||Tu.set(r,{});const i=Tu.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(cE,{root:t,...e})),i[a]}function hE(t,e,r){const i=dE(e);return sc.set(t,r),i.observe(t),()=>{sc.delete(t),i.unobserve(t)}}const fE={some:0,all:1};class pE extends Bn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:fE[a]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=m?g:v;w&&w(f)};return hE(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(mE(e,r))&&this.startObserver()}unmount(){}}function mE({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const gE={inView:{Feature:pE},tap:{Feature:lE},focus:{Feature:aE},hover:{Feature:oE}},yE={layout:{ProjectionNode:Ny,MeasureLayout:Hy}},vE={...FT,...gE,...iE,...yE},wt=MT(vE,$T);function Lm({user:t,onSearch:e,onGoHome:r,onGoPools:i}){var _;const[a,l]=D.useState(!1),[c,h]=D.useState(!1),[f,m]=D.useState(""),g=async()=>{try{await $n.auth.signOut(),window.location.href="/"}catch(k){console.error(k)}},v=()=>{e(f)},w=[{name:"Home",onClick:r},{name:"DJ Pools",onClick:i},{name:"Latest Uploads",href:"#latest"},{name:"Top Charts",href:"#charts"},{name:"Retro Vault",href:"#retro"}];return x.jsx("nav",{className:"fixed top-0 left-0 right-0 z-[60] bg-[#0a0a0a]/95 backdrop-blur-md border-b border-white/5 h-20",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-full flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-10",children:[x.jsxs("div",{onClick:r,className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",children:[x.jsx("div",{className:"bg-[#ff0055] p-1.5 rounded-lg shadow-[0_0_15px_rgba(255,0,85,0.4)]",children:x.jsx(dc,{className:"w-5 h-5 text-white"})}),x.jsxs("span",{className:"text-xl font-black text-white italic tracking-tighter uppercase",children:["Music",x.jsx("span",{className:"text-[#ff0055]",children:"Master"})]})]}),x.jsx("div",{className:"hidden lg:flex items-center gap-8",children:w.map(k=>k.onClick?x.jsx("button",{onClick:k.onClick,className:"text-xs font-bold text-gray-400 hover:text-[#ff0055] uppercase tracking-widest transition-all duration-300",children:k.name},k.name):x.jsx("a",{href:k.href,className:"text-xs font-bold text-gray-400 hover:text-white uppercase tracking-widest transition-all duration-300",children:k.name},k.name))})]}),x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsx("div",{className:"relative flex items-center",onMouseEnter:()=>h(!0),onMouseLeave:()=>{f===""&&h(!1)},children:x.jsxs(wt.div,{initial:!1,animate:{width:c?240:40},className:`flex items-center h-10 rounded-xl border transition-colors duration-300 ${c?"bg-white/5 border-white/20":"bg-transparent border-transparent"}`,children:[x.jsx("button",{onClick:v,className:"flex items-center justify-center w-10 h-10 text-gray-400 hover:text-white transition-colors",children:x.jsx(m1,{size:18})}),x.jsx(Sm,{children:c&&x.jsx(wt.input,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},autoFocus:!0,type:"text",placeholder:"Search...",className:"bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-[11px] font-bold text-white uppercase tracking-wider w-full pr-4 shadow-none",value:f,onChange:k=>m(k.target.value),onKeyDown:k=>k.key==="Enter"&&v()})})]})}),t?x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>l(!a),className:`flex items-center gap-3 px-5 py-2.5 rounded-xl border transition-all duration-300 ${a?"bg-white/10 border-white/20":"bg-[#0a0a0a] border-white/10 hover:border-[#ff0055]/50"}`,children:[x.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-tr from-[#ff0055] to-purple-600 flex items-center justify-center",children:x.jsx(A1,{size:12,className:"text-white"})}),x.jsx("span",{className:"text-[10px] font-black uppercase text-white tracking-wider",children:(_=t.email)==null?void 0:_.split("@")[0]}),x.jsx(U_,{size:14,className:`text-gray-400 transition-transform duration-300 ${a?"rotate-180":""}`})]}),x.jsx(Sm,{children:a&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[-1]",onClick:()=>l(!1)}),x.jsxs(wt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-3 w-60 bg-[#111] border border-white/10 rounded-2xl shadow-2xl p-2 overflow-hidden ring-1 ring-white/5",children:[x.jsxs("div",{className:"px-4 py-3 border-b border-white/5 mb-2",children:[x.jsx("p",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest",children:"Signed in as"}),x.jsx("p",{className:"text-xs font-bold text-white truncate",children:t.email})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-[10px] font-bold text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all uppercase tracking-widest",children:[x.jsx(Z_,{size:14})," History"]}),x.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-[10px] font-bold text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all uppercase tracking-widest",children:[x.jsx(y1,{size:14})," Settings"]}),x.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-[10px] font-bold text-[#ff0055] hover:bg-[#ff0055]/10 rounded-lg transition-all uppercase tracking-widest",children:[x.jsx(t1,{size:14})," Support"]}),x.jsx("div",{className:"h-px bg-white/5 my-1"}),x.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-2.5 text-[10px] font-bold text-red-500 hover:bg-red-500/10 rounded-lg transition-all uppercase tracking-widest",children:[x.jsx(o1,{size:14})," Sign Out"]})]})]})]})})]}):x.jsx("button",{onClick:()=>{var k;return(k=document.getElementById("auth-section"))==null?void 0:k.scrollIntoView({behavior:"smooth"})},className:"px-8 py-2.5 bg-[#ff0055] hover:bg-[#d60045] text-white rounded-xl font-black text-[10px] uppercase transition-all duration-300",children:"Login"})]})]})})}function wE({onJoinClick:t}){return x.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-b from-[#0a0a0a] via-[#1a1a1a] to-[#0a0a0a]",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[x.jsx(wt.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-1/4 -left-20 w-96 h-96 bg-[#ff0055] rounded-full blur-[120px] opacity-20"}),x.jsx(wt.div,{animate:{scale:[1,1.3,1],rotate:[0,-90,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-1/4 -right-20 w-96 h-96 bg-[#00d4ff] rounded-full blur-[120px] opacity-20"}),x.jsx(wt.div,{animate:{scale:[1,1.1,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-[#ff6b00] rounded-full blur-[120px] opacity-10"})]}),x.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center pt-20",children:[x.jsx(wt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:x.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold text-white mb-6 leading-tight",children:["Exclusive Music Pool for"," ",x.jsx("span",{className:"bg-gradient-to-r from-[#ff0055] via-[#ff6b00] to-[#00d4ff] bg-clip-text text-transparent",children:"Professional DJs"})]})}),x.jsx(wt.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-xl sm:text-2xl text-gray-400 mb-12 max-w-3xl mx-auto",children:"Daily updated. Curated tracks. Trusted by DJs worldwide."}),x.jsx(wt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex justify-center items-center",children:x.jsxs("button",{onClick:t,className:"group px-12 py-5 bg-gradient-to-r from-[#ff0055] to-[#ff6b00] text-white rounded-xl text-xl font-black uppercase tracking-widest hover:shadow-[0_0_40px_rgba(255,0,85,0.4)] hover:scale-105 transition-all duration-300 flex items-center gap-3",children:["Join the Pool",x.jsx(og,{className:"w-6 h-6 group-hover:translate-x-2 transition-transform"})]})}),x.jsxs(wt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-20 grid grid-cols-3 gap-8 max-w-3xl mx-auto",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-4xl font-bold text-[#ff0055] mb-2 uppercase",children:"50K+"}),x.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Tracks"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-4xl font-bold text-[#ff6b00] mb-2 uppercase",children:"10K+"}),x.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"DJs"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-4xl font-bold text-[#00d4ff] mb-2 uppercase",children:"Daily"}),x.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Updates"})]})]})]})]})}const Mm={"DJ City":"#ff0055","BPM Supreme":"#ff6b00","Club Killers":"#ffcc00","Heavy Hits":"#00ffcc",Beatport:"#00d4ff",LatinRemixes:"#9d00ff","BPM Latino":"#ff00aa",default:"#ffffff"};function $m({tracks:t,selectedGenre:e,onGenreSelect:r,user:i,onPlay:a,currentTrack:l,isPlaying:c}){const h=D.useMemo(()=>e?t.filter(f=>{var m;return(m=f.pool_origin)==null?void 0:m.toLowerCase().includes(e.toLowerCase())}):t,[e,t]);return x.jsx("section",{id:"latest",className:"py-12 bg-black min-h-[400px]",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-8 border-b border-white/10 pb-6 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("h2",{className:"text-4xl font-black text-white italic uppercase tracking-tighter leading-none",children:[e||"LATEST"," ",x.jsx("span",{className:"text-[#ff0055]",children:"UPLOADS"})]}),e&&x.jsxs("button",{onClick:()=>r(null),className:"flex items-center gap-1 px-3 py-1 bg-[#ff0055]/10 border border-[#ff0055]/30 rounded-full text-[#ff0055] text-[10px] font-black uppercase tracking-widest hover:bg-[#ff0055] hover:text-white transition-all",children:[x.jsx(D1,{size:12})," Clear Filter"]})]}),x.jsxs("p",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:["Database: ",h.length," tracks"]})]}),x.jsx("div",{className:"grid grid-cols-1 gap-2",children:h.length>0?h.map(f=>{const m=f.title||f.filename,g=f.artist||"Unknown Artist",v=f.pool_origin||"default",w=Mm[v]||Mm.default,_=l&&l.id===f.id,k=_&&c;return x.jsx("div",{className:`group rounded-xl p-3 transition-all duration-300 ${_?"bg-white/10 border-l-4 shadow-[0_0_30px_rgba(0,0,0,0.5)] scale-[1.01]":"bg-[#0a0a0a] border-l-4 border-white/5 hover:bg-white/[0.03]"}`,style:{borderLeftColor:_?w:`${w}`,boxShadow:_?`0 0 20px ${w}20`:"none"},children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:()=>a(f),className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-transform shadow-lg cursor-pointer ${_?"scale-110":"hover:scale-110"}`,style:{backgroundColor:_?"#fff":"#ff0055"},children:k?x.jsx(lg,{size:16,className:"text-black fill-black"}):x.jsx(Qo,{size:16,className:`ml-0.5 ${_?"text-black fill-black":"text-white fill-white"}`})}),x.jsxs("div",{className:"flex-1 min-w-0 grid grid-cols-1 md:grid-cols-6 gap-4 items-center",children:[x.jsxs("div",{className:"md:col-span-4 text-left",children:[x.jsx("h3",{className:`font-bold truncate uppercase tracking-tight text-sm transition-colors ${_?"text-[#ff0055]":"text-white group-hover:text-[#ff0055]"}`,children:m}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(d1,{size:10,className:"text-gray-600"}),x.jsx("p",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-wider truncate",children:g})]})]}),x.jsx("div",{className:"hidden md:block col-span-1",children:x.jsx("span",{className:"px-3 py-1 bg-white/5 border rounded-md text-[9px] font-black uppercase tracking-widest truncate block text-center",style:{color:w,borderColor:`${w}33`},children:f.pool_origin||"Unknown Pool"})}),x.jsx("div",{className:"md:col-span-1 flex justify-end items-center gap-3",children:x.jsx("a",{href:`${sg}/stream?path=${encodeURIComponent(f.file_path)}&download=true`,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center w-9 h-9 rounded-lg transition-all ${i?"bg-[#ff0055] text-white hover:brightness-110 hover:scale-105 shadow-[0_0_10px_rgba(255,0,85,0.3)]":"bg-white/5 border border-white/10 text-gray-500 cursor-not-allowed"}`,onClick:T=>{i||T.preventDefault()},children:i?x.jsx(hc,{size:16}):x.jsx(fc,{size:14})})})]})]})},`track-${f.id}`)}):x.jsx("div",{className:"py-20 text-center border border-dashed border-white/10 rounded-2xl",children:x.jsx("p",{className:"text-gray-600 font-black uppercase tracking-[0.2em] text-xs",children:t.length===0?"Loading Database...":"No tracks found for this filter"})})})]})})}function Vm(){const t=new Date().getFullYear();return x.jsx("footer",{className:"bg-[#050505] border-t border-white/5 py-12 pb-32",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-10",children:[x.jsxs("div",{className:"max-w-xs",children:[x.jsxs("div",{className:"text-2xl font-black italic uppercase tracking-tighter mb-4",children:[x.jsx("span",{className:"text-white",children:"Music"}),x.jsx("span",{className:"text-[#ff0055]",children:"Master"})]}),x.jsx("p",{className:"text-gray-500 text-[11px] font-bold uppercase tracking-widest leading-relaxed",children:"Private professional resource curated for elite DJs worldwide. Access is strictly restricted to active members."})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 md:gap-12",children:[x.jsxs("div",{className:"flex items-center gap-3 text-gray-400 group cursor-pointer",children:[x.jsx(ag,{size:18,className:"text-[#ff0055]"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-600",children:"Contact"}),x.jsx("span",{className:"text-xs font-bold group-hover:text-white transition-colors",children:"Technical Support"})]})]}),x.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[x.jsx(w1,{size:18,className:"text-[#ff0055]"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-600",children:"Security"}),x.jsx("span",{className:"text-xs font-bold italic",children:"Encrypted Connection"})]})]}),x.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[x.jsx(M1,{size:18,className:"text-[#ff0055]"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-600",children:"Server"}),x.jsx("span",{className:"text-xs font-bold",children:"High-Speed CDN"})]})]})]})]}),x.jsx("div",{className:"mt-16 pt-8 border-t border-white/[0.03]",children:x.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[x.jsxs("p",{className:"text-gray-600 text-[10px] font-bold uppercase tracking-[0.2em]",children:[" ",t," Music Master. All rights reserved."]}),x.jsx("p",{className:"text-[9px] text-gray-800 font-bold uppercase leading-relaxed max-w-2xl lg:text-right",children:"All tracks are provided for promotional use and performance evaluation only. Unauthorized distribution or public resale is strictly prohibited. Music Master operates under professional DJ fair use standards."})]})})]})})}const xE={House:"#ff0055","Tech House":"#ff6b00","Afro House":"#ffcc00","Hip Hop":"#00ffcc","Open Format":"#00d4ff",Latin:"#9d00ff"},_E=["Overall","House","Hip Hop","Latin","Afro House"],SE={Overall:[{position:1,title:"Midnight Pulse (Extended)",artist:"Marco Carola",bpm:128,genre:"Tech House",trend:"up",movement:3},{position:2,title:"Summer Breeze",artist:"Black Coffee",bpm:122,genre:"Afro House",trend:"up",movement:5},{position:3,title:"Club Fever",artist:"Fisher",bpm:125,genre:"House",trend:"same",movement:0},{position:4,title:"Urban Nights",artist:"DJ Premier",bpm:95,genre:"Hip Hop",trend:"down",movement:1},{position:5,title:"Latin Fire (DJ Edit)",artist:"Bad Bunny",bpm:98,genre:"Latin",trend:"up",movement:2},{position:6,title:"Deep Rhythm",artist:"Dixon",bpm:120,genre:"Tech House",trend:"new",movement:0},{position:7,title:"Soul Sensation",artist:"Kerri Chandler",bpm:124,genre:"House",trend:"up",movement:4},{position:8,title:"Trap Wave",artist:"Metro Boomin",bpm:140,genre:"Hip Hop",trend:"down",movement:2},{position:9,title:"Tribal Drums",artist:"Themba",bpm:123,genre:"Afro House",trend:"up",movement:6},{position:10,title:"Reggaeton Heat",artist:"J Balvin",bpm:96,genre:"Latin",trend:"same",movement:0}],House:[{position:1,title:"Club Fever",artist:"Fisher",bpm:125,genre:"House",trend:"up",movement:1},{position:2,title:"Soul Sensation",artist:"Kerri Chandler",bpm:124,genre:"House",trend:"same",movement:0},{position:3,title:"Dance Floor Anthem",artist:"Chris Lake",bpm:126,genre:"House",trend:"up",movement:3},{position:4,title:"Groove Theory",artist:"Green Velvet",bpm:128,genre:"House",trend:"new",movement:0},{position:5,title:"Bass Revolution",artist:"Solardo",bpm:127,genre:"House",trend:"down",movement:2}],"Hip Hop":[{position:1,title:"Urban Nights",artist:"DJ Premier",bpm:95,genre:"Hip Hop",trend:"up",movement:2},{position:2,title:"Trap Wave",artist:"Metro Boomin",bpm:140,genre:"Hip Hop",trend:"same",movement:0},{position:3,title:"Street Anthem",artist:"DJ Khaled",bpm:85,genre:"Hip Hop",trend:"up",movement:1},{position:4,title:"Boom Bap Classic",artist:"The Alchemist",bpm:92,genre:"Hip Hop",trend:"new",movement:0},{position:5,title:"Club Banger",artist:"Mustard",bpm:100,genre:"Hip Hop",trend:"down",movement:3}],Latin:[{position:1,title:"Latin Fire (DJ Edit)",artist:"Bad Bunny",bpm:98,genre:"Latin",trend:"up",movement:1},{position:2,title:"Reggaeton Heat",artist:"J Balvin",bpm:96,genre:"Latin",trend:"same",movement:0},{position:3,title:"Perreo Intenso",artist:"Karol G",bpm:94,genre:"Latin",trend:"up",movement:4},{position:4,title:"Salsa Remix",artist:"Marc Anthony",bpm:102,genre:"Latin",trend:"new",movement:0},{position:5,title:"Bachata Nights",artist:"Romeo Santos",bpm:120,genre:"Latin",trend:"down",movement:1}],"Afro House":[{position:1,title:"Summer Breeze",artist:"Black Coffee",bpm:122,genre:"Afro House",trend:"up",movement:2},{position:2,title:"Tribal Drums",artist:"Themba",bpm:123,genre:"Afro House",trend:"same",movement:0},{position:3,title:"African Spirit",artist:"Shimza",bpm:121,genre:"Afro House",trend:"up",movement:3},{position:4,title:"Jungle Rhythm",artist:"Culoe De Song",bpm:120,genre:"Afro House",trend:"new",movement:0},{position:5,title:"Desert Dance",artist:"Manoo",bpm:119,genre:"Afro House",trend:"down",movement:2}]};function kE({user:t}){const[e,r]=D.useState("Overall"),i=(l,c)=>l==="new"?x.jsx("span",{className:"text-blue-400 text-[10px] font-black italic tracking-widest",children:"NEW"}):l==="up"?x.jsxs("div",{className:"flex items-center gap-1 text-green-500 font-bold",children:[x.jsx(C1,{size:14}),x.jsxs("span",{className:"text-[10px]",children:["+",c]})]}):l==="down"?x.jsxs("div",{className:"flex items-center gap-1 text-red-500 font-bold",children:[x.jsx(T1,{size:14}),x.jsxs("span",{className:"text-[10px]",children:["-",c]})]}):x.jsx(u1,{size:14,className:"text-gray-700"}),a=D.useMemo(()=>SE[e],[e]);return x.jsx("section",{id:"charts",className:"py-24 bg-black",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-16",children:[x.jsxs("h2",{className:"text-5xl font-bold text-white mb-4 italic uppercase tracking-tighter",children:["Top ",x.jsx("span",{className:"text-[#ff0055]",children:"Charts"})]}),x.jsx("p",{className:"text-gray-500 text-[11px] font-bold uppercase tracking-[0.3em]",children:"Most downloaded tracks worldwide"})]}),x.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:_E.map(l=>x.jsx("button",{onClick:()=>r(l),className:`px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-widest transition-all ${e===l?"bg-[#ff0055] text-white shadow-[0_0_15px_rgba(255,0,85,0.4)]":"bg-white/5 text-gray-500 border border-white/10 hover:border-white/30 hover:text-white"}`,children:l},l))}),x.jsx("div",{className:"space-y-3",children:a.map(l=>{const c=xE[l.genre]||"#ff0055";return x.jsxs("div",{className:"group bg-[#0a0a0a] border border-white/5 rounded-xl p-4 flex items-center gap-4 hover:bg-white/[0.03] transition-all",style:{borderLeft:"4px solid #ff0055"},children:[x.jsx("div",{className:"flex-shrink-0 w-8 text-center",children:x.jsx("span",{className:`text-xl font-black italic ${l.position===1?"text-[#ff0055] drop-shadow-[0_0_10px_rgba(255,0,85,0.4)]":"text-gray-800"}`,children:l.position<10?`0${l.position}`:l.position})}),x.jsx("button",{className:"flex-shrink-0 w-10 h-10 bg-[#ff0055] rounded-full flex items-center justify-center shadow-[0_0_15px_rgba(255,0,85,0.2)]",children:x.jsx(Qo,{size:16,className:"text-white fill-white ml-0.5"})}),x.jsxs("div",{className:"flex-1 min-w-0 grid grid-cols-1 md:grid-cols-6 gap-2 md:gap-4 items-center",children:[x.jsxs("div",{className:"md:col-span-2 text-left",children:[x.jsx("h3",{className:"text-white font-black truncate uppercase tracking-tight text-sm group-hover:text-[#ff0055] transition-colors",children:l.title}),x.jsx("p",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-wider",children:l.artist})]}),x.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[x.jsx("span",{className:"text-gray-600 font-black text-[9px] uppercase tracking-widest",children:"BPM"}),x.jsx("span",{className:"text-white font-mono text-xs",children:l.bpm})]}),x.jsx("div",{className:"flex justify-start",children:x.jsx("span",{className:"px-4 py-1 bg-black border rounded-full text-[9px] font-black uppercase tracking-[0.1em]",style:{color:c,borderColor:`${c}33`},children:l.genre})}),x.jsx("div",{className:"flex items-center justify-center",children:i(l.trend,l.movement)}),x.jsx("div",{className:"flex items-center justify-end",children:x.jsxs("button",{className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-[10px] font-black tracking-[0.2em] transition-all ${t?"bg-[#ff0055] text-white hover:scale-105":"bg-white/5 border border-white/10 text-gray-600 hover:text-white"}`,children:[t?x.jsx(hc,{size:14}):x.jsx(fc,{size:14}),x.jsx("span",{children:t?"DOWNLOAD":"LOCKED"})]})})]})]},`${e}-${l.position}`)})})]})})}function bE({url:t,title:e,artist:r,isPlaying:i,onTogglePlay:a}){const l=D.useRef(null),c=D.useRef(null),[h,f]=D.useState(0),[m,g]=D.useState(0),[v,w]=D.useState(0),[_,k]=D.useState(1),[T,P]=D.useState(!1);D.useEffect(()=>{l.current&&(i?l.current.play().catch(W=>console.log("Play error",W)):l.current.pause())},[i,t]),D.useEffect(()=>{l.current&&(l.current.volume=T?0:_)},[_,T]);const R=()=>{P(!T)},I=W=>{const F=parseFloat(W.target.value);k(F),P(F===0)},j=()=>{if(!l.current)return;const W=l.current.currentTime,F=l.current.duration||0;g(W),w(F),f(F?W/F*100:0)},U=W=>{if(!l.current||!c.current||!v)return;const F=c.current.getBoundingClientRect(),le=Math.min(Math.max((W-F.left)/F.width,0),1);l.current.currentTime=le*v},H=W=>{if(!W)return"0:00";const F=Math.floor(W/60),le=Math.floor(W%60).toString().padStart(2,"0");return`${F}:${le}`},K=t?t.includes("?")?`${t}&download=true`:`${t}?download=true`:"#";return x.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 px-4 pb-4",children:[x.jsx("audio",{ref:l,src:t,onTimeUpdate:j,onEnded:()=>a(),crossOrigin:"anonymous"}),x.jsx(wt.div,{initial:{y:100},animate:{y:0},className:"max-w-7xl mx-auto bg-black/95 backdrop-blur-xl border border-white/10 rounded-2xl p-3 shadow-[0_-10px_40px_rgba(0,0,0,0.9)]",children:x.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-[150px] md:min-w-[200px] max-w-[250px]",children:[x.jsx("div",{className:"relative flex-shrink-0",children:x.jsx(wt.div,{animate:i?{rotate:360}:{},transition:{duration:3,repeat:1/0,ease:"linear"},children:x.jsx(dc,{size:38,className:`${i?"text-[#ff0055]":"text-gray-500"} transition-colors duration-500`})})}),x.jsxs("div",{className:"flex flex-col overflow-hidden",children:[x.jsx("p",{className:"text-[#ff0055] text-[8px] font-black uppercase tracking-widest",children:"Now Playing"}),x.jsx("p",{className:"text-white text-xs md:text-sm font-bold truncate",children:e||"Loading..."}),x.jsx("p",{className:"text-gray-400 text-[10px] truncate",children:r})]})]}),x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsx(_1,{size:18,className:"text-gray-400 hover:text-white cursor-pointer"}),x.jsx(wt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:a,className:"w-9 h-9 flex items-center justify-center rounded-full bg-white text-black hover:bg-[#ff0055] hover:text-white transition-colors",children:i?x.jsx(lg,{size:16,fill:"currentColor"}):x.jsx(Qo,{size:16,fill:"currentColor",className:"ml-0.5"})}),x.jsx(k1,{size:18,className:"text-gray-400 hover:text-white cursor-pointer"})]}),x.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[x.jsx("span",{className:"text-[9px] font-mono text-gray-400 w-8 text-right hidden sm:block",children:H(m)}),x.jsxs("div",{ref:c,className:"relative flex-1 h-1.5 bg-white/10 rounded-full cursor-pointer group py-2",onClick:W=>U(W.clientX),children:[x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 left-0 right-0 h-1 bg-white/10 rounded-full pointer-events-none"}),x.jsx("div",{className:"h-1 bg-[#ff0055] rounded-full relative top-1/2 -translate-y-1/2 pointer-events-none transition-all duration-100",style:{width:`${h}%`},children:x.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2.5 h-2.5 bg-white rounded-full shadow-lg scale-0 group-hover:scale-100 transition-transform"})})]}),x.jsx("span",{className:"text-[9px] font-mono text-gray-400 w-8 hidden sm:block",children:H(v)})]}),x.jsxs("div",{className:"flex items-center gap-4 border-l border-white/10 pl-4",children:[x.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[x.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white transition-colors",children:T||_===0?x.jsx(O1,{size:18}):x.jsx(j1,{size:18})}),x.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:T?0:_,onChange:I,className:"w-20 md:w-24 h-1 bg-white/10 rounded-lg appearance-none cursor-pointer accent-[#ff0055] hover:bg-white/20 transition-all"})]}),x.jsx(wt.a,{whileHover:{scale:1.05},href:K,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-8 h-8 rounded-full bg-white/5 border border-white/10 text-white hover:border-[#ff0055] hover:text-[#ff0055] transition-all",children:x.jsx(hc,{size:14})})]})]})})]})}function TE({onToggleCrate:t,crate:e}){const r=[{id:101,title:"Tech House Essentials",subtitle:"DJ Selection",tag:"HOT",bg:"from-purple-900 to-black",img:"https://images.unsplash.com/photo-1571266028243-371695039980?auto=format&fit=crop&q=80&w=800"},{id:102,title:"Melodic Techno Peaks",subtitle:"Afterlife Style",tag:"TRENDING",bg:"from-blue-900 to-black",img:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?auto=format&fit=crop&q=80&w=800"},{id:103,title:"Afro House Rituals",subtitle:"Tribal Beats",tag:"NEW",bg:"from-orange-900 to-black",img:"https://images.unsplash.com/photo-1514525253440-b393452e3383?auto=format&fit=crop&q=80&w=800"},{id:104,title:"Latin Mainstage",subtitle:"Festival Season",tag:"VIRAL",bg:"from-red-900 to-black",img:"https://images.unsplash.com/photo-1533174072545-e8d4aa97edf9?auto=format&fit=crop&q=80&w=800"}];return x.jsx("section",{className:"relative z-10 mt-10 mb-16 px-4",children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx(q_,{className:"text-[#ff0055]",size:28}),x.jsxs("h2",{className:"text-3xl font-black uppercase italic tracking-tighter text-white",children:["Hot ",x.jsx("span",{className:"text-[#ff0055]",children:"Picks"})]})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map(i=>x.jsxs("div",{className:"group relative h-64 w-full rounded-2xl overflow-hidden border border-white/10 cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:border-[#ff0055]/50 shadow-lg",children:[x.jsx("img",{src:i.img,alt:i.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-60 group-hover:opacity-40"}),x.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${i.bg} opacity-80 mix-blend-multiply`}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),x.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-between",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("span",{className:"px-3 py-1 bg-[#ff0055] text-white text-[10px] font-black uppercase tracking-widest rounded-md shadow-[0_0_10px_rgba(255,0,85,0.4)]",children:i.tag}),x.jsx("button",{className:"p-2.5 rounded-full bg-black/20 backdrop-blur-md hover:bg-[#ff0055] transition-colors text-white",children:x.jsx(X_,{size:16})})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-black uppercase italic leading-none mb-2 text-white group-hover:text-[#ff0055] transition-colors drop-shadow-lg",children:i.title}),x.jsx("p",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider mb-4",children:i.subtitle}),x.jsx("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity transform translate-y-2 group-hover:translate-y-0",children:x.jsxs("button",{className:"flex items-center gap-2 text-xs font-black uppercase tracking-widest text-white",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-[#ff0055] flex items-center justify-center shadow-lg",children:x.jsx(Qo,{size:12,fill:"currentColor"})}),"Play Now"]})})]})]})]},i.id))})]})})}function EE(){const[t,e]=D.useState(!1),[r,i]=D.useState(""),[a,l]=D.useState(""),[c,h]=D.useState(!1),[f,m]=D.useState(null),g=async v=>{v.preventDefault(),e(!0),m(null);try{if(c){const{error:w}=await $n.auth.signUp({email:r,password:a});if(w)throw w;m({type:"success",text:"Check your email to confirm registration!"})}else{const{error:w}=await $n.auth.signInWithPassword({email:r,password:a});if(w)throw w}}catch(w){m({type:"error",text:w.message})}finally{e(!1)}};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("form",{onSubmit:g,className:"space-y-4",children:[x.jsxs("div",{className:"relative group",children:[x.jsx(ag,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#ff0055] transition-colors",size:18}),x.jsx("input",{type:"email",placeholder:"Email Address",value:r,onChange:v=>i(v.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-10 pr-4 text-sm focus:outline-none focus:border-[#ff0055] focus:ring-1 focus:ring-[#ff0055] transition-all",required:!0})]}),x.jsxs("div",{className:"relative group",children:[x.jsx(fc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#ff0055] transition-colors",size:18}),x.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:v=>l(v.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-10 pr-4 text-sm focus:outline-none focus:border-[#ff0055] focus:ring-1 focus:ring-[#ff0055] transition-all",required:!0})]}),f&&x.jsx("div",{className:`p-3 rounded-lg text-[10px] font-bold uppercase tracking-widest ${f.type==="success"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:f.text}),x.jsx("button",{type:"submit",disabled:t,className:"w-full bg-[#ff0055] hover:bg-[#e6004d] text-white font-black uppercase tracking-[0.2em] py-4 rounded-xl text-xs transition-all flex items-center justify-center gap-2 shadow-[0_0_20px_rgba(255,0,85,0.3)] disabled:opacity-50",children:t?x.jsx(r1,{className:"animate-spin",size:18}):c?"Create Account":"Access Server"})]}),x.jsx("div",{className:"text-center",children:x.jsx("button",{onClick:()=>h(!c),className:"text-[10px] font-black uppercase tracking-widest text-gray-500 hover:text-white transition-colors",children:c?"Already have access? Log In":"Need access? Request Account"})})]})}const CE=()=>{const[t,e]=D.useState("brands"),[r,i]=D.useState(null),[a,l]=D.useState([]),[c,h]=D.useState([]),[f,m]=D.useState(!1),g={"Beatport New Releases":"beatport.png",Transitions:"Transitions.png",Bootlegs:"bootleg.png","Crate Connect":"crate-connect.png","Cuba Remix":"cubaremixes.png",Redrums:"redrum.png","Spin Back Promos":"spinback-promos.png","Bangerz Army":"bangerzarmy.png","Crack 4 DJs":"Crack4DJS.png","Da Throwbackz":"Throwbacks.png",FRP:"FRP.png",HMC:"HMC.png",Kuts:"KUTS.png",MMP:"MMP.png","Platinum Pool":"POOL_Platinum.png","Traxsource New Releases":"traxsource.png","Unlimited Latin":"UnlimitedLatin.png","Latin Throwback":"latin throwback.png","Latin Remixes":"latinremixes.png","Cuban Pool":"Cuban-Pool.png","Dale Mas Bajo":"Dale-Mas-Bajo.png","Elite Remix":"Elite-Remix.png"};return D.useEffect(()=>{t==="brands"&&(async()=>{m(!0);const{data:w,error:_}=await $n.from("dj_tracks").select("pool_id");if(!_&&w){const k=[...new Set(w.map(T=>T.pool_id))];l(k.sort())}m(!1)})()},[t]),D.useEffect(()=>{t==="dates"&&r&&(async()=>{m(!0);const{data:w,error:_}=await $n.from("dj_tracks").select("drop_month, drop_day").eq("pool_id",r).order("drop_day",{ascending:!1});if(!_&&w){const k=w.filter((T,P,R)=>R.findIndex(I=>I.drop_day===T.drop_day&&I.drop_month===T.drop_month)===P);h(k)}m(!1)})()},[t,r]),t==="brands"?x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",children:f?x.jsx("div",{className:"col-span-full flex justify-center py-20",children:x.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-[#ff0055]"})}):a.map(v=>{const _=`/pools/${g[v]||`${v.toLowerCase().replace(/\s/g,"")}.png`}`,k=v==="Bangerz Army";return x.jsxs("button",{onClick:()=>{i(v),e("dates")},className:"group aspect-square bg-[#0a0a0a] border border-white/10 rounded-3xl flex items-center justify-center overflow-hidden transition-all duration-500 hover:border-[#ff0055] hover:shadow-[0_0_35px_rgba(255,0,85,0.35)]",children:[x.jsx("img",{src:_,alt:v,className:`w-full h-full transition-all duration-500 opacity-70 group-hover:opacity-100 group-hover:scale-110 group-hover:drop-shadow-[0_0_15px_rgba(255,255,255,0.4)] ${k?"object-cover":"object-contain p-5"}`,onError:T=>{T.target.style.display="none",T.target.nextSibling.style.display="flex"}}),x.jsxs("div",{style:{display:"none"},className:"flex-col items-center justify-center p-4 text-center",children:[x.jsx(dc,{size:30,className:"mx-auto mb-2 text-[#ff0055] opacity-40 group-hover:opacity-100"}),x.jsx("span",{className:"text-[10px] font-bold uppercase block leading-tight text-gray-400 group-hover:text-white",children:v})]})]},v)})}):x.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:()=>e("brands"),className:"p-3 rounded-full border border-white/10 hover:bg-[#ff0055] hover:border-[#ff0055] transition-all group shadow-2xl",children:x.jsx($_,{size:20,className:"group-hover:scale-110"})}),x.jsxs("h2",{className:"text-2xl font-black italic uppercase tracking-tighter",children:[x.jsx("span",{className:"text-[#ff0055]",children:r})," Drops"]})]}),x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-4",children:c.map((v,w)=>x.jsxs("div",{className:"group h-32 bg-[#111] border border-white/5 rounded-2xl flex flex-col items-center justify-center transition-all duration-300 hover:border-[#ff0055] hover:shadow-[0_0_25px_rgba(255,0,85,0.2)] hover:scale-105 cursor-pointer",children:[x.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:v.drop_month}),x.jsx("span",{className:"text-4xl font-black text-white group-hover:text-[#ff0055] transition-colors",children:v.drop_day})]},w))})]})};function PE(){const[t,e]=D.useState(null),[r,i]=D.useState(!0),[a,l]=D.useState("home"),[c,h]=D.useState(1),f=10,[m,g]=D.useState(null),[v,w]=D.useState(""),[_,k]=D.useState([]),[T,P]=D.useState([]),[R,I]=D.useState(null),[j,U]=D.useState(!1),H=D.useMemo(()=>_.filter(te=>{const fe=!m||te.pool_origin===m,ae=v.toLowerCase().trim(),B=(te.title||te.filename||"").toLowerCase(),J=(te.artist||"").toLowerCase(),q=!ae||B.includes(ae)||J.includes(ae);return fe&&q}),[_,m,v]),K=Math.ceil(H.length/f),W=D.useMemo(()=>{const te=(c-1)*f;return H.slice(te,te+f)},[H,c]),F=te=>{var fe;h(te),(fe=document.getElementById("latest"))==null||fe.scrollIntoView({behavior:"smooth"})},le=te=>{w(te),h(1),te.trim()!==""?(l("search"),window.scrollTo({top:0,behavior:"smooth"})):l("home")},we=()=>{w(""),g(null),h(1),l("home"),window.scrollTo({top:0,behavior:"smooth"})},Ve=()=>{l("pools"),window.scrollTo({top:0,behavior:"smooth"})},Ge=te=>{if(R&&R.id===te.id)U(!j);else{const fe=`${sg}/stream?path=${encodeURIComponent(te.file_path)}`;I({...te,streamUrl:fe}),U(!0)}},ze=te=>{P(fe=>fe.find(B=>B.id===te.id)?fe.filter(B=>B.id!==te.id):fe.length<50?[...fe,te]:fe)},rt=te=>{var fe;g(ae=>ae===te?null:te),h(1),a!=="home"&&l("home"),(fe=document.getElementById("latest"))==null||fe.scrollIntoView({behavior:"smooth",block:"start"})};return D.useEffect(()=>{let te=!0;(async()=>{try{const{data:{session:J}}=await $n.auth.getSession();te&&(e((J==null?void 0:J.user)??null),i(!1))}catch{te&&i(!1)}const{data:B}=await $n.from("tracks").select("*").order("created_at",{ascending:!1}).limit(200);B&&te&&k(B)})();const{data:ae}=$n.auth.onAuthStateChange((B,J)=>{te&&e((J==null?void 0:J.user)??null)});return()=>{te=!1,ae.subscription.unsubscribe()}},[]),r?x.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-[#ff0055]"})}):t?x.jsxs("div",{className:"min-h-screen bg-[#050505] font-sans text-white antialiased relative selection:bg-[#ff0055] selection:text-white",children:[x.jsx(Lm,{user:t,onSearch:le,onGoHome:we,onGoPools:Ve}),x.jsx("main",{className:"pt-32 pb-40",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a==="search"&&x.jsxs("section",{className:"space-y-12 animate-in fade-in duration-500",children:[x.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-8",children:[x.jsxs("h2",{className:"text-4xl font-black uppercase italic tracking-tighter text-white",children:["Search ",x.jsx("span",{className:"text-[#ff0055]",children:"Results"})]}),x.jsx("button",{onClick:we,className:"text-xs font-bold text-gray-500 hover:text-white uppercase tracking-widest border border-white/10 px-4 py-2 rounded-full",children:" Back"})]}),x.jsx($m,{tracks:W,selectedGenre:null,onGenreSelect:()=>{},onToggleCrate:ze,crate:T,user:t,onPlay:Ge,currentTrack:R,isPlaying:j})]}),a==="pools"&&x.jsxs("section",{className:"pt-10 animate-in slide-in-from-bottom-4 duration-700",children:[x.jsxs("div",{className:"text-center mb-16",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"p-4 rounded-full bg-[#ff0055]/10 border border-[#ff0055]/20 shadow-[0_0_30px_rgba(255,0,85,0.2)]",children:x.jsx(J_,{className:"text-[#ff0055]",size:40})})}),x.jsxs("h2",{className:"text-5xl md:text-7xl font-black uppercase italic tracking-tighter text-white mb-4",children:["Professional ",x.jsx("br",{}),x.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff0055] to-purple-600",children:"DJ Pools "})]})]}),x.jsx(CE,{})]}),a==="home"&&x.jsxs("div",{className:"space-y-32",children:[x.jsx(TE,{onToggleCrate:ze,crate:T}),x.jsxs("section",{id:"latest",className:"scroll-mt-32",children:[x.jsx($m,{tracks:W,selectedGenre:m,onGenreSelect:rt,onToggleCrate:ze,crate:T,user:t,onPlay:Ge,currentTrack:R,isPlaying:j}),K>1&&x.jsxs("div",{className:"flex justify-center items-center gap-2 mt-16 pb-10",children:[x.jsx("button",{disabled:c===1,onClick:()=>F(c-1),className:"p-2.5 rounded-xl border border-white/10 text-gray-400 hover:bg-white/5 hover:text-white disabled:opacity-20 transition-all mr-2",children:x.jsx(F_,{size:18})}),Array.from({length:K},(te,fe)=>fe+1).map(te=>te===1||te===K||te>=c-1&&te<=c+1?x.jsx("button",{onClick:()=>F(te),className:`w-10 h-10 rounded-xl font-black text-[11px] transition-all duration-300 ${c===te?"bg-[#ff0055] text-white shadow-[0_0_20px_rgba(255,0,85,0.4)]":"bg-white/5 text-gray-500 hover:bg-white/10 hover:text-white border border-white/5"}`,children:te},te):te===c-2||te===c+2?x.jsx("span",{className:"text-gray-600 px-1",children:"..."},te):null),x.jsx("button",{disabled:c===K,onClick:()=>F(c+1),className:"p-2.5 rounded-xl border border-white/10 text-gray-400 hover:bg-white/5 hover:text-white disabled:opacity-20 transition-all ml-2",children:x.jsx(og,{size:18})})]})]}),x.jsx("div",{id:"charts",className:"bg-[#0a0a0a] rounded-3xl border border-white/5 p-8",children:x.jsx(kE,{user:t})})]})]})}),x.jsx(Vm,{}),R&&x.jsx(bE,{url:R.streamUrl||"",title:R.title||R.filename,artist:R.artist||R.pool_origin||"Unknown",isPlaying:j,onTogglePlay:()=>U(!j)})]}):x.jsxs("div",{className:"min-h-screen bg-black text-white antialiased",children:[x.jsx(Lm,{user:null,onSearch:le,onGoHome:we,onGoPools:Ve}),x.jsx(wE,{onJoinClick:()=>{var te;return(te=document.getElementById("auth-section"))==null?void 0:te.scrollIntoView({behavior:"smooth"})}}),x.jsx("main",{className:"max-w-7xl mx-auto px-4 py-20",children:x.jsxs("div",{id:"auth-section",className:"max-w-md mx-auto bg-[#0a0a0a] border border-white/10 p-10 rounded-3xl shadow-2xl",children:[x.jsxs("h2",{className:"text-2xl font-black uppercase italic mb-8 text-center tracking-tighter",children:["DJ ",x.jsx("span",{className:"text-[#ff0055]",children:"Access"})]}),x.jsx(EE,{})]})}),x.jsx(Vm,{})]})}const Um=document.getElementById("root");Um&&Qv.createRoot(Um).render(x.jsx(Kv.StrictMode,{children:x.jsx(PE,{})}));
